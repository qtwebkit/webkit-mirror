<!DOCTYPE html>
<html>
<head>
<style type="text/css">
    .region {
        -webkit-flow-from: flow;
        height: 120px;
        width: 300px;
        float: left;
    }

    #content {
        -webkit-flow-into: flow;
        margin-top: 50px;
        font-family: Ahem;
        font-size: 12px;
    }

    #one {
        background-color: green;
        width: 100px;
        height: 100px;
    }
    #two {
        width: 10px;
        height: 10px;
        background-color: blue;
    }

    #inlineblock {
        display: inline-block;
        background-color: blue;
        padding: 10px;
    }

    #boxonline {
        background-color: green;
    }

    #outside {
        border: thin solid red;
        margin: 5px;
    }
</style>
</head>
<body>
    <p>Test for <a href="https://bugs.webkit.org/show_bug.cgi?id=132859">[CSS Regions] Assertion failure in some cases with inline blocks</a>. The test passes if there is no crash.</p>
    <div class="region"></div>
    <div class="region"></div>

    <div id="content"><div id="outside">AAA<br/>AAA<br/>AAA<br/>AAA<br/><div id="inlineblock"><div id="boxonline">A</div></div></br>AAA</div></div>

    <script>
    if (window.testRunner)
        testRunner.dumpAsText();

    document.body.offsetTop;
    document.getElementById("content").style.marginTop = "0px";
    document.body.offsetTop;
    document.body.removeChild(document.getElementById("content"));
    document.body.offsetTop;
    </script>
</body>
</html>
