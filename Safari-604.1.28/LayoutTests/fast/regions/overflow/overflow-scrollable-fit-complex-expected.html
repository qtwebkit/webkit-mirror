<!doctype html>
<html style="font: 16px/1.25 monospace;">
    <head>
        <style>
            .content {
                font-family: Ahem;
                font-size: 12px;
            }

            .no_overflow { margin: 2px; }

            .region1 { border: 1px solid green; }
            .region2 { border: 1px solid blue; }
            .region3 { border: 1px solid yellow; }

            .region {
                height: 100px;
                width: 100%;
                box-sizing: border-box;
            }

            #container {
                position: relative;
                border: thin solid red;
                overflow: auto;
                overflow-x: hidden;
                height: 200px;
                width: 160px;
                float: left;
            }

            .region21 {
                height: 2em;
            }

        </style>
    </head>
    <body>
        <p>Test that the regions relayout correctly when the flow thread overflow generates scrollbars.</p>
        <p>On success, the first two containers should have scrollbars. The scrollbar in the first container shrinks the first blue region and the content moved to the next region overflows the second container generating a scrollbar. Because the layout algorithm is only 2-step, the yellow regions don't resize</p>
        <div id="container">
            <div class="region21 region2 region">
                <div class="content content2"><p class="no_overflow break">Linetext1</p></div>
            </div>
            <div class="region1 region">
                <div class="content content1">
                    <p class="no_overflow">Linetext1</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                </div>
            </div>
        </div>
        <div id="container">
            <div class="region21 region3 region">
                <div class="content content3">
                    <p class="no_overflow break" style="min-width: max-content;">Linetext1 ZZ</p>
                </div>
            </div>
            <div class="region2 region">
                <div class="content content2">
                    <p class="no_overflow break" style="margin-top: 0px;">ZZ</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                </div>
            </div>
        </div>
        <div id="container">
            <div class="region3 region">
                <div class="content content3">
                    <p class="no_overflow" style="margin-top: 0px;">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                    <p class="no_overflow">Linetext2 Linetext3</p>
                </div>
            </div>
        </div>
    </body>
</html>
