<!DOCTYPE html>
<html>
<body>
<div id="test" contenteditable="true">&#x1F466;&#x1F3FB;&#x1F466;&#x1F3FE;&#x1F3FB;&#x1F466;&#x1F3FE;&#x1F466;&#x1F469;&#x200D;&#x1F469;&#x200D;&#x1F466;&#x1F469;&#x200D;&#x2764;&#xFE0F;&#x200D;&#x1F469;&#x1F468;&#x200D;&#x2764;&#xFE0F;&#x200D;&#x1F468;&#x1F469;&#x200D;&#x2764;&#xFE0F;&#x200D;&#x1F48B;&#x200D;&#x1F469;&#x1F468;&#x200D;&#x2764;&#xFE0F;&#x200D;&#x1F48B;&#x200D;&#x1F468;&#x261D;&#xFE0F;&#x1F3FB;&#x270D;&#x1F3FE;&#x26F9;&#x1F3FE;&#x1F590;&#x1F3FE;&#x1F595;&#x1F3FE;&#x1F918;&#x1F3FE;&#x1F441;&#x200D;&#x1F5E8;&#x1F3CB;&#x1F3FE;&#x1F468;&zwj;&#x1F466;&#x1F468;&zwj;&#x1F466;&zwj;&#x1F466;&#x1F468;&zwj;&#x1F467;&#x1F468;&zwj;&#x1F467;&zwj;&#x1F466;&#x1F468;&zwj;&#x1F467;&zwj;&#x1F467;&#x1F469;&zwj;&#x1F466;&#x1F469;&zwj;&#x1F466;&zwj;&#x1F466;&#x1F469;&zwj;&#x1F467;&#x1F469;&zwj;&#x1F467;&zwj;&#x1F466;&#x1F469;&zwj;&#x1F467;&zwj;&#x1F467;&#x1F3F3;&#xFE0F;&zwj;&#x1F308;&#x1F3F3;&zwj;&#x1F308;&#x1F3C3;&#x1F3FB;&zwj;&#x2640;&#xFE0F;&#x1F3C3;&#x1F3FB;&zwj;&#x2640;&#x1F3C3;&#x1F3FB;&zwj;&#x2642;&#xFE0F;&#x1F3C3;&#x1F3FB;&zwj;&#x2642;&#x1F3C3;&#x1F3FB;&#x1F3C3;&#x1F3FC;&zwj;&#x2640;&#xFE0F;&#x1F3C3;&#x1F3FC;&zwj;&#x2640;&#x1F3C3;&#x1F3FC;&zwj;&#x2642;&#xFE0F;&#x1F3C3;&#x1F3FC;&zwj;&#x2642;&#x1F3C3;&#x1F3FC;&#x1F3C3;&#x1F3FD;&zwj;&#x2640;&#xFE0F;&#x1F3C3;&#x1F3FD;&zwj;&#x2640;&#x1F3C3;&#x1F3FD;&zwj;&#x2642;&#xFE0F;&#x1F3C3;&#x1F3FD;&zwj;&#x2642;&#x1F3C3;&#x1F3FD;&#x1F3C3;&#x1F3FE;&zwj;&#x2640;&#xFE0F;&#x1F3C3;&#x1F3FE;&zwj;&#x2640;&#x1F3C3;&#x1F3FE;&zwj;&#x2642;&#xFE0F;&#x1F3C3;&#x1F3FE;&zwj;&#x2642;&#x1F3C3;&#x1F3FE;&#x1F3C3;&#x1F3FF;&zwj;&#x2640;&#xFE0F;&#x1F3C3;&#x1F3FF;&zwj;&#x2640;&#x1F3C3;&#x1F3FF;&zwj;&#x2642;&#xFE0F;&#x1F3C3;&#x1F3FF;&zwj;&#x2642;&#x1F3C3;&#x1F3FF;&#x1F3C3;&zwj;&#x2640;&#xFE0F;&#x1F3C3;&zwj;&#x2640;&#x1F3C3;&zwj;&#x2642;&#xFE0F;&#x1F3C3;&zwj;&#x2642;&#x1F3C3;&#x1F3C4;&#x1F3FB;&zwj;&#x2640;&#xFE0F;&#x1F3C4;&#x1F3FB;&zwj;&#x2640;&#x1F3C4;&#x1F3FB;&zwj;&#x2642;&#xFE0F;&#x1F3C4;&#x1F3FB;&zwj;&#x2642;&#x1F3C4;&#x1F3FB;&#x1F3C4;&#x1F3FC;&zwj;&#x2640;&#xFE0F;&#x1F3C4;&#x1F3FC;&zwj;&#x2640;&#x1F3C4;&#x1F3FC;&zwj;&#x2642;&#xFE0F;&#x1F3C4;&#x1F3FC;&zwj;&#x2642;&#x1F3C4;&#x1F3FC;&#x1F3C4;&#x1F3FD;&zwj;&#x2640;&#x1f46f;&#x200d;&#x2642;&#x1F3C7;&#x1F3FB;&#x1F3CC;&#x1F3FE;&#x1F926;&#x1F3FB;&#x1F926;&zwj;&#x2640;&#xFE0F;&#x1F926;&#x1F3FB;&zwj;&#x2640;&#xFE0F;&#x1F926;&zwj;&#x2642;&#xFE0F;&#x1F926;&#x1F3FB;&zwj;&#x2642;&#xFE0F;&#x1F926;&zwj;&#x2640;&#x1F926;&#x1F3FB;&zwj;&#x2640;&#x1F926;&zwj;&#x2642;&#x1F926;&#x1F3FB;&zwj;&#x2642;&#x1F937;&#x1F937;&#x1F3FB;&#x1F937;&zwj;&#x2640;&#xFE0F;&#x1F937;&#x1F3FB;&zwj;&#x2640;&#xFE0F;&#x1F937;&zwj;&#x2642;&#xFE0F;&#x1F937;&#x1F3FB;&zwj;&#x2642;&#xFE0F;&#x1F937;&zwj;&#x2640;&#x1F937;&#x1F3FB;&zwj;&#x2640;&#x1F937;&zwj;&#x2642;&#x1F937;&#x1F3FB;&zwj;&#x2642;&#x1F57A;&#x1F3FB;&#x1F919;&#x1F3FB;&#x1F468;&zwj;&#x2695;&#xFE0F;&#x1F468;&#x1F3FB;&zwj;&#x2695;&#xFE0F;&#x1F468;&zwj;&#x2695;&#x1F468;&#x1F3FB;&zwj;&#x2695;&#x1f3f3;&#xfe0f;&#x200d;&#x1f307;&#x1f3f3;&#xfe0f;&#x200d;&#x1f306;&#x1f3f3;&#xfe0f;&#x200d;&#x1f305;
</div>
<script src="../../resources/dump-as-markup.js"></script>
<script>
Markup.description("This test verifies that deletions are correct over emoji groups and emoji with variations");
var testElement = document.getElementById('test');
getSelection().setBaseAndExtent(testElement.firstChild, testElement.firstChild.length, testElement.firstChild, testElement.firstChild.length);
Markup.dump("test");
while (testElement.firstChild.length) {
    document.execCommand("Delete");
    Markup.dump("test");
}

</script>
</body>
</html>
