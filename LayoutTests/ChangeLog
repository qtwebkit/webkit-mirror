2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r191731.

    2015-10-29  Said Abou-Hallawa  <sabouhallawa@apple.com>

            Exploitable crash happens when an SVG contains an indirect resource inheritance cycle
            https://bugs.webkit.org/show_bug.cgi?id=150203

            Reviewed by Brent Fulgham.

            Ensure that we do not crash when an SVG has an indirect cyclic resource
            inheritance. Make sure the cyclic resource was just ignored as if it did
            not exist.

            * svg/custom/pattern-content-inheritance-cycle-expected.svg: Added.
            * svg/custom/pattern-content-inheritance-cycle.svg: Added.

2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r192604.

    2015-11-18  Jiewen Tan  <jiewen_tan@apple.com>

            [WK1] Crash loading Blink layout test fast/dom/Window/property-access-on-cached-window-after-frame-removed.html
            https://bugs.webkit.org/show_bug.cgi?id=150198
            <rdar://problem/23136026>

            Reviewed by Brent Fulgham.

            * fast/dom/Window/666869-expected.txt: Added.
            * fast/dom/Window/666869.html: Added.
            Test case is from Mozilla.
            * fast/dom/Window/property-access-on-cached-window-after-frame-removed-expected.txt: Added.
            * fast/dom/Window/property-access-on-cached-window-after-frame-removed.html: Added.
            * fast/dom/Window/resources/window-property-collector.js: Added.
            (collectProperties):
            (emitExpectedResult):
            (collectPropertiesHelper):
            Test case is from Blink r168256:
            https://codereview.chromium.org/131113003
            * platform/mac-wk2/TestExpectations:

2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r192433.

    2015-11-13  Jiewen Tan  <jiewen_tan@apple.com>

            Element::focus() should acquire the ownership of Frame.
            https://bugs.webkit.org/show_bug.cgi?id=150204
            <rdar://problem/23136794>

            Reviewed by Brent Fulgham.

            * editing/selection/focus-iframe-removal-crash-expected.txt: Added.
            * editing/selection/focus-iframe-removal-crash.html: Added.

2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r192389.

    2015-11-12  Zalan Bujtas  <zalan@apple.com>

            Ignore visited background color when deciding if the input renderer needs to be painted natively.
            https://bugs.webkit.org/show_bug.cgi?id=151211
            rdar://problem/21449823

            Reviewed by Antti Koivisto.

            * fast/css/pseudo-visited-background-color-on-input-expected.html: Added.
            * fast/css/pseudo-visited-background-color-on-input.html: Added.

2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r192369.

    2015-11-11  Jon Honeycutt  <jhoneycutt@apple.com>

            popstate event should be dispatched asynchronously
            https://bugs.webkit.org/show_bug.cgi?id=36202
            <rdar://problem/7761279>

            Based on an original patch by Mihai Parparita <mihaip@chromium.org>.

            Reviewed by Brent Fulgham.

            * fast/loader/remove-iframe-during-history-navigation-different-expected.txt: Added.
            * fast/loader/remove-iframe-during-history-navigation-different.html: Added.
            Imported from Blink.
            * fast/loader/remove-iframe-during-history-navigation-same-expected.txt: Added.
            * fast/loader/remove-iframe-during-history-navigation-same.html: Added.
            Ditto.
            * fast/loader/stateobjects/popstate-fires-on-history-traversal.html:
            Modified to account for popstate firing asynchronously.
            * fast/loader/stateobjects/popstate-is-asynchronous-expected.txt: Added.
            * fast/loader/stateobjects/popstate-is-asynchronous.html: Added.
            Based on Mihai's original test. Modified to pass in current WebKit.

2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r192316.

    2015-11-10  Jon Honeycutt  <jhoneycutt@apple.com>

            Crash loading Blink layout test fast/parser/strip-script-attrs-on-input.html
            https://bugs.webkit.org/show_bug.cgi?id=150201
            <rdar://problem/23136478>

            Reviewed by Brent Fulgham.

            * fast/parser/strip-script-attrs-on-input-expected.txt: Added.
            * fast/parser/strip-script-attrs-on-input.html: Added.

2015-12-08  Babak Shafiei  <bshafiei@apple.com>

        Merge r192281.

    2015-11-10  Brent Fulgham  <bfulgham@apple.com>

            Crash running webaudio/panner-loop.html
            https://bugs.webkit.org/show_bug.cgi?id=150200
            <rdar://problem/23136282>

            Reviewed by Jer Noble.

            This is based on the changes in Blink r164822:
            https://codereview.chromium.org/130003002

            * webaudio/panner-loop-expected.txt: Added.
            * webaudio/panner-loop.html: Added.

2015-12-02  Myles C. Maxfield  <mmaxfield@apple.com>

        Unify font-variant-* with font-variant shorthand
        https://bugs.webkit.org/show_bug.cgi?id=149773

        Reviewed by Darin Adler.

        Update tests. Also temporarily skip existing font-features tests until
        https://bugs.webkit.org/show_bug.cgi?id=149774 is fixed.

        * css3/font-variant-parsing-expected.txt:
        * css3/font-variant-parsing.html:
        * fast/css/font-property-priority-expected.txt:
        * fast/css/font-shorthand-expected.txt:
        * fast/css/parsing-font-variant-ligatures-expected.txt:
        * fast/css/parsing-font-variant-ligatures.html:
        * fast/inspector-support/style-expected.txt:
        * fast/text/font-variant-shorthand-expected.txt: Added.
        * fast/text/font-variant-shorthand.html: Added.
        * platform/mac/TestExpectations:
        * platform/mac/fast/writing-mode/broken-ideograph-small-caps-expected.txt:

2015-11-22  Myles C. Maxfield  <mmaxfield@apple.com>

        Font selection should not consult font-variant property
        https://bugs.webkit.org/show_bug.cgi?id=151537

        Reviewed by Simon Fraser.

        * fast/text/font-selection-font-variant-expected.html: Added.
        * fast/text/font-selection-font-variant.html: Added.

2015-10-17  Myles C. Maxfield  <mmaxfield@apple.com>

        Delete FontPlatformData::allowsLigatures()
        https://bugs.webkit.org/show_bug.cgi?id=150286

        Reviewed by Dan Bernstein.

        Make sure it's impossible to turn off required ligatures with CSS.

        * fast/text/required-ligatures-expected.html: Added.
        * fast/text/required-ligatures.html: Added.

2015-10-12  Myles C. Maxfield  <mmaxfield@apple.com>

        Test font-variant-* and font-feature-settings on Yosemite and Mavericks
        https://bugs.webkit.org/show_bug.cgi?id=149778

        Reviewed by Simon Fraser.

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2015-11-03  Ryan Haddad  <ryanhaddad@apple.com>

        Skipping tests added with r191968 on win.
        https://bugs.webkit.org/show_bug.cgi?id=149771

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2015-11-03  Myles C. Maxfield  <mmaxfield@apple.com>

        font-variant-* properties in @font-face declarations should be honored
        https://bugs.webkit.org/show_bug.cgi?id=149771

        Reviewed by Simon Fraser.

        * css3/font-variant-font-face-override-expected.html: Added
        * css3/font-variant-font-face-override.html: Added
        * css3/font-feature-settings-font-face-rendering-expected.html: Added.
        * css3/font-feature-settings-font-face-rendering.html: Added.
        * css3/font-variant-font-face-all-expected.html: Added.
        * css3/font-variant-font-face-all.html: Added.

2015-10-19  Myles C. Maxfield  <mmaxfield@apple.com>

        FontCascade::typesettingFeatures() is not privy to font-variant-* nor font-feature-settings
        https://bugs.webkit.org/show_bug.cgi?id=149775

        Reviewed by Darin Adler.

        * fast/text/multiple-feature-properties-expected.html: Added.
        * fast/text/multiple-feature-properties.html: Added.

2015-12-06  David Kilzer  <ddkilzer@apple.com>

        REGRESSION (r193575): Conflict markers left in test files
        <rdar://problem/23769741>

        When trunk r190192 was merged to safari-601-branch, there were
        some conflict markers left in test files.  This commit resolves
        those conflicts the same way I did when I merged r193575 to
        safari-601.1.46-branch.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:
        - Resolve conflicts to take updated font properties, but to
          ignore -webkit-grid changes.

        * platform/mac/TestExpectations: Remove duplicate entries and
        take expectations for css3/font-* tests from trunk.

2015-12-06  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190999. rdar://problem/23769821

    2015-10-13  Myles C. Maxfield  <mmaxfield@apple.com>

            Unprefix font-kerning
            https://bugs.webkit.org/show_bug.cgi?id=150080

            Reviewed by Sam Weinig.

            This is the last property in CSS3 Fonts which is prefixed.

            * fast/text/font-kerning-expected.html:
            * fast/text/font-kerning.html:

2015-12-06  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190848. rdar://problem/23769770

    2015-10-11  Myles C. Maxfield  <mmaxfield@apple.com>

            Test font-variant-* and font-feature-settings with mocked preinstalled fonts
            https://bugs.webkit.org/show_bug.cgi?id=149777

            Reviewed by Simon Fraser.

            See per-file comments.

            * css3/font-feature-settings-preinstalled-fonts.html: Removed. Superseded by
            css3/font-feature-settings-rendering.html.
            * css3/font-feature-settings-rendering-2-expected.html: Removed.
            * css3/font-feature-settings-rendering-2.html: Removed. Renamed to
            css3/font-feature-settings-rendering.html
            * css3/font-feature-settings-rendering-expected.html: Added.
            * css3/font-feature-settings-rendering.html:
            * css3/font-variant-all-expected.html:
            * css3/font-variant-all.html:
            * css3/resources/FontWithFeatures.otf: Update for new 'name' table.
            * css3/resources/FontWithFeatures.ttf: Ditto.

2015-12-06  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190697. rdar://problem/23769789

    2015-10-07  Myles C. Maxfield  <mmaxfield@apple.com>

            Test font-variant-* and font-feature-settings with TrueType fonts
            https://bugs.webkit.org/show_bug.cgi?id=149776

            Reviewed by Simon Fraser.

            * css3/font-feature-settings-rendering-2-expected.html:
            * css3/font-feature-settings-rendering-2.html:
            * css3/resources/FontWithFeatures.ttf: Added.

2015-09-23  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] [Font Features] Implement font-variant-*
        https://bugs.webkit.org/show_bug.cgi?id=148413

        Reviewed by Darin Adler.

        Updating tests because font-variant-ligatures is being unprefixed.

        Also, update css3/resources/FontWithFeatures.otf to support "lnum" feature.

        * css3/font-feature-settings-rendering-2-expected.html:
        * css3/font-feature-settings-rendering-2.html:
        * css3/font-variant-all-webfont-expected.html: Added.
        * css3/font-variant-all-webfont.html: Added.
        * css3/font-variant-parsing-expected.txt: Added.
        * css3/font-variant-parsing.html: Added.
        * css3/resources/FontWithFeatures.otf:
        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * fast/css/parsing-font-variant-ligatures.html:
        * fast/text/font-variant-ligatures.html:
        * platform/mac/TestExpectations:
        * svg/css/getComputedStyle-basic-expected.txt:

2015-08-06  Myles C. Maxfield  <mmaxfield@apple.com>

        Font feature settings comparisons are order-dependent and case-dependent
        https://bugs.webkit.org/show_bug.cgi?id=147719

        Reviewed by Benjamin Poulain.

        Make the test insensitive to order and case.

        * css3/font-feature-settings-parsing-expected.txt:
        * css3/font-feature-settings-parsing.html:

2015-08-11  Myles C. Maxfield  <mmaxfield@apple.com>

        [font-features] Map OpenType feature tags to TrueType feature selectors
        https://bugs.webkit.org/show_bug.cgi?id=147819

        Reviewed by Dean Jackson.

        Updated test results.

        * platform/mac/css3/font-feature-settings-preinstalled-fonts-expected.png: Added.
        * platform/mac/css3/font-feature-settings-preinstalled-fonts-expected.txt:

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Rollout r193474. rdar://problem/23732400

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Rollout r193478. rdar://problem/23732400

2015-12-05  David Kilzer  <ddkilzer@apple.com>

        Merge r191981. rdar://problem/23732379

    2015-10-30  Jon Honeycutt  <jhoneycutt@apple.com>

        Implement support for the autocomplete attribute
        https://bugs.webkit.org/show_bug.cgi?id=150731
        rdar://problem/21078968

        Reviewed by Brent Fulgham.

        * fast/forms/autocomplete-tokens-expected.txt: Added.
        * fast/forms/autocomplete-tokens.html: Added.

2015-12-05  Dana Burkart  <dburkart@apple.com>

        Merge r190564. rdar://problem/23769747

    2015-10-05  Myles C. Maxfield  <mmaxfield@apple.com>

            Unprefix -webkit-font-feature-settings
            https://bugs.webkit.org/show_bug.cgi?id=149722

            Reviewed by Sam Weinig.

            * css3/font-feature-settings-parsing.html:
            * css3/font-feature-settings-preinstalled-fonts.html:
            * css3/font-feature-settings-rendering-2.html:
            * css3/font-feature-settings-rendering.html:
            * fast/css/inherited-properties-rare-text-expected.txt:
            * fast/css/inherited-properties-rare-text.html:
            * fast/text/shaping/shaping-script-order.html:
            * fast/text/shaping/shaping-selection-rect.html:
            * fonts/unicode-character-font-crash.html:
            * scrollbars/scrollbar-scrollbarparts-repaint-crash.html:

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r192953. rdar://problem/23581540

    2015-12-01  David Hyatt  <hyatt@apple.com>

            Implement the picture element.
            https://bugs.webkit.org/show_bug.cgi?id=116963

            Reviewed by Dean Jackson.

            * fast/picture: Added.
            * fast/picture/image-picture-1x-expected.txt: Added.
            * fast/picture/image-picture-1x.html: Added.
            * fast/picture/resources: Added.
            * fast/picture/resources/blue_rect.jpg: Added.
            * fast/picture/resources/currentSrcHelper.js: Added.
            (fileName):
            (currentSrcFileName):
            (currentSrcFileNameNoParams):
            * fast/picture/resources/image-set-4x.png: Added.

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191252. rdar://problem/23772905

    2015-10-17  David Hyatt  <hyatt@apple.com>

            Implement the CSS4 'revert' keyword.
            https://bugs.webkit.org/show_bug.cgi?id=149702

            Reviewed by Simon Fraser.

            * fast/css/all-keyword-revert-expected.html: Added.
            * fast/css/all-keyword-revert.html: Added.
            * fast/css/revert-color-expected.html: Added.
            * fast/css/revert-color.html: Added.
            * fast/css/revert-margins-expected.html: Added.
            * fast/css/revert-margins.html: Added.
            * fast/css/variables/all-keyword-revert-expected.html: Added.
            * fast/css/variables/all-keyword-revert.html: Added.
            * fast/css/variables/revert-inheritance-expected.html: Added.
            * fast/css/variables/revert-inheritance.html: Added.
            * fast/css/variables/revert-no-inheritance-expected.html: Added.
            * fast/css/variables/revert-no-inheritance.html: Added.
            * fast/css/variables/revert-variable-reference-expected.html: Added.
            * fast/css/variables/revert-variable-reference.html: Added.

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191178. rdar://problem/23772788

    2015-10-16  David Hyatt  <hyatt@apple.com>

            Implement the "all" CSS property.
            https://bugs.webkit.org/show_bug.cgi?id=116966

            Reviewed by Zalan Bujtas.

            Added tests for the "all property, including a variables test!

            * fast/css/all-keyword-direction-expected.html: Added.
            * fast/css/all-keyword-direction.html: Added.
            * fast/css/all-keyword-inherit-expected.html: Added.
            * fast/css/all-keyword-inherit.html: Added.
            * fast/css/all-keyword-initial-expected.html: Added.
            * fast/css/all-keyword-initial.html: Added.
            * fast/css/all-keyword-unset-expected.html: Added.
            * fast/css/all-keyword-unset.html: Added.
            * fast/css/variables/all-keyword-unset-expected.html: Added.
            * fast/css/variables/all-keyword-unset.html: Added.

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191151. rdar://problem/23772904

    2015-10-15  David Hyatt  <hyatt@apple.com>

            Add support for the CSS 'unset' keyword.
            https://bugs.webkit.org/show_bug.cgi?id=148614

            Reviewed by Dean Jackson.

            * TestExpectations:
            Remove the 3 failing variables tests that used the unset keyword now that they pass.

            * fast/css/unset-keyword-expected.html: Added.
            * fast/css/unset-keyword.html: Added.
            New test for both inherited and initial properties.

            * fast/css/variables/test-suite/129-expected.html: Added.
            * fast/css/variables/test-suite/129.html: Added.
            * fast/css/variables/test-suite/130-expected.html: Added.
            * fast/css/variables/test-suite/130.html: Added.
            * fast/css/variables/test-suite/134-expected.html: Added.
            * fast/css/variables/test-suite/134.html: Added.
            * fast/css/variables/test-suite/failures/129-expected.html: Removed.
            * fast/css/variables/test-suite/failures/129.html: Removed.
            * fast/css/variables/test-suite/failures/130-expected.html: Removed.
            * fast/css/variables/test-suite/failures/130.html: Removed.
            * fast/css/variables/test-suite/failures/134-expected.html: Removed.
            * fast/css/variables/test-suite/failures/134.html: Removed.
            Move these tests into the passing directory.

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190868. rdar://problem/23769584

    2015-10-12  Brent Fulgham  <bfulgham@apple.com>

            [Win] Unreviewed test gardening after r190667.

            Mark fast/css/will-change/will-change-create-stacking-context-inline.html as failing, because
            Windows does not support backdrop-filter.

            * platform/win/TestExpectations:

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190667. rdar://problem/23769584

    2015-10-06  Simon Fraser  <simon.fraser@apple.com>

            will-change should trigger stacking context based purely on properties
            https://bugs.webkit.org/show_bug.cgi?id=148068

            Reviewed by Zalan Bujtas.

            Previously, our will-change implementation didn't trigger stacking context
            on an inline if the will-change property didn't apply to inlines (like 'transform').
            However, this doesn't agree with the CSS-WG consensus (https://lists.w3.org/Archives/Public/www-style/2015Sep/0112.html).

            Change behavior to have stacking context creation behavior for will-change be
            identical for inlines and blocks.

            * platform/mac/TestExpectations: Fails on Mavericks because no backdrop-filter there.
            * fast/css/will-change/resources/will-change-stacking-helper.js:
            (makeStackingInline):
            * fast/css/will-change/will-change-creates-stacking-context-inline-expected.html: Added.
            * fast/css/will-change/will-change-creates-stacking-context-inline.html: Added.

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188604. rdar://problem/23769584

    2015-08-18  Simon Fraser  <simon.fraser@apple.com>

            will-change: backface-visibility should not cause stacking context
            https://bugs.webkit.org/show_bug.cgi?id=148091

            Reviewed by Zalan Bujtas.

            Test that will-change: -webkit-backface-visibility does not create
            stacking context.

            * fast/css/will-change/resources/will-change-stacking-helper.js:

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r189890. rdar://problem/23769735

    2015-09-16  Myles C. Maxfield  <mmaxfield@apple.com>

            Create a font which can be used for testing font features
            https://bugs.webkit.org/show_bug.cgi?id=149237

            Reviewed by Simon Fraser.

            * css3/font-feature-settings-rendering-2-expected.html: Added.
            * css3/font-feature-settings-rendering-2.html: Added.
            * css3/resources/FontWithFeatures.otf: Added.
            * platform/efl/TestExpectations:
            * platform/win/TestExpectations:

2015-12-05  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188146. rdar://problem/23769732

    2015-08-07  Myles C. Maxfield  <mmaxfield@apple.com>

            Implement font-feature-settings
            https://bugs.webkit.org/show_bug.cgi?id=147722

            Reviewed by Simon Fraser.

            Until I can make a custom font for reference tests, use a simple dump-render-tree test.

            * css3/font-feature-settings-preinstalled-fonts.html: Added.
            * platform/mac-yosemite/css3/font-feature-settings-preinstalled-fonts-expected.txt: Added.

2015-12-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191128. rdar://problem/23732363

    2015-10-14  David Hyatt  <hyatt@apple.com>

            Implement CSS Variables.
            https://bugs.webkit.org/show_bug.cgi?id=19660

            Reviewed by Dean Jackson.

            * fast/css/custom-properties/inheritance-expected.html: Added.
            * fast/css/custom-properties/inheritance.html: Added.
            * fast/css/variables: Added.
            * fast/css/variables/custom-property-computed-style-access-expected.html: Added.
            * fast/css/variables/custom-property-computed-style-access.html: Added.
            * fast/css/variables/custom-property-dynamic-update-expected.html: Added.
            * fast/css/variables/custom-property-dynamic-update.html: Added.
            * fast/css/variables/custom-property-simple-cycle-expected.html: Added.
            * fast/css/variables/custom-property-simple-cycle.html: Added.
            * fast/css/variables/inherited-fallback-expected.html: Added.
            * fast/css/variables/inherited-fallback.html: Added.
            * fast/css/variables/invalid-reference-expected.html: Added.
            * fast/css/variables/invalid-reference.html: Added.
            * fast/css/variables/rule-property-get-css-value-expected.html: Added.
            * fast/css/variables/rule-property-get-css-value.html: Added.
            * fast/css/variables/rule-property-get-expected.html: Added.
            * fast/css/variables/rule-property-get.html: Added.
            * fast/css/variables/rule-serialization-expected.html: Added.
            * fast/css/variables/rule-serialization.html: Added.

2015-12-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190209. rdar://problem/23732363

    2015-09-24  David Hyatt  <hyatt@apple.com>

            Add support for CSS Custom Properties (in preparation for implementing CSS Variables).
            https://bugs.webkit.org/show_bug.cgi?id=130397

            Reviewed by Antti Koivisto.

            * fast/css/custom-properties: Added.
            * fast/css/custom-properties/computed-style-access-expected.html: Added.
            * fast/css/custom-properties/computed-style-access-inherited-expected.html: Added.
            * fast/css/custom-properties/computed-style-access-inherited.html: Added.
            * fast/css/custom-properties/computed-style-access.html: Added.
            * fast/css/custom-properties/inline-style-property-get-expected.html: Added.
            * fast/css/custom-properties/inline-style-property-get.html: Added.
            * fast/css/custom-properties/rule-property-get-css-value-expected.html: Added.
            * fast/css/custom-properties/rule-property-get-css-value.html: Added.
            * fast/css/custom-properties/rule-property-get-expected.html: Added.
            * fast/css/custom-properties/rule-property-get.html: Added.
            * fast/css/custom-properties/rule-property-priority-expected.html: Added.
            * fast/css/custom-properties/rule-property-priority.html: Added.
            * fast/css/custom-properties/rule-property-set-expected.html: Added.
            * fast/css/custom-properties/rule-property-set.html: Added.
            * fast/css/custom-properties/rule-serialization-expected.html: Added.
            * fast/css/custom-properties/rule-serialization.html: Added.

2015-12-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191452. rdar://problem/23732400

    2015-10-22  Wenson Hsieh  <wenson_hsieh@apple.com>

            Implement touch-action: manipulation; for iOS
            https://bugs.webkit.org/show_bug.cgi?id=149854
            <rdar://problem/23017145>

            Reviewed by Benjamin Poulain.

            Add tests to check that the manipulation and auto values of the touch-action property can be
            properly parsed and can be obtained through computed style. Also tests that putting touch-action:
            manipulation on an element and tapping repeatedly on it will fire clicks instead of recognizing
            double taps and causing the viewport to zoom.

            * TestExpectations:
            * css3/touch-action/touch-action-computed-style-expected.txt: Added.
            * css3/touch-action/touch-action-computed-style.html: Added.
            * css3/touch-action/touch-action-manipulation-fast-clicks-expected.txt: Added.
            * css3/touch-action/touch-action-manipulation-fast-clicks.html: Added.
            * css3/touch-action/touch-action-parsing-expected.txt: Added.
            * css3/touch-action/touch-action-parsing.html: Added.
            * platform/ios-simulator-wk2/TestExpectations:

2015-12-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191072. rdar://problem/23732400

    2015-10-14  Wenson Hsieh  <wenson_hsieh@apple.com>

            Web pages with unscalable viewports shouldn't have a single tap delay
            https://bugs.webkit.org/show_bug.cgi?id=149968
            <rdar://problem/23054453>

            Reviewed by Simon Fraser.

            Add a layout test to check that when a viewport is unscalable (specified through
            the meta viewport tag) we do not add a delay to our single tap gesture recognizer.

            * fast/events/ios/unscalable-viewport-clicks-on-doubletap-expected.txt: Added.
            * fast/events/ios/unscalable-viewport-clicks-on-doubletap.html: Added.

2015-12-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190595. rdar://problem/23732402

    2015-10-05  Dean Jackson  <dino@apple.com>

            EXT_texture_filter_anisotropic extension exposed with WEBKIT_ prefix
            https://bugs.webkit.org/show_bug.cgi?id=149765
            <rdar://problem/22983722>

            Reviewed by Beth Dakin.

            Simple test that the unprefixed form exists. The actual functionality
            is exercised in the WebGL conformance tests.

            * fast/canvas/webgl/unprefixed-anisotropic-extension-expected.txt: Added.
            * fast/canvas/webgl/unprefixed-anisotropic-extension.html: Added.

2015-12-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190446. rdar://problem/23732367

    2015-10-01  Dean Jackson  <dino@apple.com>

            Expose WEBGL_debug_renderer_info
            https://bugs.webkit.org/show_bug.cgi?id=149735
            <rdar://problem/18343500>

            Reviewed by Simon Fraser.

            Modify a test from the 1.0.2 conformance suite to make sure
            we're actually enabling and passing the info.

            * fast/canvas/webgl/webgl-debug-renderer-info-expected.txt: Added.
            * fast/canvas/webgl/webgl-debug-renderer-info.html: Added.

2015-12-04  Timothy Hatcher  <timothy@apple.com>

        Merge r187897. rdar://problem/23221163

    2015-08-04  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Object previews for SVG elements shows SVGAnimatedString instead of text
            https://bugs.webkit.org/show_bug.cgi?id=147328

            Reviewed by Timothy Hatcher.

            * inspector/model/remote-object-expected.txt:
            * inspector/model/remote-object.html:

2015-12-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188647. rdar://problem/23732386

    2015-08-18  Dean Jackson  <dino@apple.com>

            Support CSS filters without webkit prefix
            https://bugs.webkit.org/show_bug.cgi?id=148138
            <rdar://problem/22331434>

            Reviewed by Sam Weinig.

            Globally change -webkit-filter to filter in as many places as
            possible. Then add a new test that makes sure the prefixed
            and unprefixed value resolve to the same computed style.

            * animations/resources/animation-test-helpers.js:
            (parseCSSImage):
            * css3/filters/backdrop/effect-hw-expected.html:
            * css3/filters/effect-blur-hw.html:
            * css3/filters/effect-blur.html:
            * css3/filters/effect-brightness-clamping-hw.html:
            * css3/filters/effect-brightness-clamping.html:
            * css3/filters/effect-brightness-hw.html:
            * css3/filters/effect-brightness.html:
            * css3/filters/effect-combined-hw.html:
            * css3/filters/effect-combined.html:
            * css3/filters/effect-contrast-hw.html:
            * css3/filters/effect-contrast.html:
            * css3/filters/effect-drop-shadow-hw.html:
            * css3/filters/effect-drop-shadow.html:
            * css3/filters/effect-grayscale-hw.html:
            * css3/filters/effect-grayscale.html:
            * css3/filters/effect-hue-rotate-hw.html:
            * css3/filters/effect-hue-rotate.html:
            * css3/filters/effect-invert-hw.html:
            * css3/filters/effect-invert.html:
            * css3/filters/effect-opacity-hw.html:
            * css3/filters/effect-opacity.html:
            * css3/filters/effect-reference-composite-hw.html:
            * css3/filters/effect-reference-composite.html:
            * css3/filters/effect-reference-hw.html:
            * css3/filters/effect-reference-ordering-hw.html:
            * css3/filters/effect-reference-ordering.html:
            * css3/filters/effect-reference.html:
            * css3/filters/effect-saturate-hw.html:
            * css3/filters/effect-saturate.html:
            * css3/filters/effect-sepia-hw.html:
            * css3/filters/effect-sepia.html:
            * css3/filters/filter-property-computed-style-expected.txt:
            * css3/filters/filter-property-parsing-expected.txt:
            * css3/filters/script-tests/filter-property-computed-style.js:
            (testComputedFilterRule):
            * css3/filters/script-tests/filter-property-parsing.js:
            (testFilterRule):
            * css3/filters/script-tests/unprefixed.js: Copied from LayoutTests/css3/filters/script-tests/filter-property-computed-style.js.
            (testComputedFilterRule):
            * css3/filters/unprefixed-expected.txt: Copied from LayoutTests/css3/filters/filter-property-computed-style-expected.txt.
            * css3/filters/unprefixed.html: Added.
            * fast/css/getComputedStyle/computed-style-expected.txt:
            * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
            * fast/filter-image/clipped-filter-expected.html:
            * fast/filter-image/clipped-filter.html:
            * fast/filter-image/filter-image-animation-expected.txt:
            * fast/filter-image/filter-image-animation.html:
            * fast/filter-image/filter-image-blur.html:
            * fast/filter-image/filter-image-expected.html:
            * fast/filter-image/filter-image-svg.html:
            * fast/filter-image/filter-image.html:
            * fast/filter-image/parse-filter-image-expected.txt:
            * fast/filter-image/parse-filter-image.html:
            * svg/css/getComputedStyle-basic-expected.txt:

2015-12-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188530. rdar://problem/23732374

    2015-08-17  Simon Fraser  <simon.fraser@apple.com>

            will-change should sometimes trigger compositing
            https://bugs.webkit.org/show_bug.cgi?id=148072

            Reviewed by Tim Horton.

            * compositing/layer-creation/will-change-change-expected.txt: Added.
            * compositing/layer-creation/will-change-change.html: Added.
            * compositing/layer-creation/will-change-layer-creation-expected.txt: Added.
            * compositing/layer-creation/will-change-layer-creation.html: Added.

2015-12-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188514. rdar://problem/23732374

    2015-08-15  Simon Fraser  <simon.fraser@apple.com>

            Have will-change create stacking context when necessary
            https://bugs.webkit.org/show_bug.cgi?id=148060

            Reviewed by Zalan Bujtas.

            Ref test for will-change creating stacking context.

            * fast/css/will-change/resources/will-change-stacking-helper.js: Added.
            (makeStackingBlock):
            * fast/css/will-change/will-change-creates-stacking-context-expected.html: Added.
            * fast/css/will-change/will-change-creates-stacking-context.html: Added.
            * platform/efl/TestExpectations: Mark image failure on EFL, since some CSS
            properties in the test are disabled there.

2015-12-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188512. rdar://problem/23732374

    2015-08-14  Simon Fraser  <simon.fraser@apple.com>

            Implement parsing for CSS will-change
            https://bugs.webkit.org/show_bug.cgi?id=148052

            Reviewed by Dean Jackson.

            will-change parsing test.

            * fast/css/will-change-parsing-expected.txt: Added.
            * fast/css/will-change-parsing.html: Added.

2015-12-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190383. rdar://problem/23732393

    2015-09-30  Katlyn Graff  <kgraff@apple.com>

            Tests support for imageSmoothingQuality attribute of Canvas element.
            https://bugs.webkit.org/show_bug.cgi?id=149541

            Reviewed by Ryosuke Niwa.

            Tests low, medium, high, and default values, value persistence when
            imageSmoothingEnabled is changed, and invalid input.

            * fast/canvas/canvas-imageSmoothingQuality-expected.txt: Added.
            * fast/canvas/canvas-imageSmoothingQuality.html: Added.

2015-12-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188194. rdar://problem/23732393

    2015-08-08  Dean Jackson  <dino@apple.com>

            Remove the webkit prefix from CanvasRenderingContext2D imageSmoothingEnabled
            https://bugs.webkit.org/show_bug.cgi?id=147803
            <rdar://problem/22200553>

            Reviewed by Sam Weinig.

            Use the standard version of imageSmoothingEnabled rather than
            the prefixed version.

            * fast/canvas/canvas-imageSmoothingEnabled-expected.txt:
            * fast/canvas/canvas-imageSmoothingEnabled-patterns.html:
            * fast/canvas/canvas-imageSmoothingEnabled-zero-size.html:
            * fast/canvas/script-tests/canvas-imageSmoothingEnabled-repaint.js:
            (draw):
            * fast/canvas/script-tests/canvas-imageSmoothingEnabled.js: Add some tests
            to make sure the prefixed version correctly maps to the standard version.

2015-12-03  Timothy Hatcher  <timothy@apple.com>

        Skip Inspector tests because the new test harness does not work on the branch currently.

        * platform/mac/TestExpectations:

2015-12-03  Timothy Hatcher  <timothy@apple.com>

        Merge r192592. rdar://problem/23221163

    2015-11-18  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Client Blocked Resource Requests causes Crash under InspectorPageAgent::cachedResource
            https://bugs.webkit.org/show_bug.cgi?id=151398

            Reviewed by Brian Burg.

            * inspector/network/client-blocked-load-expected.txt: Added.
            * inspector/network/client-blocked-load.html: Added.

2015-12-03  Timothy Hatcher  <timothy@apple.com>

        Merge r186891. rdar://problem/23221163

    2015-07-16  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: update $$() to return an Array
            https://bugs.webkit.org/show_bug.cgi?id=146964

            Reviewed by Brian Burg.

            * inspector/console/command-line-api-expected.txt: Added.
            * inspector/console/command-line-api.html: Added.
            Add back a command line api test.

            * platform/efl/inspector/console/command-line-api-expected.txt: Removed.
            * platform/mac/inspector/console/command-line-api-expected.txt: Removed.
            Remove old platform expected results for the old version of this test.

            * platform/win/TestExpectations:
            Speculatively skipping on Windows since other inspector/console tests are skipped.

2015-12-03  Timothy Hatcher  <timothy@apple.com>

        Merge r192641. rdar://problem/23221163

    2015-11-19  Brian Burg  <bburg@apple.com>

            REGRESSION(r8780): Backwards delete by word incorrectly appends deleted text to kill ring, should be prepend
            https://bugs.webkit.org/show_bug.cgi?id=151300

            Reviewed by Darin Adler.

            * editing/pasteboard/emacs-killring-alternating-append-prepend-expected.txt: Added.
            * editing/pasteboard/emacs-killring-alternating-append-prepend.html: Added.
            * editing/pasteboard/emacs-killring-backward-delete-prepend-expected.txt: Added.
            * editing/pasteboard/emacs-killring-backward-delete-prepend.html: Added.

2015-12-03  Timothy Hatcher  <timothy@apple.com>

        Merge r192615. rdar://problem/23221163

    2015-11-18  Brian Burg  <bburg@apple.com>

            Web Inspector: Storage tab shouldn't hide cookies for .example.com when inspected page is foo.bar.example.com
            https://bugs.webkit.org/show_bug.cgi?id=151408

            Reviewed by Timothy Hatcher.

            * inspector/page/filter-cookies-for-domain-expected.txt: Added.
            * inspector/page/filter-cookies-for-domain.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r192040. rdar://problem/23221163

    2015-11-04  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Support #rgba and #rrggbbaa syntax
            https://bugs.webkit.org/show_bug.cgi?id=150894

            Reviewed by Timothy Hatcher.

            * inspector/model/color-expected.txt: Added.
            * inspector/model/color.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r191355. rdar://problem/23221163

    2015-10-20  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: JavaScriptCore should parse sourceURL and sourceMappingURL directives
            https://bugs.webkit.org/show_bug.cgi?id=150096

            Reviewed by Geoffrey Garen.

            * inspector/debugger/sourceURLs-expected.txt: Added.
            * inspector/debugger/sourceURLs.html: Added.
            sourceURL and sourceMappingURL detection.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r190780. rdar://problem/23221163

    2015-10-08  Nikita Vasilyev  <nvasilyev@apple.com>

            Web Inspector: Stack trace view doesn't properly display lines without function names
            https://bugs.webkit.org/show_bug.cgi?id=149922

            Test an anomymous function.

            Reviewed by Timothy Hatcher.

            * inspector/debugger/js-stacktrace-expected.txt: Also, rebaseline one old test.
            * inspector/debugger/js-stacktrace.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r190551. rdar://problem/23221163

    2015-10-04  Nikita Vasilyev  <nvasilyev@apple.com>

            Web Inspector: Wrong column numbers in error object views
            https://bugs.webkit.org/show_bug.cgi?id=149795

            Reviewed by Timothy Hatcher.

            * inspector/debugger/js-stacktrace-expected.txt:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r190528. rdar://problem/23221163

    2015-10-02  Devin Rousso  <dcrousso+webkit@gmail.com>

            Web Inspector: Copying inline style text puts "undefined" in the pasteboard
            https://bugs.webkit.org/show_bug.cgi?id=149155

            Reviewed by Brian Burg.

            Added test for generating CSS rule strings with default formatting.

            * inspector/css/generate-css-rule-string.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r190184. rdar://problem/23221163

    2015-09-23  Saam barati  <sbarati@apple.com>

            Web Inspector: Type bubbles missing for computed methods and methods on object literals
            https://bugs.webkit.org/show_bug.cgi?id=148562

            Reviewed by Joseph Pecoraro.

            * inspector/model/parse-script-syntax-tree-expected.txt:
            * inspector/model/parse-script-syntax-tree.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r190146. rdar://problem/23221163

    2015-09-22  Saam barati  <sbarati@apple.com>

            Web Inspector: [ES6] Improve Type Profiler Support for Arrow Functions
            https://bugs.webkit.org/show_bug.cgi?id=143171

            Reviewed by Joseph Pecoraro.

            * inspector/model/parse-script-syntax-tree-expected.txt:
            * inspector/model/parse-script-syntax-tree.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r190110. rdar://problem/23221163

    2015-09-22  Saam barati  <sbarati@apple.com>

            Web Inspector: update Esprima to latest version
            https://bugs.webkit.org/show_bug.cgi?id=148960

            Reviewed by Joseph Pecoraro.

            * inspector/model/parse-script-syntax-tree-expected.txt:
            * inspector/model/parse-script-syntax-tree.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r189761. rdar://problem/23221163

    2015-09-14  Brian Burg  <bburg@apple.com>

            Web Inspector: backend command promises are not rejected when a protocol error occurs
            https://bugs.webkit.org/show_bug.cgi?id=141403

            Reviewed by Joseph Pecoraro.

            Expand coverage of an existing protocol layer test to cover success and failure modes.

            * inspector/protocol/inspector-backend-invocation-return-value-expected.txt:
            * inspector/protocol/inspector-backend-invocation-return-value.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r189415. rdar://problem/23221163

    2015-09-04  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Test Runtime.saveResult and $n values
            https://bugs.webkit.org/show_bug.cgi?id=148837

            Reviewed by Timothy Hatcher.

            * inspector/runtime/parse.html: Remove unncessary debug flag.
            * inspector/runtime/saveResult-expected.txt: Added.
            * inspector/runtime/saveResult.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r189373. rdar://problem/23221163

    2015-09-04  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Expand Console domain test coverage
            https://bugs.webkit.org/show_bug.cgi?id=148740

            Reviewed by Brian Burg.

            Test more Console domain commands and events.

            * inspector/console/addInspectedNode-expected.txt: Added.
            * inspector/console/addInspectedNode.html: Added.
            * inspector/console/clearMessages-expected.txt: Added.
            * inspector/console/clearMessages.html: Added.
            * inspector/console/messageRepeatCountUpdated-expected.txt: Added.
            * inspector/console/messageRepeatCountUpdated.html: Added.
            * inspector/console/messagesCleared-expected.txt: Added.
            * inspector/console/messagesCleared.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r189104. rdar://problem/23221163

    2015-08-28  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Separate creating a style sheet from adding a new rule in the protocol
            https://bugs.webkit.org/show_bug.cgi?id=148502

            Reviewed by Timothy Hatcher.

            * inspector/css/createStyleSheet-expected.txt: Added.
            * inspector/css/createStyleSheet.html: Added.
            * inspector/css/manager-preferredInspectorStyleSheetForFrame-expected.txt: Added.
            * inspector/css/manager-preferredInspectorStyleSheetForFrame.html: Added.
            * inspector/css/stylesheet-events-inspector-stylesheet-expected.txt:
            * inspector/css/stylesheet-events-inspector-stylesheet.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r189032. rdar://problem/23221163

    2015-08-27  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Standardize on CSSStyleSheet.Type enum and move more protocol enum conversion to the manager
            https://bugs.webkit.org/show_bug.cgi?id=148515

            Reviewed by Brian Burg.

            * inspector/css/matched-style-properties.html:
            * inspector/css/pseudo-element-matches.html:
            * inspector/css/selector-dynamic-specificity.html:
            * inspector/css/selector-specificity.html:
            * inspector/css/stylesheet-with-mutations.html:

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r189002. rdar://problem/23221163

    2015-08-26  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Implement tracking of active stylesheets in the frontend
            https://bugs.webkit.org/show_bug.cgi?id=105828

            Reviewed by Timothy Hatcher.

            * inspector/css/resources/import-level-1.css: Added.
            * inspector/css/resources/import-level-2.css: Added.
            * inspector/css/resources/stylesheet-events-subframe.html: Added.
            * inspector/css/stylesheet-events-basic-expected.txt: Added.
            * inspector/css/stylesheet-events-basic.html: Added.
            * inspector/css/stylesheet-events-imports-expected.txt: Added.
            * inspector/css/stylesheet-events-imports.html: Added.
            * inspector/css/stylesheet-events-inspector-stylesheet-expected.txt: Added.
            * inspector/css/stylesheet-events-inspector-stylesheet.html: Added.
            * inspector/css/stylesheet-events-multiple-documents-expected.txt: Added.
            * inspector/css/stylesheet-events-multiple-documents.html: Added.
            Tests for different ways that StyleSheets can be added / removed.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188965. rdar://problem/23221163

    2015-08-25  Brian Burg  <bburg@apple.com>

            Web Inspector: no need to allocate protocolErrors array for every dispatched backend command
            https://bugs.webkit.org/show_bug.cgi?id=146466

            Reviewed by Joseph Pecoraro.

            * inspector/protocol/backend-dispatcher-argument-errors-expected.txt:
            * inspector/protocol/backend-dispatcher-argument-errors.html:
            Stringify the 'data' member before dumping, since it now contains JSON. Rebaseline it.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188897. rdar://problem/23221163

    2015-08-24  Brian Burg  <bburg@apple.com>

            Web Inspector: add protocol test for existing error handling performed by the backend
            https://bugs.webkit.org/show_bug.cgi?id=147097

            Reviewed by Joseph Pecoraro.

            Add a bunch of test cases to cover existing error handling by the backend dispatcher.

            * inspector/protocol/backend-dispatcher-argument-errors-expected.txt: Added.
            * inspector/protocol/backend-dispatcher-argument-errors.html: Added.
            * inspector/protocol/backend-dispatcher-malformed-message-errors-expected.txt: Added.
            * inspector/protocol/backend-dispatcher-malformed-message-errors.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188756. rdar://problem/23221163

    2015-08-20  Brian Burg  <bburg@apple.com>

            Web Inspector: add a regression test for the fix introduced in r188679
            https://bugs.webkit.org/show_bug.cgi?id=148223

            Reviewed by Joseph Pecoraro.

            Add a regression test to check the number of DOMTree instances that
            listen to DOMTreeManager.

            * TestExpectations: Don't skip the inspector/dom/ directory.
            * http/tests/inspector/dom/disconnect-dom-tree-after-main-frame-navigation-expected.txt: Added.
            * http/tests/inspector/dom/disconnect-dom-tree-after-main-frame-navigation.html: Added.
            * http/tests/inspector/dom/resources/nested-frame-1-deep.html: Added.
            * http/tests/inspector/dom/resources/nested-frame-2-deep.html: Added.
            * http/tests/inspector/dom/resources/nested-frame-base.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188631. rdar://problem/23221163

    2015-08-18  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Links for rules in <style> are incorrect, do not account for <style> offset in the document
            https://bugs.webkit.org/show_bug.cgi?id=148141

            Reviewed by Brian Burg.

            * inspector/css/getAllStyleSheets-expected.txt: Added.
            * inspector/css/getAllStyleSheets.html: Added.
            * inspector/css/resources/external.css: Added.
            (body):
            Test for style sheet header information for external and inline stylesheets.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188407. rdar://problem/23221163

    2015-08-13  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Watch Expressions
            https://bugs.webkit.org/show_bug.cgi?id=147904

            Reviewed by Brian Burg.

            * inspector/model/remote-object-fake-object-expected.txt: Added.
            * inspector/model/remote-object-fake-object.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188403. rdar://problem/23221163

    2015-08-13  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: A {Map, WeakMap, Set, WeakSet} object contains itself will hang the console
            https://bugs.webkit.org/show_bug.cgi?id=147966

            Reviewed by Timothy Hatcher.

            * inspector/model/remote-object.html:
            * inspector/model/remote-object-expected.txt:
            Add tests for a cylic array, set, and map.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188353. rdar://problem/23221163

    2015-08-12  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Not receiving responses for async request IndexedDB.requestDatabaseNames
            https://bugs.webkit.org/show_bug.cgi?id=147844

            Reviewed by Brian Burg.

            * inspector/indexeddb/requestDatabaseNames-expected.txt: Added.
            * inspector/indexeddb/requestDatabaseNames.html: Added.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188283. rdar://problem/23221163

    2015-08-11  Brian Burg  <bburg@apple.com>

            Web Inspector: Agent commands do not actually return a promise when expected
            https://bugs.webkit.org/show_bug.cgi?id=138665

            Reviewed by Timothy Hatcher.

            Add a new test that only checks for proper invocation return values.
            Once the async test suite infrastructure is available for frontend tests,
            more thorough tests of promises and callbacks will be added.

            * inspector/protocol/inspector-backend-invocation-return-value-expected.txt: Added.
            * inspector/protocol/inspector-backend-invocation-return-value.html: Added.
            * inspector/protocol/protocol-promise-result-expected.txt: Removed.
            * inspector/protocol/protocol-promise-result.html: Removed.
            * platform/win/TestExpectations: Remove deleted test.

2015-12-02  Timothy Hatcher  <timothy@apple.com>

        Merge r188017. rdar://problem/23221163

    2015-08-05  Nikita Vasilyev  <nvasilyev@apple.com>

            Web Inspector: Logging error objects should have a better UI
            https://bugs.webkit.org/show_bug.cgi?id=143853

            Add tests for stack trace format in case it changes.

            Reviewed by Brian Burg.

            * inspector/debugger/js-stacktrace-expected.txt: Added.
            * inspector/debugger/js-stacktrace.html: Added.

2015-12-01  Timothy Hatcher  <timothy@apple.com>

        Merge r187903. rdar://problem/23221163

    2015-08-04  Joseph Pecoraro  <pecoraro@apple.com>

            Improve some LayoutTests/inspector flakey output for tests with InspectorTest.reloadPage
            https://bugs.webkit.org/show_bug.cgi?id=147655

            Reviewed by Timothy Hatcher.

            * TestExpectations:

2015-12-01  Timothy Hatcher  <timothy@apple.com>

        Merge r187507. rdar://problem/23221163

    2015-07-28  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Include <template> node content in DOM Tree
            https://bugs.webkit.org/show_bug.cgi?id=147335

            Reviewed by Timothy Hatcher.

            * inspector/dom/template-content-expected.txt: Added.
            * inspector/dom/template-content.html: Added.

2015-12-01  Timothy Hatcher  <timothy@apple.com>

        Merge r187496. rdar://problem/23221163

    2015-07-28  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Show Pseudo Elements in DOM Tree
            https://bugs.webkit.org/show_bug.cgi?id=139612

            Reviewed by Timothy Hatcher.

            * inspector/css/pseudo-element-matches-for-pseudo-element-node-expected.txt: Added.
            * inspector/css/pseudo-element-matches-for-pseudo-element-node.html: Added.
            * inspector/dom/pseudo-element-dynamic-expected.txt: Added.
            * inspector/dom/pseudo-element-dynamic.html: Added.
            * inspector/dom/pseudo-element-static-expected.txt: Added.
            * inspector/dom/pseudo-element-static.html: Added.

2015-12-01  Timothy Hatcher  <timothy@apple.com>

        Merge r187249. rdar://problem/23221163

    2015-07-23  Devin Rousso  <drousso@apple.com>

            Web Inspector: Add a function to CSSCompletions to get a list of supported system fonts
            https://bugs.webkit.org/show_bug.cgi?id=147009

            Reviewed by Joseph Pecoraro.

            Skip the get-system-fonts test until it is implemented.
            * platform/efl/TestExpectations:
            * platform/gtk/TestExpectations:
            * platform/win/TestExpectations:

            Added the get-system-fonts test that returns the list of system fonts.
            * inspector/css/get-system-fonts-expected.html:
            * inspector/css/get-system-fonts.html:

2015-12-01  Timothy Hatcher  <timothy@apple.com>

        Merge r187211. rdar://problem/23221163

    2015-07-22  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: Timeline should immediately start moving play head when starting a new recording
            https://bugs.webkit.org/show_bug.cgi?id=147210

            Reviewed by Timothy Hatcher.

            * inspector/timeline/recording-start-stop-timestamps-expected.txt: Added.
            * inspector/timeline/recording-start-stop-timestamps.html: Added.
            Add a test for Timeline.recordingStarted and Timeline.recordingStopped events.

2015-10-30  Lucas Forschler  <lforschler@apple.com>

        Merge r188366

    2015-08-12  Alexey Proskuryakov  <ap@apple.com>

            http/tests/security/cors-post-redirect-308.html doesn't work properly
            https://bugs.webkit.org/show_bug.cgi?id=147914

            Reviewed by Brady Eidson.

            * http/tests/resources/redirect.php: Trying to return
            code 308 without a reason phrase results in an internal server error with Apache/2.2.
            While at it, also corrected the script to always set Cache-Control: no-store.

2015-10-29  Lucas Forschler  <lforschler@apple.com>

        Merge r191706. rdar://problem/23319292

    2015-10-28  Andy Estes  <aestes@apple.com>

            [Content Filtering] Crash when allowing a 0-byte resource to load
            https://bugs.webkit.org/show_bug.cgi?id=150644
            <rdar://problem/23288538>

            Reviewed by Darin Adler.

            * contentfiltering/allow-empty-document-expected.html: Added.
            * contentfiltering/allow-empty-document.html: Added.
            * contentfiltering/resources/empty.html: Added.

2015-10-26  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191530. rdar://problem/23206864

    2015-10-23  Michael Saboff  <msaboff@apple.com>

            REGRESSION (r179357-r179359): WebContent Crash using AOL Mail @ com.apple.JavascriptCore JSC::linkPolymorphicCall(JSC::ExecState*, JSC::CallLinkInfo&, JSC::CallVariant, JSC::RegisterPreservationMode) + 1584
            https://bugs.webkit.org/show_bug.cgi?id=150513

            Reviewed by Saam Barati.

            New regression test.

            * js/regress-150513-expected.txt: Added.
            * js/regress-150513.html: Added.
            * js/script-tests/regress-150513.js: Added.
            (test):
            * resources/standalone-pre.js: Added failNextNewCodeBlock to testRunner object.

2015-10-22  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191364. rdar://problem/22862879

    2015-10-20  Mark Lam  <mark.lam@apple.com>

            YarrPatternConstructor::containsCapturingTerms() should not assume that its terms.size() is greater than 0.
            https://bugs.webkit.org/show_bug.cgi?id=150372

            Reviewed by Geoffrey Garen.

            * js/regress-150372-expected.txt: Added.
            * js/regress-150372.html: Added.
            * js/script-tests/regress-150372.js: Added.

2015-10-16  Alexey Proskuryakov  <ap@apple.com>

        Land accurate Yosemite/Mavericks results for http/tests/multipart/multipart-replace-non-html-content.html

        * platform/mac-yosemite/http/tests/multipart/multipart-replace-non-html-content-expected.txt:

2015-10-15  Alexey Proskuryakov  <ap@apple.com>

        Update test results on the branch.

        * platform/mac-yosemite/http: Added.
        * platform/mac-yosemite/http/tests: Added.
        * platform/mac-yosemite/http/tests/multipart: Added.
        * platform/mac-yosemite/http/tests/multipart/multipart-replace-non-html-content-expected.txt: Copied from LayoutTests/http/tests/multipart/multipart-replace-non-html-content-expected.txt.
        * platform/mac/http/tests/multipart/multipart-replace-non-html-content-expected.txt:

2015-10-14  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191077. rdar://problem/22993325

    2015-10-14  Alex Christensen  <achristensen@webkit.org>

            [Content Extensions] Make blocked async XHR call onerror
            https://bugs.webkit.org/show_bug.cgi?id=146706

            Reviewed by Brady Eidson.

            * http/tests/contentextensions/async-xhr-onerror-expected.txt: Added.
            * http/tests/contentextensions/async-xhr-onerror.html: Added.
            * http/tests/contentextensions/async-xhr-onerror.html.json: Added.

2015-10-13  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190570. rdar://problem/23075530

    2015-10-05  Zalan Bujtas  <zalan@apple.com>

            Mark the line dirty when RenderQuote's text changes.
            https://bugs.webkit.org/show_bug.cgi?id=149784
            rdar://problem/22558169

            Reviewed by Antti Koivisto.

            When quotation mark changes ( " -> ' or empty string), we
            need to mark the line dirty to ensure its content gets laid out properly.

            * fast/inline/quotation-text-changes-dynamically-expected.txt: Added.
            * fast/inline/quotation-text-changes-dynamically.html: Added.

2015-10-13  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190339. rdar://problem/23075538

    2015-09-29  Jon Honeycutt  <jhoneycutt@apple.com>

            Avoid reparsing an XSLT stylesheet after the first failure.
            https://bugs.webkit.org/show_bug.cgi?id=149188
            <rdar://problem/22709912>

            Reviewed by Dave Hyatt.

            Patch by Jiewen Tan, jiewen_tan@apple.com.

            * svg/custom/invalid-xslt-crash-expected.txt: Added.
            * svg/custom/invalid-xslt-crash.svg: Added.

2015-10-13  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r189421. rdar://problem/22802049

    2015-09-04  Myles C. Maxfield  <mmaxfield@apple.com>

            Crash when font completes downloading after calling 2D canvas setText() multiple times
            https://bugs.webkit.org/show_bug.cgi?id=148789

            Reviewed by Darin Adler.

            * fast/canvas/font-selector-crash-expected.txt: Added.
            * fast/canvas/font-selector-crash.html: Added.
            * fast/canvas/resources/font-selector-crash.ttf: Added.

2015-10-08  Lucas Forschler  <lforschler@apple.com>

        Merge r190602. rdar://problem/22995830

    2015-10-05  Alex Christensen  <achristensen@webkit.org>

            Invalid CSS Selector for Content Blockers invalidates others
            https://bugs.webkit.org/show_bug.cgi?id=148446
            rdar://problem/22918235

            Reviewed by Benjamin Poulain.

            * http/tests/contentextensions/invalid-selector-expected.txt: Added.
            * http/tests/contentextensions/invalid-selector.html: Added.
            * http/tests/contentextensions/invalid-selector.html.json: Added.

2015-10-08  Lucas Forschler  <lforschler@apple.com>

        Merge r190375. rdar://problem/22881748

    2015-09-30  Myles C. Maxfield  <mmaxfield@apple.com>

            Crash when using an SVG font with > 390 glyphs
            https://bugs.webkit.org/show_bug.cgi?id=149677
            <rdar://problem/21676402>

            Reviewed by Simon Fraser.

            * svg/custom/many-glyphs-expected.svg: Added.
            * svg/custom/many-glyphs.svg: Added.

2015-10-08  Lucas Forschler  <lforschler@apple.com>

        Merge r189976. rdar://problem/22824652

    2015-09-18  Chris Dumez  <cdumez@apple.com>

            REGRESSION (r182449, Mavericks ONLY): Pages re-open empty after swiping back and scrolling on them
            https://bugs.webkit.org/show_bug.cgi?id=149317
            <rdar://problem/22521514>

            Reviewed by Tim Horton.

            Skip a couple of PageCache layout tests on Mavericks now that a PageCache
            optimization has been disabled.

            * platform/mac/TestExpectations:

2015-10-08  Lucas Forschler  <lforschler@apple.com>

        Merge r189976. rdar://problem/22824652

    2015-09-18  Chris Dumez  <cdumez@apple.com>

            REGRESSION (r182449, Mavericks ONLY): Pages re-open empty after swiping back and scrolling on them
            https://bugs.webkit.org/show_bug.cgi?id=149317
            <rdar://problem/22521514>

            Reviewed by Tim Horton.

            Skip a couple of PageCache layout tests on Mavericks now that a PageCache
            optimization has been disabled.

            * platform/mac/TestExpectations:

2015-10-08  Andy Estes  <aestes@apple.com>

        Merge r188150, r188517, r188844, r188845, r188851, r188852, r188880, r188881, r188988, r189193, r189289, and r190133.
        rdar://problem/22847063

    2015-09-03  Andy Estes  <aestes@apple.com>

            REGRESSION: http/tests/contentfiltering/block-after-redirect.html is flaky
            https://bugs.webkit.org/show_bug.cgi?id=148684

            Reviewed by Alexey Proskuryakov.

            Wait for the iframe to load the blocked page before finishing the test.

            * http/tests/contentfiltering/block-after-redirect.html:
            * platform/mac-wk2/TestExpectations:

    2015-08-26  Andy Estes  <aestes@apple.com>

            [Content Filtering] Determine navigation and content policy before continuing to filter a load
            https://bugs.webkit.org/show_bug.cgi?id=148506

            Reviewed by Brady Eidson.

            Added tests for what happens if the content filter does not make a decision when the load finishes.

            * contentfiltering/allow-never-expected.html: Added.
            * contentfiltering/allow-never.html: Added.
            * contentfiltering/block-never-expected.html: Added.
            * contentfiltering/block-never.html: Added.
            * contentfiltering/resources/contentfiltering.js:

    2015-08-26  Andy Estes  <aestes@apple.com>

            Crash when following a Google search link to Twitter with Limit Adult Content enabled
            https://bugs.webkit.org/show_bug.cgi?id=147651

            Rubber-stamped by Brady Eidson.

            Added a layout test.

            * http/tests/contentfiltering/load-substitute-data-from-appcache-expected.txt: Added.
            * http/tests/contentfiltering/load-substitute-data-from-appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.manifest: Added.
            * platform/mac-wk1/TestExpectations:

2015-10-08  Lucas Forschler  <lforschler@apple.com>

        Merge r188148. rdar://problem/22802036

    2015-08-06  Dean Jackson  <dino@apple.com>

            Shadows don't draw on fillText when using a gradient fill
            https://bugs.webkit.org/show_bug.cgi?id=147758
            <rdar://problem/20860912>

            Reviewed by Myles Maxfield.

            New test that exercises shadows on gradient fills. This really
            should be a ref test, but there is a very small rendering difference
            caused by masking, so instead it uses JS to look for pixels of
            the correct color.

            * fast/canvas/gradient-text-with-shadow-expected.txt: Added.
            * fast/canvas/gradient-text-with-shadow.html: Added.

2015-10-06  Benjamin Poulain  <bpoulain@apple.com>

        We can't use let in JS on the safari-601 branch

        * fast/css/indirect-adjacent-style-invalidation-1.html:
        * fast/css/indirect-adjacent-style-invalidation-2.html:
        * fast/css/indirect-adjacent-style-invalidation-3.html:

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r190418.

    2015-10-01  Antti Koivisto  <antti@apple.com>

            Network cache: Subresource referer header wrong after cached redirect
            https://bugs.webkit.org/show_bug.cgi?id=149709
            rdar://problem/22917174

            Reviewed by Chris Dumez.

            * http/tests/cache/redirect-referer-expected.html: Added.
            * http/tests/cache/redirect-referer.html: Added.
            * http/tests/cache/resources/load-and-check-referer.php: Added.
            * http/tests/cache/resources/permanent-redirect.php: Added.
            * http/tests/cache/resources/redirect-referer-iframe.html: Added.
            * http/tests/cache/resources/redirect-referer-iframe-expected.html: Added.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r189560. rdar://problem/22824659

    2015-09-09  Benjamin Poulain  <bpoulain@apple.com>

            CSS general sibling selectors does not work without CSS JIT
            https://bugs.webkit.org/show_bug.cgi?id=148987
            rdar://problem/22559860

            Reviewed by Andreas Kling.

            There are multiple variations of the same tests to test
            cases where we JIT and cases without JIT.

            * fast/css/indirect-adjacent-style-invalidation-1-expected.txt: Added.
            * fast/css/indirect-adjacent-style-invalidation-1.html: Added.
            * fast/css/indirect-adjacent-style-invalidation-2-expected.txt: Added.
            * fast/css/indirect-adjacent-style-invalidation-2.html: Added.
            * fast/css/indirect-adjacent-style-invalidation-3-expected.txt: Added.
            * fast/css/indirect-adjacent-style-invalidation-3.html: Added.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188768. rdar://problem/22802019

    2015-08-21  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: REGRESSION(173684): Edit as HTML not working
            https://bugs.webkit.org/show_bug.cgi?id=148268

            Reviewed by Chris Dumez.

            * inspector/dom/getOuterHTML-expected.txt: Added.
            * inspector/dom/getOuterHTML.html: Added.
            * inspector/dom/setOuterHTML-expected.txt: Added.
            * inspector/dom/setOuterHTML.html: Added.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188755. rdar://problem/22802005

    2015-08-21  Chris Dumez  <cdumez@apple.com>

            Regression(r188698): http/tests/cache/disk-cache/disk-cache-revalidation-new-expire-header.html is very flaky
            https://bugs.webkit.org/show_bug.cgi?id=148205

            Reviewed by Antti Koivisto.

            * http/tests/cache/disk-cache/disk-cache-revalidation-new-expire-header.html:
            Drop temporary fix landed in r188698 to make the test less flaky.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188690. rdar://problem/22802006

    2015-08-20  Chris Dumez  <cdumez@apple.com>

            [Cocoa] Treat Epoch as invalid value for "Last-Modified" header
            https://bugs.webkit.org/show_bug.cgi?id=148162
            rdar://problem/22330837

            Reviewed by Antti Koivisto.

            Add better layout test coverage for using the "Last-Modified" header to
            compute heuristic freshness. In particular, it adds coverage for the
            following values: Epoch, malformed date.

            * http/tests/cache/disk-cache/disk-cache-last-modified-expected.txt: Added.
            * http/tests/cache/disk-cache/disk-cache-last-modified.html: Added.
            New test.

            * http/tests/cache/disk-cache/resources/cache-test.js:
            (makeHeaderValue):
            makeHeaderValue() was not resolving 'now(-1000)' into a date. This means that the
            tests using it would end up sending an invalid "Last-Modified" header which our
            networking code was translating to Epoch. We now ignore Epoch as Last-Modified
            value for computing heuristic freshness to not cache due to malformed headers.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188640. rdar://problem/22802005

    2015-08-19  Chris Dumez  <cdumez@apple.com>

            WebKit may keep outdated entry in the disk cache after a reload
            https://bugs.webkit.org/show_bug.cgi?id=148137
            <rdar://problem/22299547>

            Reviewed by Antti Koivisto.

            Add layout test to make sure that stale disk cached entries are removed
            when it becomes uncacheable.

            * http/tests/cache/disk-cache/resource-becomes-uncacheable-expected.txt: Added.
            * http/tests/cache/disk-cache/resource-becomes-uncacheable.html: Added.
            * http/tests/cache/disk-cache/resources/generate-response-optionally-cacheable.cgi: Added.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188634. rdar://problem/22802013

    2015-08-18  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Punctuation near Hindi text is garbled when styled with the system font
            https://bugs.webkit.org/show_bug.cgi?id=148164

            Reviewed by Brian Burg.

            This test is only relevant when the system font is set to Japanese or Simplified Chinese. In these
            languages, the system font doesn't support punctuation, but CG will erroneously say that it does.

            I intend to implement testing infrastructure which will allow us to mock the system language,
            thereby allowing this test to be valid on all machines. The tracking bug for this effort is
            https://bugs.webkit.org/show_bug.cgi?id=148168

            * fast/text/hindi-system-font-punctuation-expected.html: Added.
            * fast/text/hindi-system-font-punctuation.html: Added.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187921. rdar://problem/22801988

    2015-08-04  Chris Dumez  <cdumez@apple.com>

            Subframes with no current HistoryItem should not prevent page-caching
            https://bugs.webkit.org/show_bug.cgi?id=147649
            <rdar://problem/21614832>

            Reviewed by Andreas Kling.

            Add a layout test that covers page-caching of a page that contains an
            iframe with no current HistoryItem. The sub-frame has no current
            HistoryItem because its URL is invalid: "http://".

            * http/tests/navigation/page-cache-iframe-no-current-historyItem-expected.txt: Added.
            * http/tests/navigation/page-cache-iframe-no-current-historyItem.html: Added.
            New test.

            * platform/mac-wk1/TestExpectations:
            Skip the new test on Mac WK1. The page is still not cacheable on Mac WK1
            because WebFrameLoaderClient::canCachePage() returns false if the frame
            does not contain HTML at the moment.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187593. rdar://problem/22801973

    2015-07-30  Simon Fraser  <simon.fraser@apple.com>

            Selecting in an iframe can cause main page scrolling
            https://bugs.webkit.org/show_bug.cgi?id=147431
            rdar://problem/19244589

            Reviewed by Zalan Bujtas.

            Test that uses eventSender to select in an iframe after scrolling the
            main page.

            * fast/events/autoscroll-in-iframe-expected.txt: Added.
            * fast/events/autoscroll-in-iframe.html: Added.

2015-10-02  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187210. rdar://problem/22801995

    2015-07-22  Wenson Hsieh  <wenson_hsieh@apple.com>

            Coordinates-based snap offsets don't update correctly when container is scrolled
            https://bugs.webkit.org/show_bug.cgi?id=147215

            Reviewed by Brent Fulgham.

            Tests that snap offsets update properly on scrolled containers.

            * css3/scroll-snap/scroll-snap-coordinate-overflow-resize-expected.txt: Added.
            * css3/scroll-snap/scroll-snap-coordinate-overflow-resize.html: Added.

2015-09-12  Alexey Proskuryakov  <ap@apple.com>

        Re-add Mavericks result with the correct path.

        * platform/mac-mavericks/platform/mac/accessibility: Added.
        * platform/mac-mavericks/platform/mac/accessibility/selection-sync-expected.txt: Added.
        * platform/mac-mavericks/platform/mac/accessibilityselection-sync-expected.txt: Removed.

2015-09-12  Alexey Proskuryakov  <ap@apple.com>

        Roll out r189649, and just have custom results for Mavericks instead.

        * platform/mac-mavericks/platform/mac/accessibilityselection-sync-expected.txt: Copied from LayoutTests/platform/mac/accessibility/selection-sync-expected.txt.
        * platform/mac/accessibility/removing-textarea-after-edit-crash-expected.txt:
        * platform/mac/accessibility/removing-textarea-after-edit-crash.html:
        * platform/mac/accessibility/select-element-selection-with-optgroups.html:
        * platform/mac/accessibility/selected-rows-table.html:
        * platform/mac/accessibility/selection-notification-focus-change.html:
        * platform/mac/accessibility/selection-sync-expected.txt:
        * platform/mac/accessibility/selection-sync.html:
        * platform/mac/accessibility/setting-attributes-is-asynchronous.html:

2015-09-11  Alexey Proskuryakov  <ap@apple.com>

        Merge r189221.

    2015-09-01  Alexey Proskuryakov  <ap@apple.com>

            Clean up asynchronous behavior in some accessibility tests
            https://bugs.webkit.org/show_bug.cgi?id=148682

            Reviewed by Darin Adler.

            * platform/mac/accessibility/removing-textarea-after-edit-crash-expected.txt:
            * platform/mac/accessibility/removing-textarea-after-edit-crash.html:
            * platform/mac/accessibility/select-element-selection-with-optgroups.html:
            * platform/mac/accessibility/selected-rows-table.html:
            * platform/mac/accessibility/selection-notification-focus-change.html:
            * platform/mac/accessibility/selection-sync-expected.txt:
            * platform/mac/accessibility/selection-sync.html:
            * platform/mac/accessibility/setting-attributes-is-asynchronous.html:

2015-09-11  Alexey Proskuryakov  <ap@apple.com>

        Update Mavericks test results after r189611.

        This change wasn't needed on trunk because the behavior changed was masked by r189221.

        * platform/mac/accessibility/selection-sync-expected.txt:

2015-09-11  Alexey Proskuryakov  <ap@apple.com>

        Test result gardening - correct the paths for the branch.

        * platform/mac/TestExpectations:

2015-09-11  Babak Shafiei  <bshafiei@apple.com>

        Merge r189598.

    2015-09-10  Chris Fleizach  <cfleizach@apple.com>

            AX: Mavericks: Text cursor does not move along with VoiceOver cursor for text fields
            https://bugs.webkit.org/show_bug.cgi?id=148891

            Reviewed by Alexey Proskuryakov.

            Mark accessibility focus tests as passing on Yosemite.

            * platform/mac/TestExpectations:

2015-09-11  Babak Shafiei  <bshafiei@apple.com>

        Merge r189483.

    2015-09-07  Chris Fleizach  <cfleizach@apple.com>

            AX: Mavericks: Text cursor does not move along with VoiceOver cursor for text fields
            https://bugs.webkit.org/show_bug.cgi?id=148891

            Reviewed by Mario Sanchez Prada.

            * accessibility/mac/focus-moves-cursor-expected.txt: Added.
            * accessibility/mac/focus-moves-cursor.html: Added.

2015-09-10  Babak Shafiei  <bshafiei@apple.com>

        Merge r189469.

    2015-09-07  Daniel Bates  <dabates@apple.com>

            ASSERT_WITH_SECURITY_IMPLICATION in WebCore::DocumentOrderedMap::get(); update form
            association after subtree insertion
            https://bugs.webkit.org/show_bug.cgi?id=148919
            <rdar://problem/21868036>

            Reviewed by Andy Estes.

            Add tests to ensure that updating the form association of a form control in a subtree
            does not cause an assertion failure.

            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-2-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-2.html: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-3-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-3.html: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-4-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-4.html: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure.html: Added.

2015-09-10  Alexey Proskuryakov  <ap@apple.com>

        Test result gardening.

        * platform/mac/TestExpectations:

2015-09-08  Andy Estes  <aestes@apple.com>

        Reverted r189001.

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r189167.

    2015-08-31  Enrica Casucci  <enrica@apple.com>

            Incorrect cursor movement for U+26F9, U+1F3CB with variations.
            https://bugs.webkit.org/show_bug.cgi?id=148629
            rdar://problem/22492366

            Reviewed by Ryosuke Niwa.

            The test has been updated to test these two emoji and to
            cover the cursor movement as well.

            * editing/deleting/delete-emoji-expected.txt:
            * editing/deleting/delete-emoji.html:

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r189046.

    2015-08-27  Basile Clement  <basile_clement@apple.com>

            REGRESSION(r184779): Possible read-after-free in JavaScriptCore/dfg/DFGClobberize.h
            https://bugs.webkit.org/show_bug.cgi?id=148411

            Reviewed by Geoffrey Garen and Filip Pizlo.

            * js/regress-148411-expected.txt: Added.
            * js/regress-148411.html: Added.
            * js/script-tests/regress-148411.js: Added.
            (foo):

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r188340.

    2015-08-12  Brent Fulgham  <bfulgham@apple.com>

            REGRESSION(r185606): ASSERT in WebCore::RenderElement::styleWillChange
            https://bugs.webkit.org/show_bug.cgi?id=147596
            <rdar://problem/21963355>

            Reviewed by Jon Honeycutt.

            * css3/scroll-snap/improper-snap-points-crash-expected.txt: Added.
            * css3/scroll-snap/improper-snap-points-crash.html: Added.

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r188271.

    2015-08-11  Said Abou-Hallawa  <sabouhallawa@apple.com>

            feMorphology is not rendered correctly on Retina display
            https://bugs.webkit.org/show_bug.cgi?id=147589

            Reviewed by Dean Jackson.

            Ensure we take the filter scale factor into consideration when applying
            the FEMorphology.

            * fast/hidpi/filters-morphology-expected.html: Added.
            * fast/hidpi/filters-morphology.html: Added.

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r188014.

    2015-08-05  Chris Dumez  <cdumez@apple.com>

            Crash when removing children of a MathMLSelectElement
            https://bugs.webkit.org/show_bug.cgi?id=147704
            <rdar://problem/21940321>

            Reviewed by Ryosuke Niwa.

            Add layout test that reproduces the crash under guardmalloc.

            * mathml/maction-removeChild-expected.txt: Added.
            * mathml/maction-removeChild.html: Added.

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r187564.

    2015-07-29  Zalan Bujtas  <zalan@apple.com>

            Remove the spanner placeholder from m_spannerMap when the placeholder object
            gets transferred to a descendant flow.
            https://bugs.webkit.org/show_bug.cgi?id=147380
            rdar://problem/21981078

            Reviewed by David Hyatt.

            Before r180328, the spanner placeholder was removed from m_spannerMap through
            RenderMultiColumnFlowThread::removeFlowChildInfo() by calling flowThreadRelativeWillBeRemoved()
            when the placeholder renderer got transferred to the descendant flow.
            Now we just remove it from the map when the renderer is being detached.

            * fast/multicol/newmulticol/spanner-crash-with-embedded-columns-expected.txt: Added.
            * fast/multicol/newmulticol/spanner-crash-with-embedded-columns.html: Added.

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r186984.

    2015-07-17  Zalan Bujtas  <zalan@apple.com>

            REGRESSION (r169105): Do not assign a renderer to multiple selection subtrees.
            https://bugs.webkit.org/show_bug.cgi?id=147038
            rdar://problem/21819351

            Reviewed by David Kilzer.

            A renderer should never be assigned to multiple selection subtrees. (Currently RenderObject maintains the last selection state.)
            RenderView::applySubtreeSelection() loops from the start to the end of the selection to find renderers that are inside the selection.
            However, in case of regions (when multiple selection roots are present) traversing the renderer tree by calling RenderObject::nextInPreOrder() could
            end up going across selection roots.
            This patch ensures that we assign renderers to a specific selection only when the current selection root and the renderer's selection root match.

            * fast/regions/crash-when-renderer-is-in-multiple-selection-subtrees2-expected.txt: Added.
            * fast/regions/crash-when-renderer-is-in-multiple-selection-subtrees2.html: Added.

2015-08-28  Babak Shafiei  <bshafiei@apple.com>

        Merge r189024.

    2015-08-27  Enrica Casucci  <enrica@apple.com>

            Add some new emoji with modifiers and new sequence.
            https://bugs.webkit.org/show_bug.cgi?id=148202
            rdar://problem/21849857

            Reviewed by Sam Weinig.

            Updated test to reflect the changes.

            * editing/deleting/delete-emoji-expected.txt:
            * editing/deleting/delete-emoji.html:

2015-08-26  Andy Estes  <aestes@apple.com>

        Merge r188988.

    2015-08-26  Andy Estes  <aestes@apple.com>

            Crash when following a Google search link to Twitter with Limit Adult Content enabled
            https://bugs.webkit.org/show_bug.cgi?id=147651

            Rubber-stamped by Brady Eidson.

            Added a layout test.

            * http/tests/contentfiltering/load-substitute-data-from-appcache-expected.txt: Added.
            * http/tests/contentfiltering/load-substitute-data-from-appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.manifest: Added.
            * platform/mac-wk1/TestExpectations:

2015-08-21  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188769. rdar://problem/22354983

    2015-08-21  Doug Russell  <d_russell@apple.com>

            AX: Table with CSS that makes a row anonymous can return NULL from cellForColumnAndRow
            https://bugs.webkit.org/show_bug.cgi?id=148293

            Reviewed by Chris Fleizach.

            When RenderTableRows are anonymous, they may not be added to the accessible data
            table's internal row list. However, when calculating the row range for a cell,
            we were still accounting for those anonymous sections.
            Change how the row range is calculated to directly ask the accessible parent row
            for its index. This will ensure it’s more inline with what’s being represented to
            the accessibility API.

            * accessibility/aria-table-content-expected.txt: Added.
            * accessibility/aria-table-content.html: Added.

2015-08-15  Alexey Proskuryakov  <ap@apple.com>

        Test result gardening. Removed obsolete expectations.

        * platform/mac/TestExpectations:

2015-08-14  Alexey Proskuryakov  <ap@apple.com>

        Test result gardening. Merged r188488, and unmarked canvas tests that no longer fail.

        * platform/mac/TestExpectations:

2015-08-13  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188390. rdar://problem/21367467

    2015-08-13  Eric Carlson  <eric.carlson@apple.com>

            Don't short circuit seeking
            https://bugs.webkit.org/show_bug.cgi?id=147892

            Reviewed by Jer Noble.

            * media/event-attributes-expected.txt: Update for test change.
            * media/event-attributes.html: There is no reason to expect that a 'timeupdate' will have
              been sent before 'canplaythrough'.
            * media/video-seek-to-current-time-expected.txt: Added.
            * media/video-seek-to-current-time.html: Added.
            * platform/efl/TestExpectations: Skip new test.
            * platform/gtk/TestExpectations: Ditto.
            * platform/mac/TestExpectations: Mark the new test as sometimes failing because of
              webkit.org/b/147944.
            * platform/win/TestExpectations: Skip new test.

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188263. rdar://problem/22202935

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188203. rdar://problem/22026625

    2015-08-09  Nan Wang  <n_wang@apple.com>

            AX: CSS table display styles can cause malformed, inaccessible AXTables to be exposed to the AX tree
            https://bugs.webkit.org/show_bug.cgi?id=136415
            <rdar://problem/22026625>

            Reviewed by Chris Fleizach.

            * accessibility/aria-table-with-presentational-elements-expected.txt:
            * accessibility/aria-table-with-presentational-elements.html:
            * accessibility/mac/malformed-table-expected.txt: Added.
            * accessibility/mac/malformed-table.html: Added.
            * platform/mac-mavericks/accessibility/roles-exposed-expected.txt:
            * platform/mac/accessibility/aria-table-hierarchy-expected.txt:
            * platform/mac/accessibility/aria-tables-expected.txt:
            * platform/mac/accessibility/roles-exposed-expected.txt:

2015-08-11  Alexey Proskuryakov  <ap@apple.com>

        Merge r187595.

    2015-07-30  Nan Wang  <n_wang@apple.com>

            aria-liveregions-notifications tests are very flaky
            https://bugs.webkit.org/show_bug.cgi?id=147299
            <rdar://problem/21998675>

            Reviewed by Chris Fleizach.

            These tests were flaky because they relied on timer notification callbacks.
            Fixed these tests by using different objects to capture the notifications instead.

            * platform/mac/accessibility/aria-liveregions-notifications-always-sent-expected.txt:
            * platform/mac/accessibility/aria-liveregions-notifications-always-sent.html:
            * platform/mac/accessibility/aria-liveregions-notifications-expected.txt:
            * platform/mac/accessibility/aria-liveregions-notifications.html:

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188195. rdar://problem/22102378

    2015-08-09  Myles C. Maxfield  <mmaxfield@apple.com>

            Crash in ComplexTextController when laying out obscure text
            https://bugs.webkit.org/show_bug.cgi?id=147806
            <rdar://problem/22102378>

            Reviewed by Darin Adler.

            * fast/text/crash-obscure-text-expected.txt: Added.
            * fast/text/crash-obscure-text.html: Added.

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188263. rdar://problem/22202935

    2015-08-11  Myles C. Maxfield  <mmaxfield@apple.com>

            [iOS] Arabic letter Yeh is drawn in LastResort
            https://bugs.webkit.org/show_bug.cgi?id=147862
            <rdar://problem/22202935>

            Reviewed by Darin Adler.

            * fast/text/arabic-glyph-cache-fill-combine-expected.html: Added.
            * fast/text/arabic-glyph-cache-fill-combine.html: Added.
            * platform/mac/TestExpectations: Mark test as iOS-specific
            * platform/gtk/TestExpectations: Mark test as iOS-specific
            * platform/efl/TestExpectations: Mark test as iOS-specific
            * platform/efl/TestExpectations: Mark test as iOS-specific

2015-08-10  Dana Burkart  <dburkart@apple.com>

        Merge r188182. rdar://problem/21254835

    2015-08-07  James Craig  <jcraig@apple.com>

            REGRESSION(r184722) AX: WebKit video playback toolbar removed from DOM; no longer accessible to VoiceOver
            https://bugs.webkit.org/show_bug.cgi?id=145684

            Reviewed by Dean Jackson.

            * http/tests/contentextensions/text-track-blocked-expected.txt: Minor update to test case expectation.
            * media/video-controls-show-on-kb-or-ax-event-expected.txt: Added.
            * media/video-controls-show-on-kb-or-ax-event.html: New test validates video controls can be displayed without the need for a mouse.
            * platform/mac/media/track/track-cue-rendering-horizontal-expected.txt: Minor update to test case expectation.

2015-08-10  Dana Burkart  <dburkart@apple.com>

        Merge r188190. rdar://problem/22191482

    2015-08-08  Commit Queue  <commit-queue@webkit.org>

            Unreviewed, rolling out r179871.
            https://bugs.webkit.org/show_bug.cgi?id=147810

            Breaks product images on http://www.apple.com/shop/buy-
            mac/macbook (Requested by smfr on #webkit).

            Reverted changeset:

            "Render: properly update body's background image"
            https://bugs.webkit.org/show_bug.cgi?id=140183
            http://trac.webkit.org/changeset/179871

2015-08-07  Alexey Proskuryakov  <ap@apple.com>

        Correct expectations for platform/mac/fast/scrolling/scroll-div-with-nested-nonscrollable-iframe.html.

        Use a correct path, and only skip the test on WK1.

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2015-08-06  Dana Burkart  <dburkart@apple.com>

        Merge r187964. rdar://problem/21870332

    2015-08-05  Brent Fulgham  <bfulgham@apple.com>

            Unreviewed test gardening.

            Skip new latched scrolling test on WK1 due to timeout. Check in some minor clean-ups in
            the test based on feedback from Antti and others:

            * platform/mac/TestExpectations:
            * platform/mac/fast/scrolling/scroll-div-with-nested-nonscrollable-iframe.html:

2015-08-06  Dana Burkart  <dburkart@apple.com>

        Merge r187935. rdar://problem/22097682

    2015-08-04  Doug Russell  <d_russell@apple.com>

            AX: tree item children returned from ranged getter are different from full array of children
            https://bugs.webkit.org/show_bug.cgi?id=147660

            Add an isTreeItem() check in ranged element getter so that it matches the logic in
            the getter for the full children array. This prevents returning a row as a child
            when only the rows contents should be returned. This prevents navigation issues on
            websites without aria outlines.

            Reviewed by Chris Fleizach.

            * accessibility/mac/aria-tree-item-children-expected.txt: Added.
            * accessibility/mac/aria-tree-item-children.html: Added.

2015-08-06  Dana Burkart  <dburkart@apple.com>

        Merge r187930. rdar://problem/21870332

    2015-08-04  Brent Fulgham  <bfulgham@apple.com>

            REGRESSION (r173784): [Mac] Correct latching error for non-scrollable iframe nested inside scrollable div.
            https://bugs.webkit.org/show_bug.cgi?id=147668
            <rdar://problem/21870332>

            Reviewed by Simon Fraser.

            * platform/mac/fast/scrolling/resources/background.html: Added.
            * platform/mac/fast/scrolling/scroll-div-with-nested-nonscrollable-iframe-expected.txt: Added.
            * platform/mac/fast/scrolling/scroll-div-with-nested-nonscrollable-iframe.html: Added.

2015-08-06  Dana Burkart  <dburkart@apple.com>

        Merge r187886. rdar://problem/15779101

    2015-08-04  Alexey Proskuryakov  <ap@apple.com>

            Implement NPAPI redirect handling
            https://bugs.webkit.org/show_bug.cgi?id=138675
            rdar://problem/15779101

            Patch by Jeffrey Pfau, updated and tweaked by me.

            Reviewed by Anders Carlsson.

            * http/tests/plugins/get-url-redirect-notify-expected.txt: Added.
            * http/tests/plugins/get-url-redirect-notify.html: Added.
            * platform/wk2/http/tests/plugins: Added.
            * platform/wk2/http/tests/plugins/get-url-redirect-notify-expected.txt: Added.

2015-08-06  Dana Burkart  <dburkart@apple.com>

        Merge r187620. rdar://problem/15779101

    2015-07-30  Anders Carlsson  <andersca@apple.com>

            Assertion failure when a plug-in loads a resource that redirects somewhere
            https://bugs.webkit.org/show_bug.cgi?id=147469

            Reviewed by Alexey Proskuryakov.

            Add a test.

            * http/tests/plugins/get-url-redirect-expected.txt: Added.
            * http/tests/plugins/get-url-redirect.html: Added.
            * http/tests/plugins/resources/redirection-response.php: Added.

2015-08-04  Alexey Proskuryakov  <ap@apple.com>

        Merge r187933.

    2015-08-04  Alexey Proskuryakov  <ap@apple.com>

            El Capitan test result gardening.

            Update for a font change.

            * platform/mac-yosemite/fast/text/crash-complex-text-surrogate-expected.txt: Copied from LayoutTests/platform/mac/fast/text/crash-complex-text-surrogate-expected.txt.
            * platform/mac/fast/text/crash-complex-text-surrogate-expected.txt:

2015-08-04  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187797. rdar://problem/21838271

    2015-08-03  Myles C. Maxfield  <mmaxfield@apple.com>

            REGRESSION(r184899): Crash when focusing an input element styled with a web font
            https://bugs.webkit.org/show_bug.cgi?id=147616
            <rdar://problem/21838271>

            Reviewed by Dean Jackson.

            * fast/text/input-webfont-focus-expected.txt: Added.
            * fast/text/input-webfont-focus.html: Added.

2015-08-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187685. rdar://problem/21775336

    2015-07-31  Myles C. Maxfield  <mmaxfield@apple.com>

            [SVG -> OTF Converter] Crash when converting Arabic fonts
            https://bugs.webkit.org/show_bug.cgi?id=147510

            Reviewed by Anders Carlsson.

            * fast/text/arabic-duplicate-glyph-font-expected.txt: Added.
            * fast/text/arabic-duplicate-glyph-font.html: Added.
            * fast/text/resources/arabic-duplicate-glyph-font.svg: Added.

2015-08-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187778. rdar://problem/22098457

    2015-08-03  Brady Eidson  <beidson@apple.com>

            Fix ASSERTy test added in r187752

            * http/tests/appcache/resources/identifier-test-real.php: Only post one message.

2015-08-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187752. rdar://problem/22098457

    2015-08-03  Brady Eidson  <beidson@apple.com>

            Adding a test for:
            Crash when signing into twitter calling WebCore::DocumentLoader::responseReceived(WebCore::CachedResource*, WebCore::ResourceResponse const&).
            <rdar://problem/22098457> and https://bugs.webkit.org/show_bug.cgi?id=147560

            Reviewed by Alexey Proskuryakov.

            * http/tests/appcache/identifier-test-expected.txt: Added.
            * http/tests/appcache/identifier-test.html: Added.
            * http/tests/appcache/resources/identifier-test-real.php: Added.
            * http/tests/appcache/resources/identifier-test.manifest: Added.
            * http/tests/appcache/resources/identifier-test.php: Added.

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187556

    2015-07-29  Brady Eidson  <beidson@apple.com>

            Crash calling webSocket.close() from onError handler for blocked web socket.
            <rdar://problem/21771620> and https://bugs.webkit.org/show_bug.cgi?id=147411

            Reviewed by Tim Horton.

            * http/tests/security/mixedContent/resources/frame-with-insecure-websocket.html: Add a call to webSocket.close() inside the onError handler.
            * http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt:
            * http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt:

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187535

    2015-07-28  Simon Fraser  <simon.fraser@apple.com>

            Animations sometimes fail to start
            https://bugs.webkit.org/show_bug.cgi?id=147394
            rdar://problem/21852603

            Reviewed by Dean Jackson.

            Test that starts an accelerated and non-accelerated animation, then removes
            the node for the accelerated one.

            * animations/remove-syncing-animation-expected.txt: Added.
            * animations/remove-syncing-animation.html: Added.

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187525

    2015-07-28  Myles C. Maxfield  <mmaxfield@apple.com>

            [iOS] Crash when encountering characters whose natural font is one we can't look up
            https://bugs.webkit.org/show_bug.cgi?id=147377
            <rdar://problem/22022011>

            Reviewed by Simon Fraser.

            * fast/text/crash-complex-unknown-font-expected.html: Added.
            * fast/text/crash-complex-unknown-font.html: Added.

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187523

    2015-07-28  Chris Dumez  <cdumez@apple.com>

            Tests introduced in r187489 are flaky
            https://bugs.webkit.org/show_bug.cgi?id=147327

            Rubber-stamped by Benjamin Poulain.

            Tests introduced in r187489 are flaky, they sometimes print the console
            message, sometimes not. The reason is that we sometimes use a cached
            parsed stylesheet and we do not print the warning in this case. To fix
            the flakiness, we now clear the memory cache at the beginning of each
            test to make sure we download and parse the stylesheets.

            * http/tests/security/cross-origin-css-1.html:
            * http/tests/security/cross-origin-css-2.html:
            * http/tests/security/cross-origin-css-3.html:
            * http/tests/security/cross-origin-css-4.html:
            * http/tests/security/cross-origin-css-5.html:
            * http/tests/security/cross-origin-css-6.html:
            * http/tests/security/cross-origin-css-7.html:
            * http/tests/security/cross-origin-css-8.html:
            * http/tests/security/cross-origin-css-in-quirks-1.html:
            * http/tests/security/cross-origin-css-in-quirks-2.html:
            * http/tests/security/cross-origin-css-in-quirks-3.html:
            * http/tests/security/cross-origin-css-in-quirks-4.html:
            * http/tests/security/cross-origin-css-in-quirks-5.html:
            * http/tests/security/cross-origin-css-in-quirks-6.html:
            * http/tests/security/cross-origin-css-in-quirks-7.html:
            * http/tests/security/cross-origin-css-in-quirks-8.html:
            * http/tests/security/same-origin-css-1.html:
            * http/tests/security/same-origin-css-2.html:
            * http/tests/security/same-origin-css-3.html:
            * http/tests/security/same-origin-css-4.html:
            * http/tests/security/same-origin-css-5.html:
            * http/tests/security/same-origin-css-6.html:
            * http/tests/security/same-origin-css-7.html:
            * http/tests/security/same-origin-css-8.html:
            * http/tests/security/same-origin-css-in-quirks.html:

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187512

    2015-07-28  Chris Dumez  <cdumez@apple.com>

            Unreviewed, fix wrong test baseline landed in r187489.

            * http/tests/security/same-origin-css-4-expected.txt:

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187489

    2015-07-28  Chris Dumez  <cdumez@apple.com>

            Allow lax MIME type parsing for same-origin CSS in quirks mode.
            https://bugs.webkit.org/show_bug.cgi?id=147327
            <rdar://problem/22010303>

            Reviewed by Zalan Bujtas.

            Add layout test coverage for MIME type parsing for same-origin CSS in
            quirks mode and not.

            * http/tests/inspector/css/bad-mime-type-expected.txt:
            * http/tests/mime/standard-mode-does-not-load-stylesheet-with-text-plain-and-css-extension-expected.txt:
            * http/tests/mime/standard-mode-does-not-load-stylesheet-with-text-plain-expected.txt:
            * http/tests/misc/css-accept-any-type-expected.txt: Removed.
            * http/tests/misc/css-accept-any-type.html: Removed.
            * http/tests/misc/css-reject-any-type-in-strict-mode-expected.txt:
            * http/tests/security/cross-origin-css-1-expected.txt:
            * http/tests/security/cross-origin-css-2-expected.txt:
            * http/tests/security/cross-origin-css-4-expected.txt:
            * http/tests/security/cross-origin-css-5-expected.txt:
            * http/tests/security/cross-origin-css-7-expected.txt:
            * http/tests/security/cross-origin-css-in-quirks-1-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-1-expected.txt.
            * http/tests/security/cross-origin-css-in-quirks-1.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-2-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-2-expected.txt.
            * http/tests/security/cross-origin-css-in-quirks-2.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-3-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-3.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-4-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-4.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-5-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-5-expected.txt.
            * http/tests/security/cross-origin-css-in-quirks-5.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-6-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-6.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-7-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-7.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-8-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-8.html: Added.
            * http/tests/security/same-origin-css-1-expected.txt: Added.
            * http/tests/security/same-origin-css-1.html: Added.
            * http/tests/security/same-origin-css-2-expected.txt: Added.
            * http/tests/security/same-origin-css-2.html: Added.
            * http/tests/security/same-origin-css-3-expected.txt: Added.
            * http/tests/security/same-origin-css-3.html: Added.
            * http/tests/security/same-origin-css-4-expected.txt: Added.
            * http/tests/security/same-origin-css-4.html: Added.
            * http/tests/security/same-origin-css-5-expected.txt: Added.
            * http/tests/security/same-origin-css-5.html: Added.
            * http/tests/security/same-origin-css-6-expected.txt: Added.
            * http/tests/security/same-origin-css-6.html: Added.
            * http/tests/security/same-origin-css-7-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-7-expected.txt.
            * http/tests/security/same-origin-css-7.html: Added.
            * http/tests/security/same-origin-css-8-expected.txt: Added.
            * http/tests/security/same-origin-css-8.html: Added.
            * http/tests/security/same-origin-css-in-quirks-expected.txt: Added.
            * http/tests/security/same-origin-css-in-quirks.html: Added.
            * platform/mac/http/tests/misc/acid3-expected.txt:

2015-07-30  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187278. rdar://problem/19908029

    2015-07-23  Nan Wang  <n_wang@apple.com>

            AX: AccessibilityNodeObject::childrenChanged() generates too many AXLiveRegionChanged notifications
            https://bugs.webkit.org/show_bug.cgi?id=147211
            <rdar://problem/19908029>

            Reviewed by Chris Fleizach.

            * platform/mac/accessibility/aria-liveregions-notifications-always-sent-expected.txt:
            * platform/mac/accessibility/aria-liveregions-notifications-always-sent.html:
            * platform/mac/accessibility/aria-liveregions-notifications-expected.txt:
            * platform/mac/accessibility/aria-liveregions-notifications.html:
            * platform/mac/accessibility/aria-multiple-liveregions-notification-expected.txt: Added.
            * platform/mac/accessibility/aria-multiple-liveregions-notification.html: Added.

2015-07-30  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187504. rdar://problem/21915355

    2015-07-28  Said Abou-Hallawa  <sabouhallawa@apple.com>

            Crash happens when calling removeEventListener for an SVG element which has an instance inside a <defs> element of shadow tree
            https://bugs.webkit.org/show_bug.cgi?id=147290

            Reviewed by Daniel Bates.

            Make sure we do not crash when when calling removeEventListener() for an
            element which is cloned under a disallowed parent inside the shadow tree
            of another <use> element.

            * svg/custom/remove-event-listener-shadow-disallowed-element-expected.txt: Added.
            * svg/custom/remove-event-listener-shadow-disallowed-element.svg: Added.

2015-07-27  Alexey Proskuryakov  <ap@apple.com>

        More test gardening after r187346 ('>>' descendant combinator).

        * platform/mac/TestExpectations:

2015-07-27  Alexey Proskuryakov  <ap@apple.com>

        Merge r187443.

    2015-07-27  Alexey Proskuryakov  <ap@apple.com>

            Test result gardening for El Capitan.

            * platform/mac-yosemite/fast/text/international/bold-bengali-expected.png: Copied from LayoutTests/platform/mac/fast/text/international/bold-bengali-expected.png.
            * platform/mac-yosemite/fast/text/international/bold-bengali-expected.txt: Copied from LayoutTests/platform/mac/fast/text/international/bold-bengali-expected.txt.
            * platform/mac/fast/text/font-weights-zh-expected.txt:
            * platform/mac/fast/text/international/bold-bengali-expected.png:
            * platform/mac/fast/text/international/bold-bengali-expected.txt:
            * platform/mac/fast/text/international/danda-space-expected.png:
            * platform/mac/fast/text/international/danda-space-expected.txt:

2015-07-27  Alexey Proskuryakov  <ap@apple.com>

        Merge r187439 and r187441.

    2015-07-27  Alexey Proskuryakov  <ap@apple.com>

            More test expectations for rdar://problem/22014672

            * platform/mac/TestExpectations:


    2015-07-27  Alexey Proskuryakov  <ap@apple.com>

            Add test expectations for rdar://problem/22014672

            * platform/mac/TestExpectations:

2015-07-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r187395.

    2015-07-25  Alexey Proskuryakov  <ap@apple.com>

            inspector/css/modify-rule-selector.html times out (flakily on some platforms, and
            every time on others).
            https://bugs.webkit.org/show_bug.cgi?id=147229

            * platform/gtk/TestExpectations:
            * platform/mac-wk2/TestExpectations:
            * platform/win/TestExpectations:
            Added expectations.

2015-07-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r187352.

    2015-07-24  Devin Rousso  <drousso@apple.com>

            Web Inspector: Editing non-inspector-stylesheet rule selectors fails after the first change
            https://bugs.webkit.org/show_bug.cgi?id=147229

            Reviewed by Timothy Hatcher.

            * inspector/css/modify-rule-selector-expected.txt: Added.
            * inspector/css/modify-rule-selector.html: Added.

2015-07-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r187371.

    2015-07-24  Chris Fleizach  <cfleizach@apple.com>

            AX: scrollable elements do not allow 3-finger swipe
            https://bugs.webkit.org/show_bug.cgi?id=141893

            Reviewed by Mario Sanchez Prada.

            * platform/ios-simulator/accessibility/scroll-in-overflow-div-expected.txt: Added.
            * platform/ios-simulator/accessibility/scroll-in-overflow-div.html: Added.

2015-07-25  Alexey Proskuryakov  <ap@apple.com>

        Updating an expectation to actually work (it's a reftest, so it needs ImageOnlyFailure).

        * platform/mac/TestExpectations:

2015-07-25  Alexey Proskuryakov  <ap@apple.com>

        Update test results after r187346 ('>>' descendant combinator).

        * fast/css/css-selector-text-expected.txt:
        * fast/css/css-set-selector-text-expected.txt:
        * fast/css/parsing-css-attribute-case-insensitive-value-1-expected.txt:
        * fast/css/parsing-css-attribute-case-insensitive-value-4-expected.txt:
        * fast/css/parsing-css-descendant-combinator-doubled-child-syntax-expected.txt:
        * fast/selectors/case-insensitive-attribute-register-requirement-2-expected.txt:
        * fast/selectors/element-closest-descendant-combinator-doubled-child-syntax-expected.txt:
        * fast/selectors/element-matches-attribute-ascii-case-insensitive-html-expected.txt:
        * fast/selectors/element-matches-descendant-combinator-doubled-child-syntax-expected.txt:
        * fast/selectors/nth-child-matching-first-expected.txt:
        * fast/selectors/nth-last-child-matching-first-expected.txt:
        * fast/selectors/querySelector-attribute-ascii-case-insensitive-html-expected.txt:
        * fast/selectors/querySelector-descendant-combinator-doubled-child-syntax-expected.txt:
        * platform/mac/TestExpectations:

2015-07-24  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187271. rdar://problem/21929247

    2015-07-22  Simon Fraser  <simon.fraser@apple.com>

            Layer z-ordering is incorrect when scrolling on page witih position:fixed
            https://bugs.webkit.org/show_bug.cgi?id=147220
            rdar://problem/15849697&21929247

            Reviewed by Dean Jackson.

            Tests that reveal the overlap area by creating lots of small layers, and dumping
            the layer tree.

            * compositing/layer-creation/fixed-overlap-extent-expected.txt: Added.
            * compositing/layer-creation/fixed-overlap-extent-rtl-expected.txt: Added.
            * compositing/layer-creation/fixed-overlap-extent-rtl.html: Added.
            * compositing/layer-creation/fixed-overlap-extent.html: Added.

2015-07-24  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187248. rdar://problem/21949735

    2015-07-23  Brady Eidson  <beidson@apple.com>

            Crash in WebPlatformStrategies::createPingHandle - Deref a null NetworkingContext.
            <rdar://problem/21949735> and https://bugs.webkit.org/show_bug.cgi?id=147227

            Reviewed by Alexey Proskuryakov.

            * http/tests/security/contentSecurityPolicy/user-style-sheet-font-crasher-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/user-style-sheet-font-crasher.html: Added.

2015-07-24  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187189. rdar://problem/21567767

    2015-07-22  Dean Jackson  <dino@apple.com>

            Out of bounds in WebGLRenderingContext::simulateVertexAttrib0
            https://bugs.webkit.org/show_bug.cgi?id=147176
            <rdar://problem/21567767>

            Reviewed by Oliver Hunt.

            * fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays-expected.txt: Added.
            * fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays.html: Added.

2015-07-24  Lucas Forschler  <lforschler@apple.com>

        Merge r187133

    2015-07-21  Benjamin Poulain  <bpoulain@apple.com>

            StyleSheetContents::wrapperInsertRule() can create rules that overflow RuleData's selector index
            https://bugs.webkit.org/show_bug.cgi?id=147144

            Reviewed by Alex Christensen.

            This bug was affecting two parts of WebKit:
            -In CSSOM, StyleSheet.insertRule() could create bogus rules.
             The new test verifies that the call fails instead of creating undefined
             behaviors.
            -In ContentExtensions, large selectors are now working correctly. The tests
             cover the case of a default stylesheet and an dynamic stylesheet.

            * fast/css/insert-rule-overflow-rule-data-expected.txt: Added.
            * fast/css/insert-rule-overflow-rule-data.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-1-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-1.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-1.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-2-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-2.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-2.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-3-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-3.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-3.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-4-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-4.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-4.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-5-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-5.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-5.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-6-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-6.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-6.html.json: Added.

2015-07-23  Lucas Forschler  <lforschler@apple.com>

        Merge r187116

    2015-07-21  Said Abou-Hallawa  <sabouhallawa@apple.com>

            REGRESSION (r172417, r184065): Multiple rendering issues with fixed attached background-image
            https://bugs.webkit.org/show_bug.cgi?id=147049
            <rdar://problem/21110936>

            Reviewed by Simon Fraser.

            fixedLayoutSize background-image rendering for root and non-root elements.

            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-cover-expected.html: Added.
            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-cover.html: Added.
            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-local-expected.html: Added.
            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-local.html: Added.

2015-07-23  Lucas Forschler  <lforschler@apple.com>

        Merge r186994

    2015-07-18  David Kilzer  <ddkilzer@apple.com>

            REGRESSION (r186981): fast/repaint/block-inputrange-repaint.html is starting out life as flaky

            <https://webkit-test-results.appspot.com/dashboards/flakiness_dashboard.html#showAllRuns=true&tests=fast%2Frepaint%2Fblock-inputrange-repaint.html>

            * fast/repaint/block-inputrange-repaint.html:
            - Use setTimeout() to give WebKit time to repaint.

2015-07-23  Lucas Forschler  <lforschler@apple.com>

        Merge r186981

    2015-07-17  Zalan Bujtas  <zalan@apple.com>

            (display: block)input range's thumb disappears when moved.
            https://bugs.webkit.org/show_bug.cgi?id=146896
            <rdar://problem/21787807>

            Reviewed by Simon Fraser.

            Since the thumb is positioned after the layout for the input (shadow) subtree is finished, the repaint rects
            issued during the layout will not cover the re-positioned thumb.
            We need to issue a repaint soon after the thumb is re-positioned.

            * fast/repaint/block-inputrange-repaint-expected.txt: Added.
            * fast/repaint/block-inputrange-repaint.html: Added.

== Rolled over to ChangeLog-2015-07-23 ==
