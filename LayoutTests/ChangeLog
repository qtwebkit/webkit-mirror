2015-12-09  Babak Shafiei  <bshafiei@apple.com>

        Roll out r192369.

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r191731.

    2015-10-29  Said Abou-Hallawa  <sabouhallawa@apple.com>

            Exploitable crash happens when an SVG contains an indirect resource inheritance cycle
            https://bugs.webkit.org/show_bug.cgi?id=150203

            Reviewed by Brent Fulgham.

            Ensure that we do not crash when an SVG has an indirect cyclic resource
            inheritance. Make sure the cyclic resource was just ignored as if it did
            not exist.

            * svg/custom/pattern-content-inheritance-cycle-expected.svg: Added.
            * svg/custom/pattern-content-inheritance-cycle.svg: Added.

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r192604.

    2015-11-18  Jiewen Tan  <jiewen_tan@apple.com>

            [WK1] Crash loading Blink layout test fast/dom/Window/property-access-on-cached-window-after-frame-removed.html
            https://bugs.webkit.org/show_bug.cgi?id=150198
            <rdar://problem/23136026>

            Reviewed by Brent Fulgham.

            * fast/dom/Window/666869-expected.txt: Added.
            * fast/dom/Window/666869.html: Added.
            Test case is from Mozilla.
            * fast/dom/Window/property-access-on-cached-window-after-frame-removed-expected.txt: Added.
            * fast/dom/Window/property-access-on-cached-window-after-frame-removed.html: Added.
            * fast/dom/Window/resources/window-property-collector.js: Added.
            (collectProperties):
            (emitExpectedResult):
            (collectPropertiesHelper):
            Test case is from Blink r168256:
            https://codereview.chromium.org/131113003
            * platform/mac-wk2/TestExpectations:

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r192433.

    2015-11-13  Jiewen Tan  <jiewen_tan@apple.com>

            Element::focus() should acquire the ownership of Frame.
            https://bugs.webkit.org/show_bug.cgi?id=150204
            <rdar://problem/23136794>

            Reviewed by Brent Fulgham.

            * editing/selection/focus-iframe-removal-crash-expected.txt: Added.
            * editing/selection/focus-iframe-removal-crash.html: Added.

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r192389.

    2015-11-12  Zalan Bujtas  <zalan@apple.com>

            Ignore visited background color when deciding if the input renderer needs to be painted natively.
            https://bugs.webkit.org/show_bug.cgi?id=151211
            rdar://problem/21449823

            Reviewed by Antti Koivisto.

            * fast/css/pseudo-visited-background-color-on-input-expected.html: Added.
            * fast/css/pseudo-visited-background-color-on-input.html: Added.

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r192369.

    2015-11-11  Jon Honeycutt  <jhoneycutt@apple.com>

            popstate event should be dispatched asynchronously
            https://bugs.webkit.org/show_bug.cgi?id=36202
            <rdar://problem/7761279>

            Based on an original patch by Mihai Parparita <mihaip@chromium.org>.

            Reviewed by Brent Fulgham.

            * fast/loader/remove-iframe-during-history-navigation-different-expected.txt: Added.
            * fast/loader/remove-iframe-during-history-navigation-different.html: Added.
            Imported from Blink.
            * fast/loader/remove-iframe-during-history-navigation-same-expected.txt: Added.
            * fast/loader/remove-iframe-during-history-navigation-same.html: Added.
            Ditto.
            * fast/loader/stateobjects/popstate-fires-on-history-traversal.html:
            Modified to account for popstate firing asynchronously.
            * fast/loader/stateobjects/popstate-is-asynchronous-expected.txt: Added.
            * fast/loader/stateobjects/popstate-is-asynchronous.html: Added.
            Based on Mihai's original test. Modified to pass in current WebKit.

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r192316.

    2015-11-10  Jon Honeycutt  <jhoneycutt@apple.com>

            Crash loading Blink layout test fast/parser/strip-script-attrs-on-input.html
            https://bugs.webkit.org/show_bug.cgi?id=150201
            <rdar://problem/23136478>

            Reviewed by Brent Fulgham.

            * fast/parser/strip-script-attrs-on-input-expected.txt: Added.
            * fast/parser/strip-script-attrs-on-input.html: Added.

2015-12-07  Babak Shafiei  <bshafiei@apple.com>

        Merge r192281.

    2015-11-10  Brent Fulgham  <bfulgham@apple.com>

            Crash running webaudio/panner-loop.html
            https://bugs.webkit.org/show_bug.cgi?id=150200
            <rdar://problem/23136282>

            Reviewed by Jer Noble.

            This is based on the changes in Blink r164822:
            https://codereview.chromium.org/130003002

            * webaudio/panner-loop-expected.txt: Added.
            * webaudio/panner-loop.html: Added.

2015-10-29  Lucas Forschler  <lforschler@apple.com>

        Merge r191706. rdar://problem/23319282

    2015-10-28  Andy Estes  <aestes@apple.com>

            [Content Filtering] Crash when allowing a 0-byte resource to load
            https://bugs.webkit.org/show_bug.cgi?id=150644
            <rdar://problem/23288538>

            Reviewed by Darin Adler.

            * contentfiltering/allow-empty-document-expected.html: Added.
            * contentfiltering/allow-empty-document.html: Added.
            * contentfiltering/resources/empty.html: Added.

2015-10-20  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191364. rdar://problem/22864960

    2015-10-20  Mark Lam  <mark.lam@apple.com>

            YarrPatternConstructor::containsCapturingTerms() should not assume that its terms.size() is greater than 0.
            https://bugs.webkit.org/show_bug.cgi?id=150372

            Reviewed by Geoffrey Garen.

            * js/regress-150372-expected.txt: Added.
            * js/regress-150372.html: Added.
            * js/script-tests/regress-150372.js: Added.

2015-10-20  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191063. rdar://problem/22900764

    2015-10-14  Alex Christensen  <achristensen@webkit.org>

            Add SPI for reloading without content blockers
            https://bugs.webkit.org/show_bug.cgi?id=150058
            rdar://problem/22742222

            Reviewed by Sam Weinig.

            * http/tests/contentextensions/disable-blocker-expected.txt: Removed.
            * http/tests/contentextensions/disable-blocker.html: Removed.
            * http/tests/contentextensions/disable-blocker.html.json: Removed.
            _userContentExtensionsEnabled is going to be removed, and its functionality is what this test tested.

2015-10-20  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190510. rdar://problem/22900764

    2015-10-02  Alex Christensen  <achristensen@webkit.org>

            Reloading without content blockers doesnâ€™t apply to resource loads after the main frame finishes
            https://bugs.webkit.org/show_bug.cgi?id=149430
            rdar://problem/22742222

            Reviewed by Geoffrey Garen.

            * http/tests/contentextensions/disable-blocker-expected.txt: Added.
            * http/tests/contentextensions/disable-blocker.html: Added.
            * http/tests/contentextensions/disable-blocker.html.json: Added.

2015-10-16  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190752. rdar://problem/23110932

    2015-10-08  Andreas Kling  <akling@apple.com>

            Generated frame tree names should be kept reasonably long.
            <https://webkit.org/b/149874>

            Reviewed by Darin Adler.

            Added a test to document our name generation behavior for subframes with long-named ancestors.
            Also rebaselined some tests that exposed the old behavior.

            * fast/forms/form-and-frame-interaction-retains-values-expected.txt:
            * fast/frames/long-names-in-nested-subframes-expected.txt: Added.
            * fast/frames/long-names-in-nested-subframes.html: Added.
            * http/tests/navigation/image-load-in-subframe-unload-handler-expected.txt:
            * http/tests/security/dataURL/xss-DENIED-from-data-url-sub-frame-2-level-expected.txt:
            * http/tests/security/dataURL/xss-DENIED-to-data-url-sub-frame-2-level-expected.txt:
            * http/tests/security/javascriptURL/xss-ALLOWED-from-javascript-url-sub-frame-2-level-expected.txt:
            * http/tests/security/javascriptURL/xss-ALLOWED-from-javascript-url-to-javscript-url-expected.txt:
            * http/tests/security/javascriptURL/xss-ALLOWED-to-javascript-url-from-javscript-url-expected.txt:

2015-10-15  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190604. rdar://problem/22993012

    2015-10-05  Jer Noble  <jer.noble@apple.com>

            [iOS] REGRESSION(r190434): Media continues to play when locking screen
            https://bugs.webkit.org/show_bug.cgi?id=149822

            Reviewed by Brent Fulgham.

            applicationWillEnterForeground() -> applicationDidEnterForeground().

            * media/video-background-playback-expected.txt:
            * media/video-background-playback.html:
            * media/video-background-tab-playback-expected.txt:
            * media/video-background-tab-playback.html:

2015-10-15  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190438. rdar://problem/22865007

    2015-10-01  Brent Fulgham  <bfulgham@apple.com>

            Unreviewed test fix after r190434.

            One test was not updated to pass the new required interruption type
            argument to 'internals.beginMediaSessionInterruption'.

            * webaudio/audiocontext-state-interrupted-expected.txt:
            * webaudio/audiocontext-state-interrupted.html:

2015-10-15  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190434. rdar://problem/22865007

    2015-10-01  Eric Carlson  <eric.carlson@apple.com>

            [iOS] AirPlay should not stop when the screen locks
            https://bugs.webkit.org/show_bug.cgi?id=148315
            <rdar://problem/22770703>

            Reviewed by Jer Noble.

            * media/video-interruption-with-resume-allowing-play.html:
            * media/video-interruption-with-resume-not-allowing-play.html:

2015-10-15  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r191077. rdar://problem/22993325

    2015-10-14  Alex Christensen  <achristensen@webkit.org>

            [Content Extensions] Make blocked async XHR call onerror
            https://bugs.webkit.org/show_bug.cgi?id=146706

            Reviewed by Brady Eidson.

            * http/tests/contentextensions/async-xhr-onerror-expected.txt: Added.
            * http/tests/contentextensions/async-xhr-onerror.html: Added.
            * http/tests/contentextensions/async-xhr-onerror.html.json: Added.

2015-10-14  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190570. rdar://problem/23075838

    2015-10-05  Zalan Bujtas  <zalan@apple.com>

            Mark the line dirty when RenderQuote's text changes.
            https://bugs.webkit.org/show_bug.cgi?id=149784
            rdar://problem/22558169

            Reviewed by Antti Koivisto.

            When quotation mark changes ( " -> ' or empty string), we
            need to mark the line dirty to ensure its content gets laid out properly.

            * fast/inline/quotation-text-changes-dynamically-expected.txt: Added.
            * fast/inline/quotation-text-changes-dynamically.html: Added.

2015-10-14  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190339. rdar://problem/23075839

    2015-09-29  Jon Honeycutt  <jhoneycutt@apple.com>

            Avoid reparsing an XSLT stylesheet after the first failure.
            https://bugs.webkit.org/show_bug.cgi?id=149188
            <rdar://problem/22709912>

            Reviewed by Dave Hyatt.

            Patch by Jiewen Tan, jiewen_tan@apple.com.

            * svg/custom/invalid-xslt-crash-expected.txt: Added.
            * svg/custom/invalid-xslt-crash.svg: Added.

2015-10-14  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188390. rdar://problem/22803749

    2015-08-13  Eric Carlson  <eric.carlson@apple.com>

            Don't short circuit seeking
            https://bugs.webkit.org/show_bug.cgi?id=147892

            Reviewed by Jer Noble.

            * media/event-attributes-expected.txt: Update for test change.
            * media/event-attributes.html: There is no reason to expect that a 'timeupdate' will have
              been sent before 'canplaythrough'.
            * media/video-seek-to-current-time-expected.txt: Added.
            * media/video-seek-to-current-time.html: Added.
            * platform/efl/TestExpectations: Skip new test.
            * platform/gtk/TestExpectations: Ditto.
            * platform/mac/TestExpectations: Mark the new test as sometimes failing because of
              webkit.org/b/147944.
            * platform/win/TestExpectations: Skip new test.

2015-10-09  Babak Shafiei  <bshafiei@apple.com>

        Roll out r190434.

2015-10-09  Babak Shafiei  <bshafiei@apple.com>

        Roll out r190438.

2015-10-09  Babak Shafiei  <bshafiei@apple.com>

        Roll out r190604.

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190604. rdar://problem/22993012

    2015-10-05  Jer Noble  <jer.noble@apple.com>

            [iOS] REGRESSION(r190434): Media continues to play when locking screen
            https://bugs.webkit.org/show_bug.cgi?id=149822

            Reviewed by Brent Fulgham.

            applicationWillEnterForeground() -> applicationDidEnterForeground().

            * media/video-background-playback-expected.txt:
            * media/video-background-playback.html:
            * media/video-background-tab-playback-expected.txt:
            * media/video-background-tab-playback.html:

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190602. rdar://problem/22995810

    2015-10-05  Alex Christensen  <achristensen@webkit.org>

            Invalid CSS Selector for Content Blockers invalidates others
            https://bugs.webkit.org/show_bug.cgi?id=148446
            rdar://problem/22918235

            Reviewed by Benjamin Poulain.

            * http/tests/contentextensions/invalid-selector-expected.txt: Added.
            * http/tests/contentextensions/invalid-selector.html: Added.
            * http/tests/contentextensions/invalid-selector.html.json: Added.

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190438. rdar://problem/22865007

    2015-10-01  Brent Fulgham  <bfulgham@apple.com>

            Unreviewed test fix after r190434.

            One test was not updated to pass the new required interruption type
            argument to 'internals.beginMediaSessionInterruption'.

            * webaudio/audiocontext-state-interrupted-expected.txt:
            * webaudio/audiocontext-state-interrupted.html:

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190434. rdar://problem/22865007

    2015-10-01  Eric Carlson  <eric.carlson@apple.com>

            [iOS] AirPlay should not stop when the screen locks
            https://bugs.webkit.org/show_bug.cgi?id=148315
            <rdar://problem/22770703>

            Reviewed by Jer Noble.

            * media/video-interruption-with-resume-allowing-play.html:
            * media/video-interruption-with-resume-not-allowing-play.html:

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r189421. rdar://problem/22823243

    2015-09-04  Myles C. Maxfield  <mmaxfield@apple.com>

            Crash when font completes downloading after calling 2D canvas setText() multiple times
            https://bugs.webkit.org/show_bug.cgi?id=148789

            Reviewed by Darin Adler.

            * fast/canvas/font-selector-crash-expected.txt: Added.
            * fast/canvas/font-selector-crash.html: Added.
            * fast/canvas/resources/font-selector-crash.ttf: Added.

2015-10-08  Andy Estes  <aestes@apple.com>

        Merge r188486, r188517, r188531, r188844, r188845, r188851, r188852, r188880, r188881, r188988, r189193, r189289, and r190133.
        rdar://problem/22846460

    2015-09-03  Andy Estes  <aestes@apple.com>

            REGRESSION: http/tests/contentfiltering/block-after-redirect.html is flaky
            https://bugs.webkit.org/show_bug.cgi?id=148684

            Reviewed by Alexey Proskuryakov.

            Wait for the iframe to load the blocked page before finishing the test.

            * http/tests/contentfiltering/block-after-redirect.html:
            * platform/mac-wk2/TestExpectations:

    2015-08-26  Andy Estes  <aestes@apple.com>

            [Content Filtering] Determine navigation and content policy before continuing to filter a load
            https://bugs.webkit.org/show_bug.cgi?id=148506

            Reviewed by Brady Eidson.

            Added tests for what happens if the content filter does not make a decision when the load finishes.

            * contentfiltering/allow-never-expected.html: Added.
            * contentfiltering/allow-never.html: Added.
            * contentfiltering/block-never-expected.html: Added.
            * contentfiltering/block-never.html: Added.
            * contentfiltering/resources/contentfiltering.js:

    2015-08-26  Andy Estes  <aestes@apple.com>

            Crash when following a Google search link to Twitter with Limit Adult Content enabled
            https://bugs.webkit.org/show_bug.cgi?id=147651

            Rubber-stamped by Brady Eidson.

            Added a layout test.

            * http/tests/contentfiltering/load-substitute-data-from-appcache-expected.txt: Added.
            * http/tests/contentfiltering/load-substitute-data-from-appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.manifest: Added.
            * platform/mac-wk1/TestExpectations:

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Roll out r190438.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Roll out r190434.

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190479. rdar://problem/22865007

    2015-10-02  Babak Shafiei  <bshafiei@apple.com>

            Merge r190438.

        2015-10-01  Brent Fulgham  <bfulgham@apple.com>

                Unreviewed test fix after r190434.

                One test was not updated to pass the new required interruption type
                argument to 'internals.beginMediaSessionInterruption'.

                * webaudio/audiocontext-state-interrupted-expected.txt:
                * webaudio/audiocontext-state-interrupted.html:

2015-10-08  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r190478. rdar://problem/22865007

    2015-10-02  Babak Shafiei  <bshafiei@apple.com>

            Merge r190434.

        2015-10-01  Eric Carlson  <eric.carlson@apple.com>

                [iOS] AirPlay should not stop when the screen locks
                https://bugs.webkit.org/show_bug.cgi?id=148315
                <rdar://problem/22770703>

                Reviewed by Jer Noble.

                * media/video-interruption-with-resume-allowing-play.html:
                * media/video-interruption-with-resume-not-allowing-play.html:

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r190375.

    2015-09-30  Myles C. Maxfield  <mmaxfield@apple.com>

            Crash when using an SVG font with > 390 glyphs
            https://bugs.webkit.org/show_bug.cgi?id=149677
            <rdar://problem/21676402>

            Reviewed by Simon Fraser.

            * svg/custom/many-glyphs-expected.svg: Added.
            * svg/custom/many-glyphs.svg: Added.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r189560.

    2015-09-09  Benjamin Poulain  <bpoulain@apple.com>

            CSS general sibling selectors does not work without CSS JIT
            https://bugs.webkit.org/show_bug.cgi?id=148987
            rdar://problem/22559860

            Reviewed by Andreas Kling.

            There are multiple variations of the same tests to test
            cases where we JIT and cases without JIT.

            * fast/css/indirect-adjacent-style-invalidation-1-expected.txt: Added.
            * fast/css/indirect-adjacent-style-invalidation-1.html: Added.
            * fast/css/indirect-adjacent-style-invalidation-2-expected.txt: Added.
            * fast/css/indirect-adjacent-style-invalidation-2.html: Added.
            * fast/css/indirect-adjacent-style-invalidation-3-expected.txt: Added.
            * fast/css/indirect-adjacent-style-invalidation-3.html: Added.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188768.

    2015-08-21  Joseph Pecoraro  <pecoraro@apple.com>

            Web Inspector: REGRESSION(173684): Edit as HTML not working
            https://bugs.webkit.org/show_bug.cgi?id=148268

            Reviewed by Chris Dumez.

            * inspector/dom/getOuterHTML-expected.txt: Added.
            * inspector/dom/getOuterHTML.html: Added.
            * inspector/dom/setOuterHTML-expected.txt: Added.
            * inspector/dom/setOuterHTML.html: Added.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188755.

    2015-08-21  Chris Dumez  <cdumez@apple.com>

            Regression(r188698): http/tests/cache/disk-cache/disk-cache-revalidation-new-expire-header.html is very flaky
            https://bugs.webkit.org/show_bug.cgi?id=148205

            Reviewed by Antti Koivisto.

            * http/tests/cache/disk-cache/disk-cache-revalidation-new-expire-header.html:
            Drop temporary fix landed in r188698 to make the test less flaky.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188690.

    2015-08-20  Chris Dumez  <cdumez@apple.com>

            [Cocoa] Treat Epoch as invalid value for "Last-Modified" header
            https://bugs.webkit.org/show_bug.cgi?id=148162
            rdar://problem/22330837

            Reviewed by Antti Koivisto.

            Add better layout test coverage for using the "Last-Modified" header to
            compute heuristic freshness. In particular, it adds coverage for the
            following values: Epoch, malformed date.

            * http/tests/cache/disk-cache/disk-cache-last-modified-expected.txt: Added.
            * http/tests/cache/disk-cache/disk-cache-last-modified.html: Added.
            New test.

            * http/tests/cache/disk-cache/resources/cache-test.js:
            (makeHeaderValue):
            makeHeaderValue() was not resolving 'now(-1000)' into a date. This means that the
            tests using it would end up sending an invalid "Last-Modified" header which our
            networking code was translating to Epoch. We now ignore Epoch as Last-Modified
            value for computing heuristic freshness to not cache due to malformed headers.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188640.

    2015-08-19  Chris Dumez  <cdumez@apple.com>

            WebKit may keep outdated entry in the disk cache after a reload
            https://bugs.webkit.org/show_bug.cgi?id=148137
            <rdar://problem/22299547>

            Reviewed by Antti Koivisto.

            Add layout test to make sure that stale disk cached entries are removed
            when it becomes uncacheable.

            * http/tests/cache/disk-cache/resource-becomes-uncacheable-expected.txt: Added.
            * http/tests/cache/disk-cache/resource-becomes-uncacheable.html: Added.
            * http/tests/cache/disk-cache/resources/generate-response-optionally-cacheable.cgi: Added.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188634.

    2015-08-18  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Punctuation near Hindi text is garbled when styled with the system font
            https://bugs.webkit.org/show_bug.cgi?id=148164

            Reviewed by Brian Burg.

            This test is only relevant when the system font is set to Japanese or Simplified Chinese. In these
            languages, the system font doesn't support punctuation, but CG will erroneously say that it does.

            I intend to implement testing infrastructure which will allow us to mock the system language,
            thereby allowing this test to be valid on all machines. The tracking bug for this effort is
            https://bugs.webkit.org/show_bug.cgi?id=148168

            * fast/text/hindi-system-font-punctuation-expected.html: Added.
            * fast/text/hindi-system-font-punctuation.html: Added.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188182.

    2015-08-07  James Craig  <jcraig@apple.com>

            REGRESSION(r184722) AX: WebKit video playback toolbar removed from DOM; no longer accessible to VoiceOver
            https://bugs.webkit.org/show_bug.cgi?id=145684

            Reviewed by Dean Jackson.

            * http/tests/contentextensions/text-track-blocked-expected.txt: Minor update to test case expectation.
            * media/video-controls-show-on-kb-or-ax-event-expected.txt: Added.
            * media/video-controls-show-on-kb-or-ax-event.html: New test validates video controls can be displayed without the need for a mouse.
            * platform/mac/media/track/track-cue-rendering-horizontal-expected.txt: Minor update to test case expectation.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r188016.

    2015-08-05  Zalan Bujtas  <zalan@apple.com>

            Add missing test case (r187994).

            Unreviewed.

            * fast/frames/flattening/crash-when-sibling-iframe-is-destroyed-with-subtree-layoutroot-expected.txt: Added.
            * fast/frames/flattening/crash-when-sibling-iframe-is-destroyed-with-subtree-layoutroot.html: Added.
            * fast/frames/flattening/resources/childframe1.html: Added.
            * fast/frames/flattening/resources/childframe2.html: Added.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r187921.

    2015-08-04  Chris Dumez  <cdumez@apple.com>

            Subframes with no current HistoryItem should not prevent page-caching
            https://bugs.webkit.org/show_bug.cgi?id=147649
            <rdar://problem/21614832>

            Reviewed by Andreas Kling.

            Add a layout test that covers page-caching of a page that contains an
            iframe with no current HistoryItem. The sub-frame has no current
            HistoryItem because its URL is invalid: "http://".

            * http/tests/navigation/page-cache-iframe-no-current-historyItem-expected.txt: Added.
            * http/tests/navigation/page-cache-iframe-no-current-historyItem.html: Added.
            New test.

            * platform/mac-wk1/TestExpectations:
            Skip the new test on Mac WK1. The page is still not cacheable on Mac WK1
            because WebFrameLoaderClient::canCachePage() returns false if the frame
            does not contain HTML at the moment.

2015-10-02  Babak Shafiei  <bshafiei@apple.com>

        Merge r187210.

    2015-07-22  Wenson Hsieh  <wenson_hsieh@apple.com>

            Coordinates-based snap offsets don't update correctly when container is scrolled
            https://bugs.webkit.org/show_bug.cgi?id=147215

            Reviewed by Brent Fulgham.

            Tests that snap offsets update properly on scrolled containers.

            * css3/scroll-snap/scroll-snap-coordinate-overflow-resize-expected.txt: Added.
            * css3/scroll-snap/scroll-snap-coordinate-overflow-resize.html: Added.

2015-10-01  Babak Shafiei  <bshafiei@apple.com>

        Merge r190418.

    2015-10-01  Antti Koivisto  <antti@apple.com>

            Network cache: Subresource referer header wrong after cached redirect
            https://bugs.webkit.org/show_bug.cgi?id=149709
            rdar://problem/22917174

            Reviewed by Chris Dumez.

            * http/tests/cache/redirect-referer-expected.html: Added.
            * http/tests/cache/redirect-referer.html: Added.
            * http/tests/cache/resources/load-and-check-referer.php: Added.
            * http/tests/cache/resources/permanent-redirect.php: Added.
            * http/tests/cache/resources/redirect-referer-iframe.html: Added.
            * http/tests/cache/resources/redirect-referer-iframe-expected.html: Added.

2015-09-16  Babak Shafiei  <bshafiei@apple.com>

        Merge r189862.

    2015-09-16  Chris Fleizach  <cfleizach@apple.com>

            AX: No VO typing feedback in some text fields
            https://bugs.webkit.org/show_bug.cgi?id=149177

            Reviewed by Mario Sanchez Prada.

            * accessibility/ax-value-with-search-expected.txt: Added.
            * accessibility/ax-value-with-search.html: Added.

2015-09-10  Babak Shafiei  <bshafiei@apple.com>

        Merge r189469.

    2015-09-07  Daniel Bates  <dabates@apple.com>

            ASSERT_WITH_SECURITY_IMPLICATION in WebCore::DocumentOrderedMap::get(); update form
            association after subtree insertion
            https://bugs.webkit.org/show_bug.cgi?id=148919
            <rdar://problem/21868036>

            Reviewed by Andy Estes.

            Add tests to ensure that updating the form association of a form control in a subtree
            does not cause an assertion failure.

            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-2-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-2.html: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-3-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-3.html: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-4-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-4.html: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure-expected.txt: Added.
            * fast/forms/update-form-owner-in-moved-subtree-assertion-failure.html: Added.

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r189046.

    2015-08-27  Basile Clement  <basile_clement@apple.com>

            REGRESSION(r184779): Possible read-after-free in JavaScriptCore/dfg/DFGClobberize.h
            https://bugs.webkit.org/show_bug.cgi?id=148411

            Reviewed by Geoffrey Garen and Filip Pizlo.

            * js/regress-148411-expected.txt: Added.
            * js/regress-148411.html: Added.
            * js/script-tests/regress-148411.js: Added.
            (foo):

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r189167.

    2015-08-31  Enrica Casucci  <enrica@apple.com>

            Incorrect cursor movement for U+26F9, U+1F3CB with variations.
            https://bugs.webkit.org/show_bug.cgi?id=148629
            rdar://problem/22492366

            Reviewed by Ryosuke Niwa.

            The test has been updated to test these two emoji and to
            cover the cursor movement as well.

            * editing/deleting/delete-emoji-expected.txt:
            * editing/deleting/delete-emoji.html:

2015-09-03  Babak Shafiei  <bshafiei@apple.com>

        Merge r189022.

    2015-08-26  Wenson Hsieh  <wenson_hsieh@apple.com>

            Add a Layout test for r188991
            https://bugs.webkit.org/show_bug.cgi?id=148507

            Reviewed by Tim Horton.

            Tests that stopping an animation early and closing the window does
            not crash the process. This is a retrospective test added for
            https://bugs.webkit.org/show_bug.cgi?id=148442, "Fix crash due to
            animationDidEnd called on deallocated RemoteLayerTreeHost."

            * animations/crash-on-removing-animation.html: Added.
            * animations/crash-on-removing-animation-expected.txt: Added.

2015-08-26  Andy Estes  <aestes@apple.com>

        Merge r188988.

    2015-08-26  Andy Estes  <aestes@apple.com>

            Crash when following a Google search link to Twitter with Limit Adult Content enabled
            https://bugs.webkit.org/show_bug.cgi?id=147651

            Rubber-stamped by Brady Eidson.

            Added a layout test.

            * http/tests/contentfiltering/load-substitute-data-from-appcache-expected.txt: Added.
            * http/tests/contentfiltering/load-substitute-data-from-appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.html: Added.
            * http/tests/contentfiltering/resources/appcache.manifest: Added.
            * platform/mac-wk1/TestExpectations:

2015-08-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r189024.

    2015-08-27  Enrica Casucci  <enrica@apple.com>

            Add some new emoji with modifiers and new sequence.
            https://bugs.webkit.org/show_bug.cgi?id=148202
            rdar://problem/21849857

            Reviewed by Sam Weinig.

            Updated test to reflect the changes.

            * editing/deleting/delete-emoji-expected.txt:
            * editing/deleting/delete-emoji.html:

2015-08-26  Babak Shafiei  <bshafiei@apple.com>

        Merge r188271.

    2015-08-11  Said Abou-Hallawa  <sabouhallawa@apple.com>

            feMorphology is not rendered correctly on Retina display
            https://bugs.webkit.org/show_bug.cgi?id=147589

            Reviewed by Dean Jackson.

            Ensure we take the filter scale factor into consideration when applying
            the FEMorphology.

            * fast/hidpi/filters-morphology-expected.html: Added.
            * fast/hidpi/filters-morphology.html: Added.

2015-08-21  Babak Shafiei  <bshafiei@apple.com>

        Merge r188340.

    2015-08-12  Brent Fulgham  <bfulgham@apple.com>

            REGRESSION(r185606): ASSERT in WebCore::RenderElement::styleWillChange
            https://bugs.webkit.org/show_bug.cgi?id=147596
            <rdar://problem/21963355>

            Reviewed by Jon Honeycutt.

            * css3/scroll-snap/improper-snap-points-crash-expected.txt: Added.
            * css3/scroll-snap/improper-snap-points-crash.html: Added.

2015-08-21  Babak Shafiei  <bshafiei@apple.com>

        Merge r188014.

    2015-08-05  Chris Dumez  <cdumez@apple.com>

            Crash when removing children of a MathMLSelectElement
            https://bugs.webkit.org/show_bug.cgi?id=147704
            <rdar://problem/21940321>

            Reviewed by Ryosuke Niwa.

            Add layout test that reproduces the crash under guardmalloc.

            * mathml/maction-removeChild-expected.txt: Added.
            * mathml/maction-removeChild.html: Added.

2015-08-21  Babak Shafiei  <bshafiei@apple.com>

        Merge r187685.

    2015-07-31  Myles C. Maxfield  <mmaxfield@apple.com>

            [SVG -> OTF Converter] Crash when converting Arabic fonts
            https://bugs.webkit.org/show_bug.cgi?id=147510

            Reviewed by Anders Carlsson.

            * fast/text/arabic-duplicate-glyph-font-expected.txt: Added.
            * fast/text/arabic-duplicate-glyph-font.html: Added.
            * fast/text/resources/arabic-duplicate-glyph-font.svg: Added.

2015-08-21  Babak Shafiei  <bshafiei@apple.com>

        Merge r187564.

    2015-07-29  Zalan Bujtas  <zalan@apple.com>

            Remove the spanner placeholder from m_spannerMap when the placeholder object
            gets transferred to a descendant flow.
            https://bugs.webkit.org/show_bug.cgi?id=147380
            rdar://problem/21981078

            Reviewed by David Hyatt.

            Before r180328, the spanner placeholder was removed from m_spannerMap through
            RenderMultiColumnFlowThread::removeFlowChildInfo() by calling flowThreadRelativeWillBeRemoved()
            when the placeholder renderer got transferred to the descendant flow.
            Now we just remove it from the map when the renderer is being detached.

            * fast/multicol/newmulticol/spanner-crash-with-embedded-columns-expected.txt: Added.
            * fast/multicol/newmulticol/spanner-crash-with-embedded-columns.html: Added.

2015-08-21  Babak Shafiei  <bshafiei@apple.com>

        Merge r186984.

    2015-07-17  Zalan Bujtas  <zalan@apple.com>

            REGRESSION (r169105): Do not assign a renderer to multiple selection subtrees.
            https://bugs.webkit.org/show_bug.cgi?id=147038
            rdar://problem/21819351

            Reviewed by David Kilzer.

            A renderer should never be assigned to multiple selection subtrees. (Currently RenderObject maintains the last selection state.)
            RenderView::applySubtreeSelection() loops from the start to the end of the selection to find renderers that are inside the selection.
            However, in case of regions (when multiple selection roots are present) traversing the renderer tree by calling RenderObject::nextInPreOrder() could
            end up going across selection roots.
            This patch ensures that we assign renderers to a specific selection only when the current selection root and the renderer's selection root match.

            * fast/regions/crash-when-renderer-is-in-multiple-selection-subtrees2-expected.txt: Added.
            * fast/regions/crash-when-renderer-is-in-multiple-selection-subtrees2.html: Added.

2015-08-13  Babak Shafiei  <bshafiei@apple.com>

        Merge r188383.

    2015-08-13  Alexey Proskuryakov  <ap@apple.com>

            [Cocoa] [CJK-configured device] System font has vertical punctuation
            https://bugs.webkit.org/show_bug.cgi?id=147964
            <rdar://problem/22256660>

            * platform/mac/fast/text/system-font-punctuation-expected.txt: Actually landing
            results for Mac.

2015-08-13  Babak Shafiei  <bshafiei@apple.com>

        Merge r188377.

    2015-08-12  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] [CJK-configured device] System font has vertical punctuation
            https://bugs.webkit.org/show_bug.cgi?id=147964
            <rdar://problem/22256660>

            Reviewed by Dean Jackson.

            Make sure punctuation isn't vertical.

            * fast/text/system-font-punctuation.html: Added.
            * platform/ios-simulator/fast/text/system-font-punctuation-expected.txt: Added
            * platform/mac/fast/text/system-font-punctuation-expected.txt: Added

2015-08-12  Babak Shafiei  <bshafiei@apple.com>

        Merge r188190.

    2015-08-08  Commit Queue  <commit-queue@webkit.org>

            Unreviewed, rolling out r179871.
            https://bugs.webkit.org/show_bug.cgi?id=147810

            Breaks product images on http://www.apple.com/shop/buy-
            mac/macbook (Requested by smfr on #webkit).

            Reverted changeset:

            "Render: properly update body's background image"
            https://bugs.webkit.org/show_bug.cgi?id=140183
            http://trac.webkit.org/changeset/179871

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Rollout r188195. rdar://problem/22102378

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188195. rdar://problem/22102378

    2015-08-09  Myles C. Maxfield  <mmaxfield@apple.com>

            Crash in ComplexTextController when laying out obscure text
            https://bugs.webkit.org/show_bug.cgi?id=147806
            <rdar://problem/22102378>

            Reviewed by Darin Adler.

            * fast/text/crash-obscure-text-expected.txt: Added.
            * fast/text/crash-obscure-text.html: Added.

2015-08-11  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r188263. rdar://problem/22202935

    2015-08-11  Myles C. Maxfield  <mmaxfield@apple.com>

            [iOS] Arabic letter Yeh is drawn in LastResort
            https://bugs.webkit.org/show_bug.cgi?id=147862
            <rdar://problem/22202935>

            Reviewed by Darin Adler.

            * fast/text/arabic-glyph-cache-fill-combine-expected.html: Added.
            * fast/text/arabic-glyph-cache-fill-combine.html: Added.
            * platform/mac/TestExpectations: Mark test as iOS-specific
            * platform/gtk/TestExpectations: Mark test as iOS-specific
            * platform/efl/TestExpectations: Mark test as iOS-specific
            * platform/efl/TestExpectations: Mark test as iOS-specific

2015-08-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187778. rdar://problem/22098457

    2015-08-03  Brady Eidson  <beidson@apple.com>

            Fix ASSERTy test added in r187752

            * http/tests/appcache/resources/identifier-test-real.php: Only post one message.

2015-08-03  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187752. rdar://problem/22098457

    2015-08-03  Brady Eidson  <beidson@apple.com>

            Adding a test for:
            Crash when signing into twitter calling WebCore::DocumentLoader::responseReceived(WebCore::CachedResource*, WebCore::ResourceResponse const&).
            <rdar://problem/22098457> and https://bugs.webkit.org/show_bug.cgi?id=147560

            Reviewed by Alexey Proskuryakov.

            * http/tests/appcache/identifier-test-expected.txt: Added.
            * http/tests/appcache/identifier-test.html: Added.
            * http/tests/appcache/resources/identifier-test-real.php: Added.
            * http/tests/appcache/resources/identifier-test.manifest: Added.
            * http/tests/appcache/resources/identifier-test.php: Added.

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187556

    2015-07-29  Brady Eidson  <beidson@apple.com>

            Crash calling webSocket.close() from onError handler for blocked web socket.
            <rdar://problem/21771620> and https://bugs.webkit.org/show_bug.cgi?id=147411

            Reviewed by Tim Horton.

            * http/tests/security/mixedContent/resources/frame-with-insecure-websocket.html: Add a call to webSocket.close() inside the onError handler.
            * http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt:
            * http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt:

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187535

    2015-07-28  Simon Fraser  <simon.fraser@apple.com>

            Animations sometimes fail to start
            https://bugs.webkit.org/show_bug.cgi?id=147394
            rdar://problem/21852603

            Reviewed by Dean Jackson.

            Test that starts an accelerated and non-accelerated animation, then removes
            the node for the accelerated one.

            * animations/remove-syncing-animation-expected.txt: Added.
            * animations/remove-syncing-animation.html: Added.

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187525

    2015-07-28  Myles C. Maxfield  <mmaxfield@apple.com>

            [iOS] Crash when encountering characters whose natural font is one we can't look up
            https://bugs.webkit.org/show_bug.cgi?id=147377
            <rdar://problem/22022011>

            Reviewed by Simon Fraser.

            * fast/text/crash-complex-unknown-font-expected.html: Added.
            * fast/text/crash-complex-unknown-font.html: Added.

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187523

    2015-07-28  Chris Dumez  <cdumez@apple.com>

            Tests introduced in r187489 are flaky
            https://bugs.webkit.org/show_bug.cgi?id=147327

            Rubber-stamped by Benjamin Poulain.

            Tests introduced in r187489 are flaky, they sometimes print the console
            message, sometimes not. The reason is that we sometimes use a cached
            parsed stylesheet and we do not print the warning in this case. To fix
            the flakiness, we now clear the memory cache at the beginning of each
            test to make sure we download and parse the stylesheets.

            * http/tests/security/cross-origin-css-1.html:
            * http/tests/security/cross-origin-css-2.html:
            * http/tests/security/cross-origin-css-3.html:
            * http/tests/security/cross-origin-css-4.html:
            * http/tests/security/cross-origin-css-5.html:
            * http/tests/security/cross-origin-css-6.html:
            * http/tests/security/cross-origin-css-7.html:
            * http/tests/security/cross-origin-css-8.html:
            * http/tests/security/cross-origin-css-in-quirks-1.html:
            * http/tests/security/cross-origin-css-in-quirks-2.html:
            * http/tests/security/cross-origin-css-in-quirks-3.html:
            * http/tests/security/cross-origin-css-in-quirks-4.html:
            * http/tests/security/cross-origin-css-in-quirks-5.html:
            * http/tests/security/cross-origin-css-in-quirks-6.html:
            * http/tests/security/cross-origin-css-in-quirks-7.html:
            * http/tests/security/cross-origin-css-in-quirks-8.html:
            * http/tests/security/same-origin-css-1.html:
            * http/tests/security/same-origin-css-2.html:
            * http/tests/security/same-origin-css-3.html:
            * http/tests/security/same-origin-css-4.html:
            * http/tests/security/same-origin-css-5.html:
            * http/tests/security/same-origin-css-6.html:
            * http/tests/security/same-origin-css-7.html:
            * http/tests/security/same-origin-css-8.html:
            * http/tests/security/same-origin-css-in-quirks.html:

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187512

    2015-07-28  Chris Dumez  <cdumez@apple.com>

            Unreviewed, fix wrong test baseline landed in r187489.

            * http/tests/security/same-origin-css-4-expected.txt:

2015-07-31  Lucas Forschler  <lforschler@apple.com>

        Merge r187489

    2015-07-28  Chris Dumez  <cdumez@apple.com>

            Allow lax MIME type parsing for same-origin CSS in quirks mode.
            https://bugs.webkit.org/show_bug.cgi?id=147327
            <rdar://problem/22010303>

            Reviewed by Zalan Bujtas.

            Add layout test coverage for MIME type parsing for same-origin CSS in
            quirks mode and not.

            * http/tests/inspector/css/bad-mime-type-expected.txt:
            * http/tests/mime/standard-mode-does-not-load-stylesheet-with-text-plain-and-css-extension-expected.txt:
            * http/tests/mime/standard-mode-does-not-load-stylesheet-with-text-plain-expected.txt:
            * http/tests/misc/css-accept-any-type-expected.txt: Removed.
            * http/tests/misc/css-accept-any-type.html: Removed.
            * http/tests/misc/css-reject-any-type-in-strict-mode-expected.txt:
            * http/tests/security/cross-origin-css-1-expected.txt:
            * http/tests/security/cross-origin-css-2-expected.txt:
            * http/tests/security/cross-origin-css-4-expected.txt:
            * http/tests/security/cross-origin-css-5-expected.txt:
            * http/tests/security/cross-origin-css-7-expected.txt:
            * http/tests/security/cross-origin-css-in-quirks-1-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-1-expected.txt.
            * http/tests/security/cross-origin-css-in-quirks-1.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-2-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-2-expected.txt.
            * http/tests/security/cross-origin-css-in-quirks-2.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-3-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-3.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-4-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-4.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-5-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-5-expected.txt.
            * http/tests/security/cross-origin-css-in-quirks-5.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-6-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-6.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-7-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-7.html: Added.
            * http/tests/security/cross-origin-css-in-quirks-8-expected.txt: Added.
            * http/tests/security/cross-origin-css-in-quirks-8.html: Added.
            * http/tests/security/same-origin-css-1-expected.txt: Added.
            * http/tests/security/same-origin-css-1.html: Added.
            * http/tests/security/same-origin-css-2-expected.txt: Added.
            * http/tests/security/same-origin-css-2.html: Added.
            * http/tests/security/same-origin-css-3-expected.txt: Added.
            * http/tests/security/same-origin-css-3.html: Added.
            * http/tests/security/same-origin-css-4-expected.txt: Added.
            * http/tests/security/same-origin-css-4.html: Added.
            * http/tests/security/same-origin-css-5-expected.txt: Added.
            * http/tests/security/same-origin-css-5.html: Added.
            * http/tests/security/same-origin-css-6-expected.txt: Added.
            * http/tests/security/same-origin-css-6.html: Added.
            * http/tests/security/same-origin-css-7-expected.txt: Copied from LayoutTests/http/tests/security/cross-origin-css-7-expected.txt.
            * http/tests/security/same-origin-css-7.html: Added.
            * http/tests/security/same-origin-css-8-expected.txt: Added.
            * http/tests/security/same-origin-css-8.html: Added.
            * http/tests/security/same-origin-css-in-quirks-expected.txt: Added.
            * http/tests/security/same-origin-css-in-quirks.html: Added.
            * platform/mac/http/tests/misc/acid3-expected.txt:

2015-07-30  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187278. rdar://problem/19908029

    2015-07-23  Nan Wang  <n_wang@apple.com>

            AX: AccessibilityNodeObject::childrenChanged() generates too many AXLiveRegionChanged notifications
            https://bugs.webkit.org/show_bug.cgi?id=147211
            <rdar://problem/19908029>

            Reviewed by Chris Fleizach.

            * platform/mac/accessibility/aria-liveregions-notifications-always-sent-expected.txt:
            * platform/mac/accessibility/aria-liveregions-notifications-always-sent.html:
            * platform/mac/accessibility/aria-liveregions-notifications-expected.txt:
            * platform/mac/accessibility/aria-liveregions-notifications.html:
            * platform/mac/accessibility/aria-multiple-liveregions-notification-expected.txt: Added.
            * platform/mac/accessibility/aria-multiple-liveregions-notification.html: Added.

2015-07-30  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187504. rdar://problem/21915355

    2015-07-28  Said Abou-Hallawa  <sabouhallawa@apple.com>

            Crash happens when calling removeEventListener for an SVG element which has an instance inside a <defs> element of shadow tree
            https://bugs.webkit.org/show_bug.cgi?id=147290

            Reviewed by Daniel Bates.

            Make sure we do not crash when when calling removeEventListener() for an
            element which is cloned under a disallowed parent inside the shadow tree
            of another <use> element.

            * svg/custom/remove-event-listener-shadow-disallowed-element-expected.txt: Added.
            * svg/custom/remove-event-listener-shadow-disallowed-element.svg: Added.

2015-07-27  Alexey Proskuryakov  <ap@apple.com>

        More test gardening after r187346 ('>>' descendant combinator).

        * platform/mac/TestExpectations:

2015-07-27  Alexey Proskuryakov  <ap@apple.com>

        Merge r187443.

    2015-07-27  Alexey Proskuryakov  <ap@apple.com>

            Test result gardening for El Capitan.

            * platform/mac-yosemite/fast/text/international/bold-bengali-expected.png: Copied from LayoutTests/platform/mac/fast/text/international/bold-bengali-expected.png.
            * platform/mac-yosemite/fast/text/international/bold-bengali-expected.txt: Copied from LayoutTests/platform/mac/fast/text/international/bold-bengali-expected.txt.
            * platform/mac/fast/text/font-weights-zh-expected.txt:
            * platform/mac/fast/text/international/bold-bengali-expected.png:
            * platform/mac/fast/text/international/bold-bengali-expected.txt:
            * platform/mac/fast/text/international/danda-space-expected.png:
            * platform/mac/fast/text/international/danda-space-expected.txt:

2015-07-27  Alexey Proskuryakov  <ap@apple.com>

        Merge r187439 and r187441.

    2015-07-27  Alexey Proskuryakov  <ap@apple.com>

            More test expectations for rdar://problem/22014672

            * platform/mac/TestExpectations:


    2015-07-27  Alexey Proskuryakov  <ap@apple.com>

            Add test expectations for rdar://problem/22014672

            * platform/mac/TestExpectations:

2015-07-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r187395.

    2015-07-25  Alexey Proskuryakov  <ap@apple.com>

            inspector/css/modify-rule-selector.html times out (flakily on some platforms, and
            every time on others).
            https://bugs.webkit.org/show_bug.cgi?id=147229

            * platform/gtk/TestExpectations:
            * platform/mac-wk2/TestExpectations:
            * platform/win/TestExpectations:
            Added expectations.

2015-07-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r187352.

    2015-07-24  Devin Rousso  <drousso@apple.com>

            Web Inspector: Editing non-inspector-stylesheet rule selectors fails after the first change
            https://bugs.webkit.org/show_bug.cgi?id=147229

            Reviewed by Timothy Hatcher.

            * inspector/css/modify-rule-selector-expected.txt: Added.
            * inspector/css/modify-rule-selector.html: Added.

2015-07-27  Babak Shafiei  <bshafiei@apple.com>

        Merge r187371.

    2015-07-24  Chris Fleizach  <cfleizach@apple.com>

            AX: scrollable elements do not allow 3-finger swipe
            https://bugs.webkit.org/show_bug.cgi?id=141893

            Reviewed by Mario Sanchez Prada.

            * platform/ios-simulator/accessibility/scroll-in-overflow-div-expected.txt: Added.
            * platform/ios-simulator/accessibility/scroll-in-overflow-div.html: Added.

2015-07-25  Alexey Proskuryakov  <ap@apple.com>

        Updating an expectation to actually work (it's a reftest, so it needs ImageOnlyFailure).

        * platform/mac/TestExpectations:

2015-07-25  Alexey Proskuryakov  <ap@apple.com>

        Update test results after r187346 ('>>' descendant combinator).

        * fast/css/css-selector-text-expected.txt:
        * fast/css/css-set-selector-text-expected.txt:
        * fast/css/parsing-css-attribute-case-insensitive-value-1-expected.txt:
        * fast/css/parsing-css-attribute-case-insensitive-value-4-expected.txt:
        * fast/css/parsing-css-descendant-combinator-doubled-child-syntax-expected.txt:
        * fast/selectors/case-insensitive-attribute-register-requirement-2-expected.txt:
        * fast/selectors/element-closest-descendant-combinator-doubled-child-syntax-expected.txt:
        * fast/selectors/element-matches-attribute-ascii-case-insensitive-html-expected.txt:
        * fast/selectors/element-matches-descendant-combinator-doubled-child-syntax-expected.txt:
        * fast/selectors/nth-child-matching-first-expected.txt:
        * fast/selectors/nth-last-child-matching-first-expected.txt:
        * fast/selectors/querySelector-attribute-ascii-case-insensitive-html-expected.txt:
        * fast/selectors/querySelector-descendant-combinator-doubled-child-syntax-expected.txt:
        * platform/mac/TestExpectations:

2015-07-24  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187271. rdar://problem/21929247

    2015-07-22  Simon Fraser  <simon.fraser@apple.com>

            Layer z-ordering is incorrect when scrolling on page witih position:fixed
            https://bugs.webkit.org/show_bug.cgi?id=147220
            rdar://problem/15849697&21929247

            Reviewed by Dean Jackson.

            Tests that reveal the overlap area by creating lots of small layers, and dumping
            the layer tree.

            * compositing/layer-creation/fixed-overlap-extent-expected.txt: Added.
            * compositing/layer-creation/fixed-overlap-extent-rtl-expected.txt: Added.
            * compositing/layer-creation/fixed-overlap-extent-rtl.html: Added.
            * compositing/layer-creation/fixed-overlap-extent.html: Added.

2015-07-24  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187248. rdar://problem/21949735

    2015-07-23  Brady Eidson  <beidson@apple.com>

            Crash in WebPlatformStrategies::createPingHandle - Deref a null NetworkingContext.
            <rdar://problem/21949735> and https://bugs.webkit.org/show_bug.cgi?id=147227

            Reviewed by Alexey Proskuryakov.

            * http/tests/security/contentSecurityPolicy/user-style-sheet-font-crasher-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/user-style-sheet-font-crasher.html: Added.

2015-07-24  Matthew Hanson  <matthew_hanson@apple.com>

        Merge r187189. rdar://problem/21567767

    2015-07-22  Dean Jackson  <dino@apple.com>

            Out of bounds in WebGLRenderingContext::simulateVertexAttrib0
            https://bugs.webkit.org/show_bug.cgi?id=147176
            <rdar://problem/21567767>

            Reviewed by Oliver Hunt.

            * fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays-expected.txt: Added.
            * fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays.html: Added.

2015-07-24  Lucas Forschler  <lforschler@apple.com>

        Merge r187133

    2015-07-21  Benjamin Poulain  <bpoulain@apple.com>

            StyleSheetContents::wrapperInsertRule() can create rules that overflow RuleData's selector index
            https://bugs.webkit.org/show_bug.cgi?id=147144

            Reviewed by Alex Christensen.

            This bug was affecting two parts of WebKit:
            -In CSSOM, StyleSheet.insertRule() could create bogus rules.
             The new test verifies that the call fails instead of creating undefined
             behaviors.
            -In ContentExtensions, large selectors are now working correctly. The tests
             cover the case of a default stylesheet and an dynamic stylesheet.

            * fast/css/insert-rule-overflow-rule-data-expected.txt: Added.
            * fast/css/insert-rule-overflow-rule-data.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-1-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-1.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-1.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-2-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-2.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-2.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-3-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-3.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-3.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-4-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-4.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-4.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-5-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-5.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-5.html.json: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-6-expected.txt: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-6.html: Added.
            * http/tests/contentextensions/css-display-none-overflows-rule-data-6.html.json: Added.

2015-07-23  Lucas Forschler  <lforschler@apple.com>

        Merge r187116

    2015-07-21  Said Abou-Hallawa  <sabouhallawa@apple.com>

            REGRESSION (r172417, r184065): Multiple rendering issues with fixed attached background-image
            https://bugs.webkit.org/show_bug.cgi?id=147049
            <rdar://problem/21110936>

            Reviewed by Simon Fraser.

            fixedLayoutSize background-image rendering for root and non-root elements.

            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-cover-expected.html: Added.
            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-cover.html: Added.
            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-local-expected.html: Added.
            * platform/mac-wk2/tiled-drawing/fixed-layout-size-fixed-attachment-local.html: Added.

2015-07-23  Lucas Forschler  <lforschler@apple.com>

        Merge r186994

    2015-07-18  David Kilzer  <ddkilzer@apple.com>

            REGRESSION (r186981): fast/repaint/block-inputrange-repaint.html is starting out life as flaky

            <https://webkit-test-results.appspot.com/dashboards/flakiness_dashboard.html#showAllRuns=true&tests=fast%2Frepaint%2Fblock-inputrange-repaint.html>

            * fast/repaint/block-inputrange-repaint.html:
            - Use setTimeout() to give WebKit time to repaint.

2015-07-23  Lucas Forschler  <lforschler@apple.com>

        Merge r186981

    2015-07-17  Zalan Bujtas  <zalan@apple.com>

            (display: block)input range's thumb disappears when moved.
            https://bugs.webkit.org/show_bug.cgi?id=146896
            <rdar://problem/21787807>

            Reviewed by Simon Fraser.

            Since the thumb is positioned after the layout for the input (shadow) subtree is finished, the repaint rects
            issued during the layout will not cover the re-positioned thumb.
            We need to issue a repaint soon after the thumb is re-positioned.

            * fast/repaint/block-inputrange-repaint-expected.txt: Added.
            * fast/repaint/block-inputrange-repaint.html: Added.

== Rolled over to ChangeLog-2015-07-23 ==
