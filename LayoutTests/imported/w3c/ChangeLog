2019-03-22  Alicia Boya García  <aboya@igalia.com>

        [MSE][GStreamer] Don't construct segments on PlaybackPipeline::flush
        https://bugs.webkit.org/show_bug.cgi?id=195867

        Reviewed by Xabier Rodriguez-Calvar.

        These tests check that video and audio are roughly in sync with each
        other and with the reported player position during MSE playback.

        * web-platform-tests/media-source/mediasource-correct-frames-after-reappend-expected.txt: Added.
        * web-platform-tests/media-source/mediasource-correct-frames-after-reappend.html: Added.
        * web-platform-tests/media-source/mediasource-correct-frames-expected.txt: Added.
        * web-platform-tests/media-source/mediasource-correct-frames.html: Added.
        * web-platform-tests/media-source/mp4/test-boxes-audio.mp4: Added.
        * web-platform-tests/media-source/mp4/test-boxes-video.mp4: Added.

2019-03-02  Darin Adler  <darin@apple.com>

        Retire legacy dtoa function and DecimalNumber class
        https://bugs.webkit.org/show_bug.cgi?id=195253

        Reviewed by Daniel Bates.

        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-iteration-composite-operation-expected.txt:
        Rebaseline still-failing part of this test that dumps super-small numbers that are formatted
        differently by the new code (exponential style).

2019-02-21  Rob Buis  <rbuis@igalia.com>

        Update MIME type parser
        https://bugs.webkit.org/show_bug.cgi?id=180526

        Reviewed by Darin Adler.

        Update improved test expectations.

        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2019-02-18  Oriol Brufau  <obrufau@igalia.com>

        [css-grid] Handle indefinite percentages in fit-content()
        https://bugs.webkit.org/show_bug.cgi?id=194509

        Reviewed by Javier Fernandez.

        Import WPT test.

        * web-platform-tests/css/css-grid/layout-algorithm/grid-fit-content-percentage-expected.txt: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-fit-content-percentage.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/w3c-import.log:

2019-02-12  Rob Buis  <rbuis@igalia.com>

        Align with Fetch on data: URLs
        https://bugs.webkit.org/show_bug.cgi?id=182325

        Reviewed by Alex Christensen.

        Update improved test expectations.

        * web-platform-tests/fetch/data-urls/processing.any-expected.txt:
        * web-platform-tests/fetch/data-urls/processing.any.worker-expected.txt:

2019-01-30  Youenn Fablet  <youenn@apple.com>

        ServiceWorkerJob should notify its client in case its job is cancelled
        https://bugs.webkit.org/show_bug.cgi?id=193747
        <rdar://problem/47498196>

        Reviewed by Chris Dumez.

        * web-platform-tests/service-workers/service-worker/registration-security-error.https-expected.txt:

2019-01-29  Rob Buis  <rbuis@igalia.com>

        Align with Fetch on data: URLs
        https://bugs.webkit.org/show_bug.cgi?id=182325

        Reviewed by Alex Christensen.

        Update improved test expectations.

        * web-platform-tests/fetch/data-urls/processing.any-expected.txt:
        * web-platform-tests/fetch/data-urls/processing.any.worker-expected.txt:
        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2019-01-29  cathie chen  <cathiechen@igalia.com>

        Import Resize Observer test cases from WPTs
        https://bugs.webkit.org/show_bug.cgi?id=193821

        Reviewed by Frédéric Wang.

        * resources/import-expectations.json:
        * web-platform-tests/resize-observer/META.yml: Added.
        * web-platform-tests/resize-observer/eventloop-expected.txt: Added.
        * web-platform-tests/resize-observer/eventloop.html: Added.
        * web-platform-tests/resize-observer/idlharness.window-expected.txt: Added.
        * web-platform-tests/resize-observer/idlharness.window.html: Added.
        * web-platform-tests/resize-observer/idlharness.window.js: Added.
        * web-platform-tests/resize-observer/notify-expected.txt: Added.
        * web-platform-tests/resize-observer/notify.html: Added.
        * web-platform-tests/resize-observer/observe-expected.txt: Added.
        * web-platform-tests/resize-observer/observe.html: Added.
        * web-platform-tests/resize-observer/resources/iframe.html: Added.
        * web-platform-tests/resize-observer/resources/resizeTestHelper.js: Added.
        (ResizeTestHelper):
        (ResizeTestHelper.prototype.get _currentStep):
        (ResizeTestHelper.prototype._nextStep):
        (ResizeTestHelper.prototype._handleNotification):
        (ResizeTestHelper.prototype._handleTimeout):
        (ResizeTestHelper.prototype._done):
        (ResizeTestHelper.prototype.start):
        (ResizeTestHelper.prototype.get rafCount):
        (ResizeTestHelper.prototype._incrementRaf):
        (ResizeTestHelper.prototype.startCountingRaf):
        * web-platform-tests/resize-observer/resources/w3c-import.log: Added.
        * web-platform-tests/resize-observer/svg-expected.txt: Added.
        * web-platform-tests/resize-observer/svg.html: Added.
        * web-platform-tests/resize-observer/w3c-import.log: Added.

2019-01-28  Rob Buis  <rbuis@igalia.com>

        Update MIME type parser
        https://bugs.webkit.org/show_bug.cgi?id=180526

        Reviewed by Frédéric Wang.

        Update improved test expectations.

        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2019-01-28  Oriol Brufau  <obrufau@igalia.com>

        [css-logical] Reject unitless length quirk in 'inset' shorthand
        https://bugs.webkit.org/show_bug.cgi?id=193773

        Reviewed by Manuel Rego Casasnovas.

        Import WPT tests that check that the unitless length quirk is not
        allowed in the 'inset' shorthand.

        * resources/import-expectations.json:
        * web-platform-tests/quirks/support/test-ref-iframe.js: Added.
        (setupIframe):
        * web-platform-tests/quirks/support/w3c-import.log: Added.
        * web-platform-tests/quirks/unitless-length/excluded-properties-001-expected.txt: Added.
        * web-platform-tests/quirks/unitless-length/excluded-properties-001.html: Added.
        * web-platform-tests/quirks/unitless-length/excluded-properties-002-expected.txt: Added.
        * web-platform-tests/quirks/unitless-length/excluded-properties-002.html: Added.
        * web-platform-tests/quirks/unitless-length/excluded-properties-003-expected.txt: Added.
        * web-platform-tests/quirks/unitless-length/excluded-properties-003.html: Added.
        * web-platform-tests/quirks/unitless-length/limited-quirks-expected.txt: Added.
        * web-platform-tests/quirks/unitless-length/limited-quirks.html: Added.
        * web-platform-tests/quirks/unitless-length/no-quirks-expected.txt: Added.
        * web-platform-tests/quirks/unitless-length/no-quirks.html: Added.
        * web-platform-tests/quirks/unitless-length/quirks-expected.txt: Added.
        * web-platform-tests/quirks/unitless-length/quirks.html: Added.
        * web-platform-tests/quirks/unitless-length/support/common.js: Added.
        (onload):
        * web-platform-tests/quirks/unitless-length/support/w3c-import.log: Added.
        * web-platform-tests/quirks/unitless-length/w3c-import.log: Added.

2019-01-24  Charles Vazac  <cvazac@akamai.com>

        Implement PerformanceObserver.supportedEntryTypes
        https://bugs.webkit.org/show_bug.cgi?id=193428

        Reviewed by Joseph Pecoraro.

        * web-platform-tests/resource-timing/supported_resource_type.any-expected.txt:
        * web-platform-tests/resource-timing/supported_resource_type.any.worker-expected.txt:

2019-01-23  Oriol Brufau  <obrufau@igalia.com>

        [css-logical] Implement flow-relative inset properties
        https://bugs.webkit.org/show_bug.cgi?id=189441

        Reviewed by Dean Jackson.

        Enable the CSSLogicalEnabled flag in the test for logical insets, and
        update its expectations. It still has some failures because sideways
        writing modes have not been implemented yet
        (https://bugs.webkit.org/show_bug.cgi?id=166941).

        * web-platform-tests/css/css-logical/logical-box-inset-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-inset.html:

2019-01-23  Oriol Brufau  <obrufau@igalia.com>

        [css-grid] Properly handle static positions of abspos inside grid items
        https://bugs.webkit.org/show_bug.cgi?id=193657

        Reviewed by Javier Fernandez.

        Import test changes from WPT.
        Various orthogonal tests still fail because of https://bugs.webkit.org/show_bug.cgi?id=189513
        Some other tests also fail because of https://bugs.webkit.org/show_bug.cgi?id=193656

        * resources/import-expectations.json:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-001-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-002-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-003-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-004-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-005-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-005.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-006-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-006.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-007-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-007.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-008-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-008.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-009-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-009.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-010-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-010.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-011-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-011.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-012-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-012.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-013-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-013.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-014-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-014.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-015-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-015.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-016-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-016.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-001-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-002-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-003-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-004-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-005-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-005.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-006-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-006.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-007-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-007.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-008-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-008.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-009-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-009.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-010-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-010.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-011-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-011.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-012-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-012.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-013-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-013.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-014-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-014.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-015-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-015.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-016-expected.txt: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-descendants-016.html: Added.
        * web-platform-tests/css/css-grid/abspos/support/positioned-grid-descendants.css: Added.
        (.grid):
        (.abspos):
        (.orthogonal):
        (.grid > :nth-child(1) > .abspos):
        (.grid > :nth-child(2) > .abspos):
        * web-platform-tests/css/css-grid/abspos/support/positioned-grid-descendants.js: Added.
        (export.runTests):
        * web-platform-tests/css/css-grid/abspos/support/w3c-import.log:
        * web-platform-tests/css/css-grid/abspos/w3c-import.log:

2019-01-23  Rob Buis  <rbuis@igalia.com>

        Update MIME type parser
        https://bugs.webkit.org/show_bug.cgi?id=180526

        Reviewed by Frédéric Wang.

        Update improved test expectations.

        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2019-01-22  Youenn Fablet  <youenn@apple.com>

        Resync libwebrtc with latest M72 branch
        https://bugs.webkit.org/show_bug.cgi?id=193693
        <rdar://problem/47463803>

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpTransceiver.https-expected.txt:

2019-01-22  Oriol Brufau  <obrufau@igalia.com>

        [css-logical] Implement flow-relative margin, padding and border shorthands
        https://bugs.webkit.org/show_bug.cgi?id=188697

        Reviewed by Simon Fraser and Antti Koivisto.

        Import tests from the WPT test suite for CSS Logical Properties and Values,
        and enable the CSSLogicalEnabled runtime flag for them.

        They still have some failures because sideways writing modes have not been
        implemented yet (https://bugs.webkit.org/show_bug.cgi?id=166941).

        * web-platform-tests/css/css-logical/logical-box-border-color-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-color.html:
        * web-platform-tests/css/css-logical/logical-box-border-shorthands-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-shorthands.html:
        * web-platform-tests/css/css-logical/logical-box-border-style-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-style.html:
        * web-platform-tests/css/css-logical/logical-box-border-width-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-width.html:
        * web-platform-tests/css/css-logical/logical-box-inset-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-inset.html:
        * web-platform-tests/css/css-logical/logical-box-margin-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-margin.html:
        * web-platform-tests/css/css-logical/logical-box-padding-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-padding.html:
        * web-platform-tests/css/css-logical/logical-box-size.html:
        * web-platform-tests/css/css-logical/resources/test-box-properties.js:
        (export.createBoxPropertyGroup):
        (export.createSizingPropertyGroup):
        (export.runTests.set test):
        (export.runTests):
        * web-platform-tests/css/css-logical/resources/test-shared.js: Added.
        (export.testCSSValues):
        (export.testComputedValues):
        (export.makeDeclaration):
        * web-platform-tests/css/css-logical/resources/w3c-import.log:

2019-01-18  Ali Juma  <ajuma@chromium.org>

        FetchResponse::url should return the empty string for tainted responses
        https://bugs.webkit.org/show_bug.cgi?id=193553

        Reviewed by Youenn Fablet.

        * web-platform-tests/fetch/api/basic/mode-no-cors.sub.any.js:
        (fetchNoCors):

2019-01-14  Charles Vazac  <cvazac@akamai.com>

        Import current Resource-Timing WPTs
        https://bugs.webkit.org/show_bug.cgi?id=193302

        Reviewed by Youenn Fablet.

        * web-platform-tests/resource-timing/SyntheticResponse.py:
        (main):
        * web-platform-tests/resource-timing/buffer-full-add-after-full-event-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-add-after-full-event.html: Added.
        * web-platform-tests/resource-timing/buffer-full-add-entries-during-callback-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-add-entries-during-callback-that-drop.html: Added.
        * web-platform-tests/resource-timing/buffer-full-add-entries-during-callback.html: Added.
        * web-platform-tests/resource-timing/buffer-full-add-then-clear-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-add-then-clear.html: Added.
        * web-platform-tests/resource-timing/buffer-full-decrease-buffer-during-callback.html: Added.
        * web-platform-tests/resource-timing/buffer-full-increase-buffer-during-callback-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-increase-buffer-during-callback.html: Added.
        * web-platform-tests/resource-timing/buffer-full-inspect-buffer-during-callback-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-inspect-buffer-during-callback.html: Added.
        * web-platform-tests/resource-timing/buffer-full-set-to-current-buffer-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-set-to-current-buffer.html: Added.
        * web-platform-tests/resource-timing/buffer-full-store-and-clear-during-callback-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-store-and-clear-during-callback.html: Added.
        * web-platform-tests/resource-timing/buffer-full-then-increased-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-then-increased.html: Added.
        * web-platform-tests/resource-timing/buffer-full-when-populate-entries-expected.txt: Added.
        * web-platform-tests/resource-timing/buffer-full-when-populate-entries.html: Added.
        * web-platform-tests/resource-timing/document-domain-no-impact-loader.sub-expected.txt: Added.
        * web-platform-tests/resource-timing/document-domain-no-impact-loader.sub.html: Added.
        * web-platform-tests/resource-timing/no-entries-for-cross-origin-css-fetched.sub-expected.txt: Added.
        * web-platform-tests/resource-timing/no-entries-for-cross-origin-css-fetched.sub.html: Added.
        * web-platform-tests/resource-timing/resource-timing-level1.js: Renamed from LayoutTests/imported/w3c/web-platform-tests/resource-timing/resource-timing.js.
        (assertInvariants):
        (window.onload):
        * web-platform-tests/resource-timing/resource-timing-level1.sub-expected.txt: Added.
        * web-platform-tests/resource-timing/resource-timing-level1.sub.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/resource-timing/resource-timing.html.
        * web-platform-tests/resource-timing/resource_connection_reuse.html:
        * web-platform-tests/resource-timing/resource_timing.worker.js:
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_populate_entries-expected.txt: Removed.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_populate_entries.html: Removed.
        * web-platform-tests/resource-timing/resource_timing_store_and_clear_during_callback-expected.txt: Removed.
        * web-platform-tests/resource-timing/resource_timing_store_and_clear_during_callback.html: Removed.
        * web-platform-tests/resource-timing/resources/buffer-full-utilities.js: Added.
        (let.appendScript):
        (let.waitForNextTask):
        (let.waitForEventToFire.return.new.Promise):
        (let.waitForEventToFire):
        * web-platform-tests/resource-timing/resources/document-domain-no-impact.sub.html: Added.
        * web-platform-tests/resource-timing/resources/iframe-setdomain.sub.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/resource-timing/iframe-setdomain.sub.html.
        * web-platform-tests/resource-timing/resources/w3c-import.log:
        * web-platform-tests/resource-timing/resources/webperftestharness.js:
        (wp_test):
        (test_namespace):
        * web-platform-tests/resource-timing/resources/webperftestharnessextension.js:
        (test_resource_entries):
        (performance_entrylist_checker): Deleted.
        * web-platform-tests/resource-timing/single-entry-per-resource.html:
        * web-platform-tests/resource-timing/supported_resource_type.any-expected.txt: Added.
        * web-platform-tests/resource-timing/supported_resource_type.any.html: Added.
        * web-platform-tests/resource-timing/supported_resource_type.any.js: Added.
        (test):
        * web-platform-tests/resource-timing/supported_resource_type.any.worker-expected.txt: Added.
        * web-platform-tests/resource-timing/supported_resource_type.any.worker.html: Added.
        * web-platform-tests/resource-timing/test_resource_timing.https-expected.txt: Added.
        * web-platform-tests/resource-timing/test_resource_timing.https.html: Added.
        * web-platform-tests/resource-timing/test_resource_timing.js:
        (resource_load):
        * web-platform-tests/resource-timing/w3c-import.log:
2019-01-10  Oriol Brufau  <obrufau@igalia.com>

        [css-grid] Let abspos items reference implicit grid lines
        https://bugs.webkit.org/show_bug.cgi?id=193313

        Reviewed by Manuel Rego Casasnovas.

        Import test changes from WPT.

        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-padding-001.html:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-unknown-named-grid-line-001.html:

2019-01-10  cathie chen  <cathiechen@igalia.com>

        Import css-lists testcases from WPT.
        https://bugs.webkit.org/show_bug.cgi?id=193273

        Reviewed by Daniel Bates.

        * resources/import-expectations.json:
        * resources/resource-files.json:
        * web-platform-tests/css/css-lists/META.yml: Added.
        * web-platform-tests/css/css-lists/add-inline-child-after-marker-001-expected.html: Added.
        * web-platform-tests/css/css-lists/add-inline-child-after-marker-001.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-armenian-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-armenian.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-circle-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-circle.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-decimal-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-decimal-leading-zero-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-decimal-leading-zero.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-decimal.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-disc-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-disc.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-georgian-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-georgian.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-lower-greek-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-lower-greek.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-lower-latin-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-lower-latin.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-lower-roman-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-lower-roman.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-square-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-square.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-upper-latin-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-upper-latin.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-upper-roman-expected.html: Added.
        * web-platform-tests/css/css-lists/content-property/marker-text-matches-upper-roman.html: Added.
        * web-platform-tests/css/css-lists/content-property/w3c-import.log: Added.
        * web-platform-tests/css/css-lists/counter-increment-inside-display-contents-expected.html: Added.
        * web-platform-tests/css/css-lists/counter-increment-inside-display-contents.html: Added.
        * web-platform-tests/css/css-lists/counter-invalid-expected.html: Added.
        * web-platform-tests/css/css-lists/counter-invalid.htm: Added.
        * web-platform-tests/css/css-lists/counter-reset-increment-display-contents-expected.html: Added.
        * web-platform-tests/css/css-lists/counter-reset-increment-display-contents.html: Added.
        * web-platform-tests/css/css-lists/counter-reset-increment-display-none-expected.html: Added.
        * web-platform-tests/css/css-lists/counter-reset-increment-display-none.html: Added.
        * web-platform-tests/css/css-lists/counter-reset-inside-display-contents-expected.html: Added.
        * web-platform-tests/css/css-lists/counter-reset-inside-display-contents.html: Added.
        * web-platform-tests/css/css-lists/inheritance-expected.txt: Added.
        * web-platform-tests/css/css-lists/inheritance.html: Added.
        * web-platform-tests/css/css-lists/li-with-height-001-expected.html: Added.
        * web-platform-tests/css/css-lists/li-with-height-001.html: Added.
        * web-platform-tests/css/css-lists/li-with-overflow-hidden-change-list-style-position-001-expected.html: Added.
        * web-platform-tests/css/css-lists/li-with-overflow-hidden-change-list-style-position-001.html: Added.
        * web-platform-tests/css/css-lists/list-and-block-textarea-001-expected.txt: Added.
        * web-platform-tests/css/css-lists/list-and-block-textarea-001.html: Added.
        * web-platform-tests/css/css-lists/list-and-flex-001-expected.html: Added.
        * web-platform-tests/css/css-lists/list-and-flex-001.html: Added.
        * web-platform-tests/css/css-lists/list-and-grid-001-expected.html: Added.
        * web-platform-tests/css/css-lists/list-and-grid-001.html: Added.
        * web-platform-tests/css/css-lists/list-and-margin-collapse-001-expected.txt: Added.
        * web-platform-tests/css/css-lists/list-and-margin-collapse-001.html: Added.
        * web-platform-tests/css/css-lists/list-and-writing-mode-001-expected.txt: Added.
        * web-platform-tests/css/css-lists/list-and-writing-mode-001.html: Added.
        * web-platform-tests/css/css-lists/list-marker-with-lineheight-and-overflow-hidden-001-expected.html: Added.
        * web-platform-tests/css/css-lists/list-marker-with-lineheight-and-overflow-hidden-001.html: Added.
        * web-platform-tests/css/css-lists/list-style-type-armenian-002.xht: Added.
        * web-platform-tests/css/css-lists/list-style-type-armenian-003.xht: Added.
        * web-platform-tests/css/css-lists/list-with-image-display-changed-001-expected.html: Added.
        * web-platform-tests/css/css-lists/list-with-image-display-changed-001.html: Added.
        * web-platform-tests/css/css-lists/resources/w3c-import.log: Added.
        * web-platform-tests/css/css-lists/resources/white.gif: Added.
        * web-platform-tests/css/css-lists/w3c-import.log: Added.

2019-01-08  Youenn Fablet  <youenn@apple.com>

        service worker fetch handler results in bad referrer
        https://bugs.webkit.org/show_bug.cgi?id=188248
        <rdar://problem/47050478>

        Reviewed by Alex Christensen.

        * web-platform-tests/service-workers/service-worker/referrer-policy-header.https-expected.txt:

2019-01-07  Dean Jackson  <dino@apple.com>

        Turn on Pointer Events by default for iOS
        https://bugs.webkit.org/show_bug.cgi?id=193214
        <rdar://problem/46974878>

        Reviewed by Wenson Hsieh.

        Update expected results.

        * web-platform-tests/pointerevents/extension/pointerevent_touch-action-verification-expected.txt:
        * web-platform-tests/pointerevents/pointerevent_touch-action-illegal-expected.txt:
        * web-platform-tests/pointerevents/pointerevent_touch-action-verification-expected.txt:

2019-01-07  Youenn Fablet  <youenn@apple.com>

        Resync WPT fetch tests to 834eac4
        https://bugs.webkit.org/show_bug.cgi?id=193125

        Reviewed by Chris Dumez.

        * web-platform-tests/fetch: Resynced.
        * web-platform-tests/html/webappapis/atob/base64-expected.txt:

2019-01-05  Youenn Fablet  <youenn@apple.com>

        Service Worker fetch should obey its referrer policy
        https://bugs.webkit.org/show_bug.cgi?id=193152

        Reviewed by Chris Dumez.

        * web-platform-tests/fetch/api/policies/referrer-origin-service-worker.https-expected.txt:
        * web-platform-tests/service-workers/service-worker/referrer-policy-header.https-expected.txt:

2019-01-04  Youenn Fablet  <youenn@apple.com>

        [Fetch API] Implement abortable fetch
        https://bugs.webkit.org/show_bug.cgi?id=174980
        <rdar://problem/46861402>

        Reviewed by Chris Dumez.

        Fixed tests to run in WebKit CI.
        Also fixed a bug in a test where the fetch response body is not actually empty.

        * web-platform-tests/fetch/api/abort/cache.https-expected.txt:
        * web-platform-tests/fetch/api/abort/general-serviceworker.https-expected.txt:
        * web-platform-tests/fetch/api/abort/general.any-expected.txt:
        * web-platform-tests/fetch/api/abort/general.any.js:
        * web-platform-tests/fetch/api/abort/general.any.worker-expected.txt:
        * web-platform-tests/fetch/api/abort/serviceworker-intercepted.https-expected.txt:
        * web-platform-tests/fetch/api/response/response-consume-stream-expected.txt:

2019-01-02  Simon Fraser  <simon.fraser@apple.com>

        Support css-color-4 rgb functions
        https://bugs.webkit.org/show_bug.cgi?id=192321

        Reviewed by Zalan Bujtas.
        
        New expected results.

        * web-platform-tests/css/css-color/color-resolving-expected.txt:
        * web-platform-tests/css/css-color/rgb-rounding-001-expected.txt:

2018-12-21  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-grid] Fix percentages in relative offsets for grid items
        https://bugs.webkit.org/show_bug.cgi?id=190492

        Reviewed by Sergio Villar Senin.

        * web-platform-tests/css/css-grid/grid-items/grid-items-relative-offsets-002-expected.txt:
          Update expected file as we're now passing this test.

2018-12-19  Youenn Fablet  <youenn@apple.com>

        Remove RTCRtpTransceiver.setDirection
        https://bugs.webkit.org/show_bug.cgi?id=192869

        Reviewed by Alex Christensen.

        * web-platform-tests/webrtc/historical-expected.txt:

2018-12-18  Justin Michaud  <justin_michaud@apple.com>

        Update CSS Properties and Values API to use new cycle fallback behaviour
        https://bugs.webkit.org/show_bug.cgi?id=192800

        Reviewed by Antti Koivisto.

        Re-import tests and adjust expected results. Some of the tests go from pass to fail because
        this patch adds some extra dependency checking to property registrations to fix a crash, but
        now unsupported syntaxes like <length-percentage> do not register properly.

        * web-platform-tests/css/css-properties-values-api/register-property-expected.txt:
        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt:
        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing.html:
        * web-platform-tests/css/css-properties-values-api/register-property.html:
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance.html:
        * web-platform-tests/css/css-properties-values-api/registered-property-computation-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-computation.html:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom.html:
        * web-platform-tests/css/css-properties-values-api/registered-property-initial-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-initial.html:
        * web-platform-tests/css/css-properties-values-api/resources/utils.js: Added.
        (generate_name):
        (any_initial_value):
        (generate_property):
        (all_syntaxes):
        * web-platform-tests/css/css-properties-values-api/resources/w3c-import.log: Added.
        * web-platform-tests/css/css-properties-values-api/self-utils-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/self-utils.html: Added.
        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt:
        * web-platform-tests/css/css-properties-values-api/typedom.tentative.html:
        * web-platform-tests/css/css-properties-values-api/unit-cycles-expected.txt:
        * web-platform-tests/css/css-properties-values-api/unit-cycles.html:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles.html:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties.html:
        * web-platform-tests/css/css-properties-values-api/w3c-import.log:

2018-12-18  Justin Michaud  <justin_michaud@apple.com>

        CSS Typed OM should expose attributeStyleMap
        https://bugs.webkit.org/show_bug.cgi?id=192671

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt:
        * web-platform-tests/css/css-properties-values-api/unit-cycles-expected.txt:

2018-12-14  Youenn Fablet  <youenn@apple.com>

        getSenders/getReceivers() should not return closed transceiver senders/receivers
        https://bugs.webkit.org/show_bug.cgi?id=192706

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-setDescription-transceiver.html:
        * web-platform-tests/webrtc/RTCRtpTransceiver.https.html:

2018-12-13  Youenn Fablet  <youenn@apple.com>

        RTCRtpTransceiver.stopped should be true when applying a remote description with the corresponding m section rejected
        https://bugs.webkit.org/show_bug.cgi?id=192685

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-setDescription-transceiver-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-setDescription-transceiver.html:

2018-12-10  Rob Buis  <rbuis@igalia.com>

        XMLHttpRequest removes spaces from content-types before processing
        https://bugs.webkit.org/show_bug.cgi?id=8644

        Reviewed by Chris Dumez.

        Update improved test expectations.

        * web-platform-tests/mimesniff/mime-types/parsing.any-expected.txt:
        * web-platform-tests/mimesniff/mime-types/parsing.any.worker-expected.txt:

2018-12-05  Youenn Fablet  <youenn@apple.com>

        [iOS] Layout Test imported/w3c/web-platform-tests/service-workers/service-worker/fetch-cors-xhr.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=189727
        <rdar://problem/44584993>

        Reviewed by Chris Dumez.

        Make the test more deterministic and output more test to ease debugging.

        * web-platform-tests/service-workers/service-worker/fetch-cors-xhr.https-expected.txt:
        * web-platform-tests/service-workers/service-worker/fetch-cors-xhr.https.html:
        * web-platform-tests/service-workers/service-worker/resources/fetch-cors-xhr-iframe.html:

2018-12-05  Frederic Wang  <fwang@igalia.com>

        Import css overscroll behavior WPT test
        https://bugs.webkit.org/show_bug.cgi?id=192397

        Reviewed by Manuel Rego Casasnovas.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-overscroll-behavior/META.yml: Added.
        * web-platform-tests/css/css-overscroll-behavior/inheritance-expected.txt: Added.
        * web-platform-tests/css/css-overscroll-behavior/inheritance.html: Added.
        * web-platform-tests/css/css-overscroll-behavior/w3c-import.log: Added.

2018-12-05  Alicia Boya García  <aboya@igalia.com>

        [MSE][GStreamer] Remove the AppendPipeline state machine
        https://bugs.webkit.org/show_bug.cgi?id=192204

        Reviewed by Xabier Rodriguez-Calvar.

        Added a test checking that initialization segments with invalid codec
        identifiers are flagged as errors.

        * web-platform-tests/media-source/mediasource-invalid-codec-expected.txt: Added.
        * web-platform-tests/media-source/mediasource-invalid-codec.html: Added.
        * web-platform-tests/media-source/mp4/invalid-codec.mp4: Added.
        * web-platform-tests/media-source/webm/invalid-codec.webm: Added.

2018-12-05  Rob Buis  <rbuis@igalia.com>

        [Mac] HEAD requests changed to GET after 301, 302, and 303 redirections (http/tests/xmlhttprequest/head-redirection.html)
        https://bugs.webkit.org/show_bug.cgi?id=114965

        Reviewed by Frédéric Wang.

        Update test expectations.

        * web-platform-tests/fetch/api/redirect/redirect-method-expected.txt:
        * web-platform-tests/fetch/api/redirect/redirect-method-worker-expected.txt:

2018-12-05  Rob Buis  <rbuis@igalia.com>

        Align with Fetch on data: URLs
        https://bugs.webkit.org/show_bug.cgi?id=182325

        Reviewed by Alex Christensen.

        Update improved test expectations.

        * web-platform-tests/fetch/api/basic/scheme-data.any-expected.txt:
        * web-platform-tests/fetch/api/basic/scheme-data.any.worker-expected.txt:

2018-11-30  Ryosuke Niwa  <rniwa@webkit.org>

        title attribute on style & link elements should be ignored inside a shadow tree
        https://bugs.webkit.org/show_bug.cgi?id=191297

        Reviewed by Antti Koivisto.

        Rebaseline the test case that's now passing.

        * web-platform-tests/css/css-scoping/stylesheet-title-002-expected.txt:

2018-11-30  Ryosuke Niwa  <rniwa@webkit.org>

        ShadowRoot should have styleSheets property
        https://bugs.webkit.org/show_bug.cgi?id=191311

        Reviewed by Antti Koivisto.

        Rebaselined the tests.

        * web-platform-tests/css/css-scoping/stylesheet-title-002-expected.txt: Rebaselined. The test now
        doesn't throw but fails with the actual check the test is intending to check.
        * web-platform-tests/css/cssom/selectorText-modification-restyle-002-expected.txt: Rebaselined
        now that all test cases pass.
        * web-platform-tests/shadow-dom/ShadowRoot-interface-expected.txt: Ditto.

2018-11-28  Ryosuke Niwa  <rniwa@webkit.org>

        Update web-platform-tests/shadow-dom
        https://bugs.webkit.org/show_bug.cgi?id=192137

        Reviewed by Antti Koivisto.

        Re-imported the shadow DOM tests from wpt.

        * resources/import-expectations.json:
        * web-platform-tests/shadow-dom/ShadowRoot-interface.html:
        * web-platform-tests/shadow-dom/event-dispatch-order.tentative-expected.txt: Added.
        * web-platform-tests/shadow-dom/event-dispatch-order.tentative.html: Added.
        * web-platform-tests/shadow-dom/input-type-radio-expected.txt: Added.
        * web-platform-tests/shadow-dom/input-type-radio.html: Added.
        * web-platform-tests/shadow-dom/resources/shadow-dom.js:
        (dispatchEventWithLog):
        (assert_event_path_equals):
        * web-platform-tests/shadow-dom/slots-outside-shadow-dom-expected.txt: Added.
        * web-platform-tests/shadow-dom/slots-outside-shadow-dom.html: Added.
        * web-platform-tests/shadow-dom/w3c-import.log:

2018-11-29  Youenn Fablet  <youenn@apple.com>

        Updating a service worker during a navigation load sometimes makes the load fail
        https://bugs.webkit.org/show_bug.cgi?id=191986
        <rdar://problem/46259790>

        Reviewed by Chris Dumez.

        * web-platform-tests/service-workers/service-worker/resources/trickle.py: Added.
        (main):
        * web-platform-tests/service-workers/service-worker/resources/update-fetch-worker.py: Added.
        (main):
        * web-platform-tests/service-workers/service-worker/update-on-navigation.https-expected.txt: Added.
        * web-platform-tests/service-workers/service-worker/update-on-navigation.https.html: Added.

2018-11-29  Rob Buis  <rbuis@igalia.com>

        Import fetch/api/cors tests
        https://bugs.webkit.org/show_bug.cgi?id=192092

        Reviewed by Frédéric Wang.

        Import to most recent checkout since some old
        tests like cors-multiple-origins.js were incorrect.

        * resources/import-expectations.json:
        * web-platform-tests/fetch/api/cors/cors-expose-star-worker.html: Removed.
        * web-platform-tests/fetch/api/cors/cors-expose-star.html: Removed.
        * web-platform-tests/fetch/api/cors/cors-expose-star.sub.any-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-expose-star-expected.txt.
        * web-platform-tests/fetch/api/cors/cors-expose-star.sub.any.html: Added.
        * web-platform-tests/fetch/api/cors/cors-expose-star.sub.any.js: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-expose-star.js.
        (sharedHeaders.string_appeared_here.promise_test):
        (string_appeared_here.promise_test):
        * web-platform-tests/fetch/api/cors/cors-expose-star.sub.any.worker-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-expose-star-worker-expected.txt.
        * web-platform-tests/fetch/api/cors/cors-expose-star.sub.any.worker.html: Added.
        * web-platform-tests/fetch/api/cors/cors-filtering-worker.html: Removed.
        * web-platform-tests/fetch/api/cors/cors-filtering.html: Removed.
        * web-platform-tests/fetch/api/cors/cors-filtering.sub.any-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-filtering-expected.txt.
        * web-platform-tests/fetch/api/cors/cors-filtering.sub.any.html: Added.
        * web-platform-tests/fetch/api/cors/cors-filtering.sub.any.js: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-filtering.js.
        (corsFilter):
        (corsExposeFilter):
        * web-platform-tests/fetch/api/cors/cors-filtering.sub.any.worker-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-filtering-worker-expected.txt.
        * web-platform-tests/fetch/api/cors/cors-filtering.sub.any.worker.html: Added.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins-worker-expected.txt: Removed.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins-worker.html: Removed.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.html: Removed.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.js: Removed.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.sub.any-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-multiple-origins-expected.txt.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.sub.any.html: Added.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.sub.any.js: Added.
        (corsMultipleOrigins):
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.sub.any.worker-expected.txt: Added.
        * web-platform-tests/fetch/api/cors/cors-multiple-origins.sub.any.worker.html: Added.
        * web-platform-tests/fetch/api/cors/cors-preflight-not-cors-safelisted.any-expected.txt: Added.
        * web-platform-tests/fetch/api/cors/cors-preflight-not-cors-safelisted.any.html: Added.
        * web-platform-tests/fetch/api/cors/cors-preflight-not-cors-safelisted.any.js: Added.
        (runTests):
        * web-platform-tests/fetch/api/cors/cors-preflight-not-cors-safelisted.any.worker-expected.txt: Added.
        * web-platform-tests/fetch/api/cors/cors-preflight-not-cors-safelisted.any.worker.html: Added.
        * web-platform-tests/fetch/api/cors/cors-preflight.any.js:
        (headerNames): Deleted.
        (): Deleted.
        (corsPreflight): Deleted.
        * web-platform-tests/fetch/api/cors/resources/corspreflight.js: Copied from LayoutTests/imported/w3c/web-platform-tests/fetch/api/cors/cors-preflight.any.js.
        (headerNames):
        (corsPreflight):
        * web-platform-tests/fetch/api/cors/resources/not-cors-safelisted.json: Added.
        * web-platform-tests/fetch/api/cors/resources/w3c-import.log: Added.
        * web-platform-tests/fetch/api/cors/sandboxed-iframe-expected.txt: Added.
        * web-platform-tests/fetch/api/cors/sandboxed-iframe.html: Added.
        * web-platform-tests/fetch/api/cors/w3c-import.log:

2018-11-28  Rob Buis  <rbuis@igalia.com>

        [XHR] Document.lastModified doesn't work for non-rendered documents
        https://bugs.webkit.org/show_bug.cgi?id=179375

        Reviewed by Alexey Proskuryakov.

        * web-platform-tests/xhr/responsexml-document-properties-expected.txt:

2018-11-28  Ali Juma  <ajuma@chromium.org>

        Intersection Observer: rootMargin: '' gives weird results
        https://bugs.webkit.org/show_bug.cgi?id=191975

        Reviewed by Simon Fraser.

        Add test coverage.

        * web-platform-tests/intersection-observer/empty-root-margin-expected.txt: Added.
        * web-platform-tests/intersection-observer/empty-root-margin.html: Added.

2018-11-27  Rob Buis  <rbuis@igalia.com>

        Block more ports (427, 548, 6697)
        https://bugs.webkit.org/show_bug.cgi?id=186092

        Reviewed by Frédéric Wang.

        Update request-bad-port.html to latest version.

        * web-platform-tests/fetch/api/request/request-bad-port-expected.txt:
        * web-platform-tests/fetch/api/request/request-bad-port.html:

2018-11-27  Chris Dumez  <cdumez@apple.com>

        Resync service-workers web platform tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=192035

        Reviewed by Youenn Fablet.

        Resync service-workers web platform tests from upstream 73507a79fc.

        * web-platform-tests/: Updated.

2018-11-27  Javier Fernandez  <jfernandez@igalia.com>

        [css-grid] align-self center and position sticky don't work together
        https://bugs.webkit.org/show_bug.cgi?id=191963

        Reviewed by Manuel Rego Casasnovas.

        This change makes several cases of the following tests to pass now.

        * web-platform-tests/css/css-grid/alignment/grid-column-axis-alignment-sticky-positioned-items-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-column-axis-alignment-sticky-positioned-items-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-alignment-sticky-positioned-items-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-alignment-sticky-positioned-items-002-expected.txt:

2018-11-26  Javier Fernandez  <jfernandez@igalia.com>

        [css-grid] absolute positioned child is sized wrongly when using auto-fit, generating spurious collapsed tracks
        https://bugs.webkit.org/show_bug.cgi?id=191938

        Reviewed by Manuel Rego Casasnovas.

        This change makes several cases of the following tests to pass now.

        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-and-autofit-tracks-004-expected.txt:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-and-autofit-tracks-005-expected.txt:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-and-autofit-tracks-006-expected.txt:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-and-autofit-tracks-007-expected.txt:

2018-11-26  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-grid] Fix grid container sizing under min-content height
        https://bugs.webkit.org/show_bug.cgi?id=191889

        Reviewed by Javier Fernandez.

        Imported tests from WPT.

        * web-platform-tests/css/css-grid/grid-model/grid-container-sizing-constraints-001-expected.txt: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-sizing-constraints-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/w3c-import.log:

2018-11-23  Javier Fernandez  <jfernandez@igalia.com>

        [css-grid] Implement Baseline Alignment for grid items
        https://bugs.webkit.org/show_bug.cgi?id=145566

        Reviewed by Manuel Rego Casasnovas.

        Updated test expectations of severla tests, that are now passing with the new code.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-003-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-004-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-005-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-006-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-007-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-008-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-column-axis-self-baseline-synthesized-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-column-axis-self-baseline-synthesized-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-column-axis-self-baseline-synthesized-003-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-column-axis-self-baseline-synthesized-004-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-003-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-004-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-003-expected.txt:
        * web-platform-tests/css/css-grid/alignment/self-baseline/grid-self-baseline-changes-grid-area-size-007.html:
        * web-platform-tests/css/css-grid/alignment/self-baseline/grid-self-baseline-changes-grid-area-size-008.html:
        * web-platform-tests/css/css-grid/alignment/self-baseline/grid-self-baseline-changes-grid-area-size-009.html:
        * web-platform-tests/css/css-grid/alignment/self-baseline/grid-self-baseline-changes-grid-area-size-010.html:
        * web-platform-tests/css/css-grid/alignment/self-baseline/grid-self-baseline-changes-grid-area-size-011.html:
        * web-platform-tests/css/css-grid/alignment/self-baseline/grid-self-baseline-changes-grid-area-size-012.html:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-margins-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-margins-vertical-lr-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-margins-vertical-rl-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-vertical-lr-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-vertical-rl-002-expected.txt:

2018-11-20  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-grid] Consider scrollbars in populateGridPositionsForDirection()
        https://bugs.webkit.org/show_bug.cgi?id=191656

        Reviewed by Javier Fernandez.

        Imported tests from WPT.

        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-001-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-lr-001-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-lr-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-rl-001-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-rl-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/w3c-import.log:

2018-11-19  Rob Buis  <rbuis@igalia.com>

        Setting document.title should have no effect for non SVG/HTML documents
        https://bugs.webkit.org/show_bug.cgi?id=191643

        Reviewed by Chris Dumez.

        * web-platform-tests/html/dom/documents/dom-tree-accessors/document.title-not-in-html-svg-expected.txt: Added.
        * web-platform-tests/html/dom/documents/dom-tree-accessors/document.title-not-in-html-svg.html: Added.

2018-11-18  Yusuke Suzuki  <yusukesuzuki@slowstart.org>

        Unreviewed, rolling in the rest of r237254
        https://bugs.webkit.org/show_bug.cgi?id=190340

        * web-platform-tests/html/webappapis/scripting/events/inline-event-handler-ordering-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/invalid-uncompiled-raw-handler-compiled-late-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/compile-error-in-attribute-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/compile-error-in-body-onerror-expected.txt:

2018-11-15  Truitt Savell  <tsavell@apple.com>

        Unreviewed, rolling out r238244.

        Caused High Sierra test runs to fail early with 50 crashes and
        casued 25 API failures.

        Reverted changeset:

        "[css-logical] Implement flow-relative margin, padding and
        border shorthands"
        https://bugs.webkit.org/show_bug.cgi?id=188697
        https://trac.webkit.org/changeset/238244

2018-11-15  Oriol Brufau  <obrufau@igalia.com>

        [css-logical] Implement flow-relative margin, padding and border shorthands
        https://bugs.webkit.org/show_bug.cgi?id=188697

        Reviewed by Simon Fraser and Antti Koivisto.

        Import tests from the WPT test suite for CSS Logical Properties and Values,
        and enable the CSSLogicalEnabled runtime flag for them.

        They still have some failures because sideways writing modes have not been
        implemented yet (https://bugs.webkit.org/show_bug.cgi?id=166941).

        * web-platform-tests/css/css-logical/logical-box-border-color-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-color.html:
        * web-platform-tests/css/css-logical/logical-box-border-shorthands-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-shorthands.html:
        * web-platform-tests/css/css-logical/logical-box-border-style-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-style.html:
        * web-platform-tests/css/css-logical/logical-box-border-width-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-border-width.html:
        * web-platform-tests/css/css-logical/logical-box-inset-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-inset.html:
        * web-platform-tests/css/css-logical/logical-box-margin-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-margin.html:
        * web-platform-tests/css/css-logical/logical-box-padding-expected.txt:
        * web-platform-tests/css/css-logical/logical-box-padding.html:
        * web-platform-tests/css/css-logical/logical-box-size.html:
        * web-platform-tests/css/css-logical/resources/test-box-properties.js:
        (export.createBoxPropertyGroup):
        (export.createSizingPropertyGroup):
        (export.runTests.set test):
        (export.runTests):
        * web-platform-tests/css/css-logical/resources/test-shared.js: Added.
        (export.testCSSValues):
        (export.testComputedValues):
        (export.makeDeclaration):
        * web-platform-tests/css/css-logical/resources/w3c-import.log:

2018-11-15  Truitt Savell  <tsavell@apple.com>

        Unreviewed, rolling out r238220.

        Introduced failing tests to iOS and is slowing down EWS

        Reverted changeset:

        "[css-grid] Consider scrollbars in
        populateGridPositionsForDirection()"
        https://bugs.webkit.org/show_bug.cgi?id=191656
        https://trac.webkit.org/changeset/238220

2018-11-15  Youenn Fablet  <youenn@apple.com>

        Update RTCPeerConnection JS built-ins to be closer to specWe
        https://bugs.webkit.org/show_bug.cgi?id=191665

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/rtcpeerconnection/rtcpeerconnection-idl-expected.txt:

2018-11-15  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-grid] Consider scrollbars in populateGridPositionsForDirection()
        https://bugs.webkit.org/show_bug.cgi?id=191656

        Reviewed by Javier Fernandez.

        Imported tests from WPT.

        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-001-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-lr-001-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-lr-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-rl-001-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-scrollbar-vertical-rl-001.html: Added.
        * web-platform-tests/css/css-grid/grid-model/w3c-import.log:

2018-11-14  Youenn Fablet  <youenn@apple.com>

        Convert libwebrtc error types to DOM exceptions
        https://bugs.webkit.org/show_bug.cgi?id=191590

        Reviewed by Alex Christensen.

        * web-platform-tests/webrtc/RTCConfiguration-rtcpMuxPolicy-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-setLocalDescription-answer-expected.txt:
        * web-platform-tests/webrtc/RTCRtpTransceiver.https-expected.txt:

2018-11-14  Youenn Fablet  <youenn@apple.com>

        Calling removeTrack on different RTCPeerConnection should throw InvalidAccessError
        https://bugs.webkit.org/show_bug.cgi?id=191603

        Reviewed by Chris Dumez.

        * web-platform-tests/webrtc/RTCPeerConnection-removeTrack.https-expected.txt:

2018-11-14  Youenn Fablet  <youenn@apple.com>

        Add support for RTCRtpCodecParameters.sdpFmtpLine
        https://bugs.webkit.org/show_bug.cgi?id=191591

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/protocol/video-codecs.https-expected.txt:

2018-11-14  Youenn Fablet  <youenn@apple.com>

        Add support for transport and peerConnection stats
        https://bugs.webkit.org/show_bug.cgi?id=191592

        Reviewed by Alex Christensen.

        * web-platform-tests/webrtc/RTCPeerConnection-getStats.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpReceiver-getStats.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpSender-getStats.https-expected.txt:
        * web-platform-tests/webrtc/getstats-expected.txt:

2018-11-13  Youenn Fablet  <youenn@apple.com>

        RTCPeerConnection.getTransceivers is not always exposing all transceivers
        https://bugs.webkit.org/show_bug.cgi?id=191589

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpTransceiver.https-expected.txt:

2018-11-13  Youenn Fablet  <youenn@apple.com>

        Refresh WPT webrtc tests to ToT
        https://bugs.webkit.org/show_bug.cgi?id=191564

        Reviewed by Eric Carlson.

        Also remove QUIC specific tests that are not related to webrtc-pc.
        * resources/import-expectations.json:
        * web-platform-tests/webrtc: refreshed.

2018-11-12  Rob Buis  <rbuis@igalia.com>

        Content-Type parameter values should allow empty quoted strings
        https://bugs.webkit.org/show_bug.cgi?id=191388

        Reviewed by Dean Jackson.

        Include improved expected test result and updated mime-type test:
        https://github.com/whatwg/mimesniff/pull/79

        * web-platform-tests/mimesniff/mime-types/charset-parameter.window-expected.txt:
        * web-platform-tests/mimesniff/mime-types/parsing.any-expected.txt:
        * web-platform-tests/mimesniff/mime-types/parsing.any.worker-expected.txt:
        * web-platform-tests/mimesniff/mime-types/resources/mime-types.json:
        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2018-11-12  Sihui Liu  <sihui_liu@apple.com>

        imported/w3c/web-platform-tests/IndexedDB/keygenerator-explicit.html crashing on iOS device
        https://bugs.webkit.org/show_bug.cgi?id=191500

        Reviewed by Dean Jackson.

        * web-platform-tests/IndexedDB/keygenerator-explicit-expected.txt:

2018-11-12  Youenn Fablet  <youenn@apple.com>

        Support setting stream ids when adding a transceiver
        https://bugs.webkit.org/show_bug.cgi?id=191307

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-transceivers.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpTransceiver.https-expected.txt:

2018-11-12  Eric Carlson  <eric.carlson@apple.com>

        Require <iframe allow="display"> for an iframe to use getDisplayMedia
        https://bugs.webkit.org/show_bug.cgi?id=191505
        <rdar://problem/45968811>

        Reviewed by Jer Noble.

        * web-platform-tests/mediacapture-streams/MediaStream-default-feature-policy.https-expected.txt:

2018-11-11  Javier Fernandez  <jfernandez@igalia.com>

        [css-grid] Import additional grid layout test from the WPT suite
        https://bugs.webkit.org/show_bug.cgi?id=191369

        Reviewed by Manuel Rego Casasnovas.

        New Grid Layout tests from the WPT suite.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-grid/META.yml: Added.
        * web-platform-tests/css/css-grid/OWNERS: Removed.
        * web-platform-tests/css/css-grid/abspos/support/grid.css:
        (.thirdRowThirdColumn):
        * web-platform-tests/css/css-grid/abspos/support/w3c-import.log:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-001-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-001.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-002-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-002.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-003-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-003.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-004-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-004.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-005-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-005.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-006-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-006.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-007-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-007.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-008-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-alignment-style-changes-008.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-002.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-003-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-003.html: Added.
        * web-platform-tests/css/css-grid/alignment/self-baseline/w3c-import.log:
        * web-platform-tests/css/css-grid/alignment/support/style-change.js:
        (evaluateStyleChangeMultiple):
        * web-platform-tests/css/css-grid/alignment/support/w3c-import.log:
        * web-platform-tests/css/css-grid/alignment/test-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-definition/support/grid.css:
        (.thirdRowThirdColumn):
        * web-platform-tests/css/css-grid/grid-definition/support/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-items/anonymous-grid-item-001.html: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-items-relative-offsets-001-expected.txt: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-items-relative-offsets-001.html: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-items-relative-offsets-002-expected.txt: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-items-relative-offsets-002.html: Added.
        * web-platform-tests/css/css-grid/grid-items/item-with-table-with-infinite-max-intrinsic-width-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-items/item-with-table-with-infinite-max-intrinsic-width.html: Added.
        * web-platform-tests/css/css-grid/grid-items/support/grid.css:
        (.thirdRowThirdColumn):
        * web-platform-tests/css/css-grid/grid-items/support/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-items/table-with-infinite-max-intrinsic-width-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-items/table-with-infinite-max-intrinsic-width.html: Added.
        * web-platform-tests/css/css-grid/grid-items/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-model/grid-container-ignores-first-letter-002-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-model/grid-container-ignores-first-letter-002.html: Added.
        * web-platform-tests/css/css-grid/grid-model/support/grid.css:
        (.thirdRowThirdColumn):
        * web-platform-tests/css/css-grid/grid-model/support/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-model/w3c-import.log:
        * web-platform-tests/css/css-grid/implicit-grids/w3c-import.log:
        * web-platform-tests/css/css-grid/inheritance-expected.txt: Added.
        * web-platform-tests/css/css-grid/inheritance.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-cols-filled-shrinkwrap-001-expected.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-cols-filled-shrinkwrap-001.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-cols-spanned-shrinkwrap-001-expected.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-cols-spanned-shrinkwrap-001.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-rows-filled-shrinkwrap-001-expected.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-rows-filled-shrinkwrap-001.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-rows-spanned-shrinkwrap-001-expected.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-percent-rows-spanned-shrinkwrap-001.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/w3c-import.log:
        * web-platform-tests/css/css-grid/parsing/grid-area-invalid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-area-invalid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-area-valid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-area-valid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-columns-invalid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-columns-invalid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-columns-valid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-columns-valid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-flow-invalid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-flow-invalid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-flow-valid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-flow-valid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-rows-invalid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-rows-invalid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-rows-valid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-auto-rows-valid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-template-areas-invalid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-template-areas-invalid.html: Added.
        * web-platform-tests/css/css-grid/parsing/grid-template-areas-valid-expected.txt: Added.
        * web-platform-tests/css/css-grid/parsing/grid-template-areas-valid.html: Added.
        * web-platform-tests/css/css-grid/parsing/w3c-import.log: Added.
        * web-platform-tests/css/css-grid/placement/w3c-import.log:
        * web-platform-tests/css/css-grid/test-plan/w3c-import.log:
        * web-platform-tests/css/css-grid/w3c-import.log:
        * web-platform-tests/css/support/META.yml: Added.
        * web-platform-tests/css/support/OWNERS: Removed.
        * web-platform-tests/css/support/computed-testcommon.js: Added.
        (test_computed_value):
        * web-platform-tests/css/support/grid.css:
        (.thirdRowThirdColumn):
        * web-platform-tests/css/support/inheritance-testcommon.js: Added.
        (assert_initial):
        * web-platform-tests/css/support/parsing-testcommon.js: Added.
        (test_valid_value):
        * web-platform-tests/css/support/support/w3c-import.log:
        * web-platform-tests/css/support/w3c-import.log:


2018-11-09  Andy Estes  <aestes@apple.com>

        [Payment Request] canMakePayment() should not consider serialized payment method data
        https://bugs.webkit.org/show_bug.cgi?id=191432

        Reviewed by Dean Jackson.

        * web-platform-tests/payment-request/payment-request-canmakepayment-method.https-expected.txt: Added.

2018-11-09  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Fix failing imported/w3c/web-platform-tests/media-source/mediasource-changetype-play.html test
        https://bugs.webkit.org/show_bug.cgi?id=191396

        Reviewed by Eric Carlson.

        Modify the changetype test suite to include a HEVC version.

        * web-platform-tests/media-source/hevc/test-v-128k-320x240-24fps-8kfr.mp4: Added.
        * web-platform-tests/media-source/mediasource-changetype-util.js:
        (findSupportedChangeTypeTestTypes):

2018-11-08  Andy Estes  <aestes@apple.com>

        [Payment Request] Update web platform tests
        https://bugs.webkit.org/show_bug.cgi?id=191426

        Updated web-platform-tests/payment-request/ to match wpt as of commit 577284e.

        Reviewed by Jiewen Tan.

        * resources/import-expectations.json:
        * web-platform-tests/payment-request/META.yml:
        * web-platform-tests/payment-request/payment-request-abort-method.https.html:
        * web-platform-tests/payment-request/payment-request-canmakepayment-method-protection.https-expected.txt: Added.
        * web-platform-tests/payment-request/payment-request-canmakepayment-method-protection.https.html: Added.
        * web-platform-tests/payment-request/payment-request-canmakepayment-method.https.html:
        * web-platform-tests/payment-request/payment-request-constructor.https.html:
        * web-platform-tests/payment-request/payment-request-id-attribute.https.html:
        * web-platform-tests/payment-request/payment-response/retry-method-manual.https.html:
        * web-platform-tests/payment-request/rejects_if_not_active.https.html:
        * web-platform-tests/payment-request/w3c-import.log:

2018-11-07  Youenn Fablet  <youenn@apple.com>

        Allow setting RTCRtpTransceiver.direction
        https://bugs.webkit.org/show_bug.cgi?id=191346

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-remote-track-mute.https-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-transceivers.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpTransceiver.https-expected.txt:

2018-11-06  Youenn Fablet  <youenn@apple.com>

        Reenable imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-ontrack.https.html
        https://bugs.webkit.org/show_bug.cgi?id=191343

        Unreviewed.

        * web-platform-tests/webrtc/RTCPeerConnection-ontrack.https-expected.txt:

2018-11-06  Youenn Fablet  <youenn@apple.com>

        sender.replaceTrack() fails with InvalidStateError if the transceiver.direction is "inactive"
        https://bugs.webkit.org/show_bug.cgi?id=191202

        Reviewed by Eric Carlson.

        Changes made upstreamed.

        * web-platform-tests/webrtc/RTCPeerConnection-setRemoteDescription-replaceTrack.https-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-setRemoteDescription-replaceTrack.https.html:

2018-11-06  Youenn Fablet  <youenn@apple.com>

        Add support for sender/receiver getCapabilities
        https://bugs.webkit.org/show_bug.cgi?id=191192

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpCapabilities-helper.js:
        (string_appeared_here.validateRtpCapabilities): Change already made upstream.
        * web-platform-tests/webrtc/RTCRtpReceiver-getCapabilities-expected.txt:
        * web-platform-tests/webrtc/RTCRtpSender-getCapabilities-expected.txt:
        * web-platform-tests/webrtc/RTCRtpTransceiver-setCodecPreferences-expected.txt:

2018-11-06  Youenn Fablet  <youenn@apple.com>

        Support onremovetrack for RTCPeerConnection removed tracks
        https://bugs.webkit.org/show_bug.cgi?id=191299

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-setRemoteDescription-tracks.https-expected.txt:

2018-11-06  Javier Fernandez  <jfernandez@igalia.com>

        CSS grid elements with justify-content: space-around have extra whitespace, sometimes a lot
        https://bugs.webkit.org/show_bug.cgi?id=191308

        Reviewed by Dean Jackson.

        Imported WPT to cover the behavior changes added in this patch.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-001-expected.txt: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-001.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-002-expected.txt: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-002.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-003-expected.txt: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-003.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-004-expected.txt: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-004.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/w3c-import.log:

2018-11-06  Youenn Fablet  <youenn@apple.com>

        Layout Test imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-setRemoteDescription-tracks.https.html is flaky
        https://bugs.webkit.org/show_bug.cgi?id=191278

        Reviewed by Eric Carlson.

        Updating test according upstreamed WPT.
        Rebased test accordingly.

        * web-platform-tests/webrtc/RTCPeerConnection-setRemoteDescription-tracks.https-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-setRemoteDescription-tracks.https.html:

2018-11-06  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Account for CSS zoom when computing client rects
        https://bugs.webkit.org/show_bug.cgi?id=191282

        Reviewed by Simon Fraser.

        Update expectation for test case that now passes.

        * web-platform-tests/intersection-observer/bounding-box-expected.txt:

2018-11-06  Antoine Quint  <graouts@apple.com>

        [Web Animations] Update all tests to match the latest API changes
        https://bugs.webkit.org/show_bug.cgi?id=191302
        <rdar://problem/41000438>

        Reviewed by Dean Jackson.

        * web-platform-tests/css-timing-1/cubic-bezier-timing-functions-output.html:
        * web-platform-tests/web-animations/META.yml: Added.
        * web-platform-tests/web-animations/README.md: Added.
        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property.html:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property.html:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property.html:
        * web-platform-tests/web-animations/animation-model/animation-types/property-list.js:
        * web-platform-tests/web-animations/animation-model/animation-types/property-types.js:
        * web-platform-tests/web-animations/animation-model/combining-effects/applying-the-composited-result-expected.txt: Added.
        * web-platform-tests/web-animations/animation-model/combining-effects/applying-the-composited-result.html: Added.
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-interval-distance-expected.txt: Added.
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-interval-distance.html: Added.
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-iteration-composite-operation.html:
        * web-platform-tests/web-animations/interfaces/Animatable/animate-expected.txt:
        * web-platform-tests/web-animations/interfaces/Animatable/animate.html:
        * web-platform-tests/web-animations/interfaces/Animatable/getAnimations.html:
        * web-platform-tests/web-animations/interfaces/Animation/cancel.html:
        * web-platform-tests/web-animations/interfaces/Animation/constructor.html:
        * web-platform-tests/web-animations/interfaces/Animation/effect.html:
        * web-platform-tests/web-animations/interfaces/Animation/finish-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/Animation/finish.html: Removed.
        * web-platform-tests/web-animations/interfaces/Animation/finished.html:
        * web-platform-tests/web-animations/interfaces/Animation/idlharness-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/Animation/idlharness.html: Removed.
        * web-platform-tests/web-animations/interfaces/Animation/idlharness.window.js: Added.
        * web-platform-tests/web-animations/interfaces/Animation/onfinish.html:
        * web-platform-tests/web-animations/interfaces/Animation/playbackRate-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/Animation/playbackRate.html: Removed.
        * web-platform-tests/web-animations/interfaces/Animation/ready.html:
        * web-platform-tests/web-animations/interfaces/AnimationEffect/getComputedTiming-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/interfaces/AnimationEffectTiming/getComputedTiming-expected.txt.
        * web-platform-tests/web-animations/interfaces/AnimationEffect/getComputedTiming.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/interfaces/AnimationEffectTiming/getComputedTiming.html.
        * web-platform-tests/web-animations/interfaces/AnimationEffect/updateTiming-expected.txt: Added.
        * web-platform-tests/web-animations/interfaces/AnimationEffect/updateTiming.html: Added.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/delay-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/delay.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/direction-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/direction.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/duration-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/duration.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/easing-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/easing.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/endDelay-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/endDelay.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/fill-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/fill.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/idlharness-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/idlharness.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/iterationStart-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/iterationStart.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/iterations-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/iterations.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationPlaybackEvent/idlharness-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationPlaybackEvent/idlharness.html: Removed.
        * web-platform-tests/web-animations/interfaces/AnimationPlaybackEvent/idlharness.window.js: Added.
        * web-platform-tests/web-animations/interfaces/Document/getAnimations-expected.txt:
        * web-platform-tests/web-animations/interfaces/Document/getAnimations.html:
        * web-platform-tests/web-animations/interfaces/DocumentTimeline/idlharness-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/DocumentTimeline/idlharness.html: Removed.
        * web-platform-tests/web-animations/interfaces/DocumentTimeline/idlharness.window.js: Added.
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/composite.html:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/constructor-expected.txt:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/constructor.html:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/copy-constructor-expected.txt:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/copy-constructor.html:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/idlharness-expected.txt: Removed.
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/idlharness.html: Removed.
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/idlharness.window.js: Added.
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/iterationComposite.html:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/processing-a-keyframes-argument-001-expected.txt:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/processing-a-keyframes-argument-001.html:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/setKeyframes-expected.txt:
        * web-platform-tests/web-animations/interfaces/KeyframeEffect/setKeyframes.html:
        * web-platform-tests/web-animations/resources/keyframe-tests.js:
        * web-platform-tests/web-animations/resources/timing-tests.js: Added.
        * web-platform-tests/web-animations/resources/timing-utils.js: Added.
        * web-platform-tests/web-animations/testcommon.js:
        * web-platform-tests/web-animations/timing-model/animation-effects/phases-and-states.html:
        * web-platform-tests/web-animations/timing-model/animations/canceling-an-animation-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/canceling-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/finishing-an-animation-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/finishing-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/pausing-an-animation-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/pausing-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/play-states-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/play-states.html:
        * web-platform-tests/web-animations/timing-model/animations/playing-an-animation-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/playing-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/reversing-an-animation-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/reversing-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/seamlessly-updating-the-playback-rate-of-an-animation-expected.txt: Added.
        * web-platform-tests/web-animations/timing-model/animations/seamlessly-updating-the-playback-rate-of-an-animation.html: Added.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-current-time-of-an-animation-expected.txt: Added.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-current-time-of-an-animation.html: Added.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-playback-rate-of-an-animation-expected.txt: Added.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-playback-rate-of-an-animation.html: Added.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-start-time-of-an-animation-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/set-the-animation-start-time-expected.txt.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-start-time-of-an-animation.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/set-the-animation-start-time.html.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-target-effect-of-an-animation-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/set-the-target-effect-of-an-animation-expected.txt.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-target-effect-of-an-animation.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/set-the-target-effect-of-an-animation.html.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-timeline-of-an-animation-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/set-the-timeline-of-an-animation-expected.txt.
        * web-platform-tests/web-animations/timing-model/animations/setting-the-timeline-of-an-animation.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/set-the-timeline-of-an-animation.html.
        * web-platform-tests/web-animations/timing-model/animations/the-current-time-of-an-animation-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/current-time-expected.txt.
        * web-platform-tests/web-animations/timing-model/animations/the-current-time-of-an-animation.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/web-animations/timing-model/animations/current-time.html.
        * web-platform-tests/web-animations/timing-model/animations/updating-the-finished-state-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/updating-the-finished-state.html:
        * web-platform-tests/web-animations/timing-model/timelines/document-timelines.html:
        * web-platform-tests/web-animations/timing-model/timelines/update-and-send-events-expected.txt: Added.
        * web-platform-tests/web-animations/timing-model/timelines/update-and-send-events.html: Added.

2018-11-06  Rob Buis  <rbuis@igalia.com>

        Some minor X-Content-Type-Options parsing issues
        https://bugs.webkit.org/show_bug.cgi?id=191107

        Reviewed by Darin Adler.

        Update improved result.

        * web-platform-tests/fetch/nosniff/parsing-nosniff-expected.txt:

2018-11-05  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Update WPTs to the latest upstream version
        https://bugs.webkit.org/show_bug.cgi?id=191274

        Reviewed by Simon Fraser.

        * web-platform-tests/intersection-observer/bounding-box-expected.txt:
        * web-platform-tests/intersection-observer/bounding-box.html:
        * web-platform-tests/intersection-observer/target-in-different-window-expected.txt: Added.
        * web-platform-tests/intersection-observer/target-in-different-window.html: Added.
        * web-platform-tests/intersection-observer/w3c-import.log:

2018-11-05  Chris Dumez  <cdumez@apple.com>

        Resync html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=191214

        Reviewed by Geoff Garen.

        Resync html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name WPT tests from
        upstream c583bcd7eb.

        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/creating_browsing_context_test_01-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/creating_browsing_context_test_01.html:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/no_window_open_when_term_nesting_level_nonzero.window-expected.txt: Added.
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/no_window_open_when_term_nesting_level_nonzero.window.html: Added.
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/no_window_open_when_term_nesting_level_nonzero.window.js: Added.
        (test.frame.contentWindow.onpagehide):
        (test.frame.contentDocument.onvisibilitychange):
        (test.frame.contentWindow.onbeforeunload):
        (test.frame.contentWindow.onunload):
        (test):
        (async_test):
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/non_automated/w3c-import.log:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/open-features-tokenization-noopener-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/open-features-tokenization-noopener.html:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/resources/message-opener.html:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/resources/w3c-import.log:
        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/w3c-import.log:

2018-11-05  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Fix isIntersecting computation when 0 is not a threshold
        https://bugs.webkit.org/show_bug.cgi?id=191210

        Reviewed by Simon Fraser.

        Update expectation for test that now passes.

        * web-platform-tests/intersection-observer/initial-observation-with-threshold-expected.txt:

2018-11-04  Youenn Fablet  <youenn@apple.com>

        IDB should allow storing RTCCertificate
        https://bugs.webkit.org/show_bug.cgi?id=191077

        Reviewed by Chris Dumez.

        * web-platform-tests/webrtc/RTCCertificate-postMessage.html: Added.
        * web-platform-tests/webrtc/resources/RTCCertificate-postMessage-iframe.html: Added.

2018-11-04  Youenn Fablet  <youenn@apple.com>

        Add support for RTCMuxPolicy
        https://bugs.webkit.org/show_bug.cgi?id=191188

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCConfiguration-rtcpMuxPolicy-expected.txt:
        * web-platform-tests/webrtc/rtcpeerconnection/rtcpeerconnection-constructor-expected.txt:

2018-11-03  Youenn Fablet  <youenn@apple.com>

        Refresh WPT webrtc tests
        https://bugs.webkit.org/show_bug.cgi?id=191133

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/: Refreshed.
        * web-platform-tests/webrtc/w3c-import.log:

2018-11-02  Ali Juma  <ajuma@chromium.org>

        Allow cross-document intersection observing
        https://bugs.webkit.org/show_bug.cgi?id=165746

        Reviewed by Simon Fraser.

        Update expectations for tests that now pass. 

        * web-platform-tests/intersection-observer/client-rect-expected.txt:
        * web-platform-tests/intersection-observer/cross-origin-iframe-expected.txt:
        * web-platform-tests/intersection-observer/iframe-no-root-expected.txt:
        * web-platform-tests/intersection-observer/timestamp-expected.txt:

2018-11-01  Chris Dumez  <cdumez@apple.com>

        Location object sans browsing context
        https://bugs.webkit.org/show_bug.cgi?id=191060

        Reviewed by Geoffrey Garen.

        * web-platform-tests/html/browsers/history/the-location-interface/no-browsing-context.window-expected.txt:
        Rebase WPT test now that all checks are passing.

        * web-platform-tests/html/browsers/history/the-location-interface/no-browsing-context.window.js:
        Fix bug in WPT test (https://github.com/web-platform-tests/wpt/pull/13854)

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window-expected.txt:

2018-11-01  Justin Michaud  <justin_michaud@apple.com>

        CSS Custom Properties API Should Support syntax="*" and "<length>", and handle cycles properly
        https://bugs.webkit.org/show_bug.cgi?id=191042

        Reviewed by Antti Koivisto.

        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt:
        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt:

2018-11-01  Chris Dumez  <cdumez@apple.com>

        Resync html/browsers/history/the-location-interface web platform tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=191139

        Reviewed by Alex Christensen.

        Resync html/browsers/history/the-location-interface web platform tests from upstream 8295368c82.

        * web-platform-tests/html/browsers/history/the-location-interface/assign_after_load-expected.txt: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/assign_after_load.html: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/assign_before_load-expected.txt: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/assign_before_load.html: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/location-origin-idna.sub.window-expected.txt: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/location-origin-idna.sub.window.html: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/location_assign-expected.txt: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/location_assign.html: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/no-browsing-context.window-expected.txt: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/no-browsing-context.window.html: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/no-browsing-context.window.js: Added.
        (test):
        (bcLessLocation):
        (forEach.testSetup.testSetup.values.forEach.value.test):
        (string_appeared_here.forEach.method.string_appeared_here.forEach.value.test):
        * web-platform-tests/html/browsers/history/the-location-interface/non-automated/w3c-import.log:
        * web-platform-tests/html/browsers/history/the-location-interface/per-global.window-expected.txt: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/per-global.window.html: Added.
        * web-platform-tests/html/browsers/history/the-location-interface/reload_post_1-1.html: Removed.
        * web-platform-tests/html/browsers/history/the-location-interface/reload_post_1-expected.txt: Removed.
        * web-platform-tests/html/browsers/history/the-location-interface/reload_post_1.html: Removed.
        * web-platform-tests/html/browsers/history/the-location-interface/resources/reload_post_1-1.py: Added.
        (main):
        * web-platform-tests/html/browsers/history/the-location-interface/resources/w3c-import.log:
        * web-platform-tests/html/browsers/history/the-location-interface/w3c-import.log:

2018-11-01  Youenn Fablet  <youenn@apple.com>

        RTCTrackEvent.streams should be SameObject
        https://bugs.webkit.org/show_bug.cgi?id=191130

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCTrackEvent-constructor-expected.txt:

2018-10-31  Chris Dumez  <cdumez@apple.com>

        Resync XHR Web Platform Tests from upstream 44dd29fb0d
        https://bugs.webkit.org/show_bug.cgi?id=191116

        Reviewed by Youenn Fablet.

        * web-platform-tests/xhr/getallresponseheaders-expected.txt:
        * web-platform-tests/xhr/getallresponseheaders.htm:
        * web-platform-tests/xhr/getresponseheader.any-expected.txt:
        * web-platform-tests/xhr/getresponseheader.any.js:
        (forEach.testValues.async_test.t.client.onload.t.step_func_done):
        (async_test.t.client.onload.t.step_func_done): Deleted.
        * web-platform-tests/xhr/getresponseheader.any.worker-expected.txt:
        * web-platform-tests/xhr/resources/header-content-length-twice.asis: Added.
        * web-platform-tests/xhr/resources/headers-double-empty.asis: Added.
        * web-platform-tests/xhr/resources/headers-some-are-empty.asis: Added.
        * web-platform-tests/xhr/resources/w3c-import.log:
        * web-platform-tests/xhr/setrequestheader-combining.window-expected.txt: Added.
        * web-platform-tests/xhr/setrequestheader-combining.window.html: Added.
        * web-platform-tests/xhr/setrequestheader-combining.window.js: Added.
        (test):
        * web-platform-tests/xhr/w3c-import.log:

2018-10-31  YUHAN WU  <yuhan_wu@apple.com>

        MediaRecorder should fire dataavailable event when all tracks are ended and stop() is called
        https://bugs.webkit.org/show_bug.cgi?id=190778

        Reviewed by Youenn Fablet.

        * web-platform-tests/mediacapture-record/BlobEvent-constructor-expected.txt:
        * web-platform-tests/mediacapture-record/MediaRecorder-destroy-script-execution-expected.txt: Added.
        * web-platform-tests/mediacapture-record/MediaRecorder-destroy-script-execution.html: Added.
        * web-platform-tests/mediacapture-record/MediaRecorder-stop-expected.txt:
        * web-platform-tests/mediacapture-record/MediaRecorder-stop.html:
        * web-platform-tests/mediacapture-record/support/MediaRecorder-iframe.html: Added.

2018-10-30  Chris Dumez  <cdumez@apple.com>

        Resync XHR Web Platform Tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=191085

        Reviewed by Alex Christensen.

        Resync XHR Web Platform Tests from upstream 75b0f336c5.

        * web-platform-tests/xhr/abort-after-stop.htm:
        * web-platform-tests/xhr/getallresponseheaders-expected.txt:
        * web-platform-tests/xhr/getallresponseheaders.htm:
        * web-platform-tests/xhr/getresponseheader.any-expected.txt: Added.
        * web-platform-tests/xhr/getresponseheader.any.html: Added.
        * web-platform-tests/xhr/getresponseheader.any.js: Added.
        (async_test.t.client.onload.t.step_func_done):
        * web-platform-tests/xhr/getresponseheader.any.worker-expected.txt: Added.
        * web-platform-tests/xhr/getresponseheader.any.worker.html: Added.
        * web-platform-tests/xhr/headers-normalize-response-expected.txt:
        * web-platform-tests/xhr/headers-normalize-response.htm:
        * web-platform-tests/xhr/open-after-abort.htm:
        * web-platform-tests/xhr/open-after-stop.window-expected.txt: Added.
        * web-platform-tests/xhr/open-after-stop.window.html: Added.
        * web-platform-tests/xhr/open-after-stop.window.js: Added.
        (onload):
        * web-platform-tests/xhr/overridemimetype-edge-cases.window-expected.txt:
        * web-platform-tests/xhr/overridemimetype-edge-cases.window.js:
        (async_test.t.client.onload.t.step_func_done):
        (async_test.t.client.onload.t.step_func):
        * web-platform-tests/xhr/resources/headers-www-authenticate.asis: Added.
        * web-platform-tests/xhr/resources/inspect-headers.py:
        (get_response):
        * web-platform-tests/xhr/resources/responseXML-unavailable-in-worker.js:
        (test):
        * web-platform-tests/xhr/resources/w3c-import.log:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-aborted.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-abortedonmain.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-overrides.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-overridesexpires.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-simple.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-synconmain.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-synconworker.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout-twice.js:
        * web-platform-tests/xhr/resources/xmlhttprequest-timeout.js:
        (AbortedRequest):
        (SyncRequestSettingTimeoutAfterOpen.this.startXHR):
        (SyncRequestSettingTimeoutAfterOpen):
        (SyncRequestSettingTimeoutBeforeOpen.this.startXHR):
        (SyncRequestSettingTimeoutBeforeOpen):
        (runTestRequests):
        * web-platform-tests/xhr/send-content-type-charset-expected.txt:
        * web-platform-tests/xhr/send-content-type-charset.htm:
        * web-platform-tests/xhr/send-data-readablestream.any-expected.txt: Added.
        * web-platform-tests/xhr/send-data-readablestream.any.html: Added.
        * web-platform-tests/xhr/send-data-readablestream.any.js: Added.
        (assert_xhr):
        (test):
        (promise_test.async):
        * web-platform-tests/xhr/send-data-readablestream.any.worker-expected.txt: Added.
        * web-platform-tests/xhr/send-data-readablestream.any.worker.html: Added.
        * web-platform-tests/xhr/setrequestheader-allow-empty-value-expected.txt:
        * web-platform-tests/xhr/setrequestheader-allow-whitespace-in-value-expected.txt:
        * web-platform-tests/xhr/setrequestheader-header-allowed-expected.txt:
        * web-platform-tests/xhr/setrequestheader-header-allowed.htm:
        * web-platform-tests/xhr/timeout-multiple-fetches.html:
        * web-platform-tests/xhr/w3c-import.log:
        * web-platform-tests/xhr/xmlhttprequest-timeout-aborted.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-abortedonmain.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-overrides.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-overridesexpires.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-simple.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-synconmain-expected.txt:
        * web-platform-tests/xhr/xmlhttprequest-timeout-synconmain.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-twice.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-worker-aborted.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-worker-overrides.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-worker-overridesexpires.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-worker-simple.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-worker-synconworker.html:
        * web-platform-tests/xhr/xmlhttprequest-timeout-worker-twice.html:

2018-10-30  Sihui Liu  <sihui_liu@apple.com>

        IndexedDB: iteration of cursors skip records if updated or deleted
        https://bugs.webkit.org/show_bug.cgi?id=190917
        <rdar://problem/35250410>

        Reviewed by Chris Dumez.

        Rebaseline the expectation for test that passes.

        * web-platform-tests/IndexedDB/idbcursor-iterating-update-expected.txt:

2018-10-28  Antoine Quint  <graouts@apple.com>

        [Web Animations] Implement the update animations and send events procedure
        https://bugs.webkit.org/show_bug.cgi?id=191013
        <rdar://problem/45620495>

        Reviewed by Dean Jackson.

        Progressions in a couple of Web Animations Web Platform Tests.

        * web-platform-tests/web-animations/timing-model/animations/current-time-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/updating-the-finished-state-expected.txt:

2018-10-29  Justin Michaud  <justin_michaud@apple.com>

        Revert r237347 registered custom properties... https://bugs.webkit.org/show_bug.cgi?id=190039
        https://bugs.webkit.org/show_bug.cgi?id=190919

        Reviewed by Michael Saboff.

        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt:
        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt:

2018-10-28  Andy Estes  <aestes@apple.com>

        [Payment Request] Implement MerchantValidationEvent.methodName
        https://bugs.webkit.org/show_bug.cgi?id=190058

        Reviewed by Darin Adler.

        * web-platform-tests/payment-request/MerchantValidationEvent/constructor.https-expected.txt:

2018-10-26  Antoine Quint  <graouts@apple.com>

        [Web Animations] Rebase some flaky tests
        https://bugs.webkit.org/show_bug.cgi?id=190969

        Reviewed by Dean Jackson.

        A few Web Animations tests that are flaky have outdated expectations. Rebasing them to have the output
        that is most likely to be produced.

        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-context-expected.txt:
        * web-platform-tests/web-animations/interfaces/Animatable/animate-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/current-time-expected.txt:
        * web-platform-tests/web-animations/timing-model/animations/updating-the-finished-state-expected.txt:

2018-10-25  Jiewen Tan  <jiewen_tan@apple.com>

        [WPT] Update resource-timing WPT tests to use the right cross origin
        https://bugs.webkit.org/show_bug.cgi?id=190554

        Reviewed by Youenn Fablet.

        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain-expected.txt:
        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain.html:
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect_chain-expected.txt:
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect_chain.html:

2018-10-22  Justin Michaud  <justin_michaud@apple.com>

        Registered custom properties should support syntax parameter for <length> and *
        https://bugs.webkit.org/show_bug.cgi?id=190039

        Reviewed by Antti Koivisto.

        Update WPT test results to fail in a new way.

        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt:
        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt:

2018-10-12  Jiewen Tan  <jiewen_tan@apple.com>

        Update web-platform-tests/resource-timing
        https://bugs.webkit.org/show_bug.cgi?id=190550

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/resource-timing/resource_initiator_types-expected.txt:
        * web-platform-tests/resource-timing/resource_subframe_self_navigation-expected.txt:
        * web-platform-tests/resource-timing/resource_timing_buffer_full_eventually.html:
        * web-platform-tests/resource-timing/resources/TAOResponse.py:
        (main):

2018-10-20  YUHAN WU  <yuhan_wu@apple.com>

        MediaRecorder should fire a stop event when all tracks are ended
        https://bugs.webkit.org/show_bug.cgi?id=190642

        Reviewed by Youenn Fablet.

        * web-platform-tests/mediacapture-record/MediaRecorder-stop-expected.txt: Added.
        * web-platform-tests/mediacapture-record/MediaRecorder-stop.html: Added.

2018-10-19  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, rolling out r237254.
        https://bugs.webkit.org/show_bug.cgi?id=190760

        "It regresses JetStream 2 by 5% on some iOS devices"
        (Requested by saamyjoon on #webkit).

        Reverted changeset:

        "[JSC] JSC should have "parseFunction" to optimize Function
        constructor"
        https://bugs.webkit.org/show_bug.cgi?id=190340
        https://trac.webkit.org/changeset/237254

2018-10-19  Charlie Turner  <cturner@igalia.com>

        [EME] Fix crash during tracing in  gst_qtdemux_request_protection_context
        https://bugs.webkit.org/show_bug.cgi?id=190738

        Reviewed by Xabier Rodriguez-Calvar.

        Add new passing baselines for some ClearKey tests, now that the
        GStreamer crash fix allows us the generate them.

        * web-platform-tests/encrypted-media/clearkey-mp4-playback-destroy-persistent-license.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-persistent-license.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-retrieve-destroy-persistent-license.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-retrieve-persistent-license.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-clear-encrypted.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-encrypted-clear-sources.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-multikey.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-multisession.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-setMediaKeys-after-update.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-setMediaKeys-immediately.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-setMediaKeys-onencrypted.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-two-videos.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-waitingforkey.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys-again-after-playback.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys-again-after-resetting-src.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys-multiple-times-with-different-mediakeys.https-expected.txt: Added.

2018-10-19  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Handle zero-area intersections
        https://bugs.webkit.org/show_bug.cgi?id=189624

        Reviewed by Simon Fraser.

        Rebaseline expectations for tests that now pass.

        * web-platform-tests/intersection-observer/edge-inclusive-intersection-expected.txt:
        * web-platform-tests/intersection-observer/isIntersecting-change-events-expected.txt:
        * web-platform-tests/intersection-observer/same-document-zero-size-target-expected.txt:
        * web-platform-tests/intersection-observer/text-target-expected.txt:
        * web-platform-tests/intersection-observer/zero-area-element-visible-expected.txt:

2018-10-18  Yusuke Suzuki  <yusukesuzuki@slowstart.org>

        [JSC] JSC should have "parseFunction" to optimize Function constructor
        https://bugs.webkit.org/show_bug.cgi?id=190340

        Reviewed by Mark Lam.

        * web-platform-tests/html/webappapis/scripting/events/inline-event-handler-ordering-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/invalid-uncompiled-raw-handler-compiled-late-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/compile-error-in-attribute-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/compile-error-in-body-onerror-expected.txt:

2018-10-17  Wenson Hsieh  <wenson_hsieh@apple.com>

        Enable the datalist element by default on iOS and macOS
        https://bugs.webkit.org/show_bug.cgi?id=190594
        <rdar://problem/45281159>

        Reviewed by Ryosuke Niwa and Tim Horton.

        Rebaseline some web platform tests.

        * web-platform-tests/html/semantics/forms/constraints/form-validation-validity-badInput-expected.txt:
        * web-platform-tests/html/semantics/forms/constraints/form-validation-willValidate-expected.txt:
        * web-platform-tests/html/semantics/forms/the-datalist-element/datalistoptions-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/hidden-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/selection-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/text-expected.txt:
        * web-platform-tests/shadow-dom/input-element-list-expected.txt:

2018-10-17  Charlie Turner  <cturner@igalia.com>

        [EME] Sanity check key ID length in the keyids init data format
        https://bugs.webkit.org/show_bug.cgi?id=190629

        Reviewed by Xabier Rodriguez-Calvar.

        * web-platform-tests/encrypted-media/clearkey-generate-request-disallowed-input.https-expected.txt:
        Added new baseline.

2018-10-16  Youenn Fablet  <youenn@apple.com>

        Support RTCConfiguration.certificates
        https://bugs.webkit.org/show_bug.cgi?id=190603

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCCertificate-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-constructor-expected.txt:
        * web-platform-tests/webrtc/rtcpeerconnection/rtcpeerconnection-constructor-expected.txt:

2018-10-16  Chris Dumez  <cdumez@apple.com>

        window.navigator should not become null after the window loses its browsing context
        https://bugs.webkit.org/show_bug.cgi?id=190595

        Reviewed by Ryosuke Niwa.

        Rebaseline test which is not failing differently. The last check of this test is checking that
        navigator.serviceWorker returns null after the frame has been detached. The test has been written
        this way because this is how Chromium behaves. However, Firefox keeps returning the
        ServiceWorkerContainer, as we do. Also, the specification indicates the the attribute cannot
        return null (since the attribute is not nullable):
        - https://w3c.github.io/ServiceWorker/#navigator-serviceworker

        * web-platform-tests/service-workers/service-worker/detached-context.https-expected.txt:

2018-10-16  Charlie Turner  <cturner@igalia.com>

        [EME] Add some ClearKey baselines for passing tests
        https://bugs.webkit.org/show_bug.cgi?id=190579

        Reviewed by Unreviewed test gardening.

        * web-platform-tests/encrypted-media/clearkey-check-initdata-type.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-events-session-closed-event.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-events.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-invalid-license.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-keystatuses-multiple-sessions.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-keystatuses.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys-at-same-time.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys-multiple-times-with-the-same-mediakeys.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys-to-multiple-video-elements.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-setmediakeys.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-syntax-mediakeysession.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-mp4-syntax-mediakeysystemaccess.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-not-callable-after-createsession.https-expected.txt: Added.
        * web-platform-tests/encrypted-media/clearkey-update-non-ascii-input.https-expected.txt: Added.

2018-10-15  Youenn Fablet  <youenn@apple.com>

        RTCPeerConnection.generateCertificate is not a function
        https://bugs.webkit.org/show_bug.cgi?id=173541
        <rdar://problem/32638029>

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCCertificate-expected.txt:
        * web-platform-tests/webrtc/RTCPeerConnection-generateCertificate-expected.txt:
        * web-platform-tests/webrtc/interfaces.https-expected.txt:
        * web-platform-tests/webrtc/rtcpeerconnection/rtcpeerconnection-constructor-expected.txt:

2018-10-15  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, rolling out r237054.
        https://bugs.webkit.org/show_bug.cgi?id=190593

        "this regressed JetStream 2 by 6% on iOS" (Requested by
        saamyjoon on #webkit).

        Reverted changeset:

        "[JSC] JSC should have "parseFunction" to optimize Function
        constructor"
        https://bugs.webkit.org/show_bug.cgi?id=190340
        https://trac.webkit.org/changeset/237054

2018-10-15  YUHAN WU  <yuhan_wu@apple.com>

        Implement error handler of MediaRecorder
        https://bugs.webkit.org/show_bug.cgi?id=190438

        Reviewed by Youenn Fablet.

        * web-platform-tests/mediacapture-record/MediaRecorder-error-expected.txt: Added.
        * web-platform-tests/mediacapture-record/MediaRecorder-error.html: Added.

2018-10-15  Chris Dumez  <cdumez@apple.com>

        Window's properties such as 'location' should not become null when it loses its browsing context
        https://bugs.webkit.org/show_bug.cgi?id=190539

        Reviewed by Alex Christensen.

        Rebaseline WPT test whose output has changed.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window-expected.txt:

2018-10-08  Yusuke Suzuki  <yusukesuzuki@slowstart.org>

        [JSC] JSC should have "parseFunction" to optimize Function constructor
        https://bugs.webkit.org/show_bug.cgi?id=190340

        Reviewed by Mark Lam.

        * web-platform-tests/html/webappapis/scripting/events/inline-event-handler-ordering-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/invalid-uncompiled-raw-handler-compiled-late-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/compile-error-in-attribute-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/compile-error-in-body-onerror-expected.txt:

2018-10-10  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rolling out r236802.

        Working on getting the HTML spec updated instead
        (https://github.com/whatwg/html/pull/4079)

        Reverted changeset:

        "Passing noopener=NOOPENER to window.open() should cause the
        new window to not have an opener"
        https://bugs.webkit.org/show_bug.cgi?id=190251
        https://trac.webkit.org/changeset/236802

2018-10-09  Antoine Quint  <graouts@apple.com>

        Remove the frames() timing function
        https://bugs.webkit.org/show_bug.cgi?id=190034
        <rdar://problem/44827544>

        Reviewed by Dean Jackson.

        * web-platform-tests/css-timing-1/frames-timing-functions-output-expected.txt:
        * web-platform-tests/css-timing-1/frames-timing-functions-syntax-expected.txt:
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-transformed-distance-expected.txt:
        * web-platform-tests/web-animations/interfaces/AnimationEffectTiming/easing-expected.txt:
        * web-platform-tests/web-animations/timing-model/time-transformations/transformed-progress-expected.txt:

2018-10-09  Oriol Brufau  <obrufau@igalia.com>

        Resolve inset properties to computed style when there is overconstraintment
        https://bugs.webkit.org/show_bug.cgi?id=188711

        Reviewed by Manuel Rego Casasnovas.

        This patch makes WebKit behave closer to Blink. Specifically,
         - In overconstrained relative or absolute positioning, inset properties resolve
           to the computed value (absolutizing percentages) instead of to the used value.
         - In fixed positioning, the resolved value of non-'auto' values is no longer
           increased by the border of the containg block.

        Some tests still have failures due to
         - https://bugs.webkit.org/show_bug.cgi?id=189513
         - https://bugs.webkit.org/show_bug.cgi?id=189518
         - https://bugs.webkit.org/show_bug.cgi?id=189549

        This patch can slighlty alter the resolved value if it's a long decimal number,
        that's why test expectations for the timing functions test changed.

        * web-platform-tests/css-timing-1/cubic-bezier-timing-functions-output-expected.txt:
        * web-platform-tests/css/cssom/getComputedStyle-insets-absolute-expected.txt: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-absolute.html: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-fixed-expected.txt: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-fixed.html: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-nobox-expected.txt: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-nobox.html: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-relative-expected.txt: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-relative.html: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-static-expected.txt: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-static.html: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-sticky-expected.txt: Added.
        * web-platform-tests/css/cssom/getComputedStyle-insets-sticky.html: Added.
        * web-platform-tests/css/cssom/support/getComputedStyle-insets.js: Added.
        (serialize):
        (wmName):
        (checkStyle):
        (runTestsWithWM):
        (export.runTests):

2018-10-08  Truitt Savell  <tsavell@apple.com>

        Attempt to fix test failure after 236915
        https://bugs.webkit.org/show_bug.cgi?id=190352

        Unreviewed Test Gardening

        * web-platform-tests/WebCryptoAPI/derive_bits_keys/hkdf.https.worker-expected.txt:

2018-10-08  Truitt Savell  <tsavell@apple.com>

        Rebaseline imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/hkdf.https.worker.html for Mojave
        https://bugs.webkit.org/show_bug.cgi?id=190352

        Unreviewed Test Expetations

        * web-platform-tests/WebCryptoAPI/derive_bits_keys/hkdf.https.worker-expected.txt:

2018-10-06  Justin Michaud  <justin_michaud@apple.com>

        Properly determine if css custom property values are computationally independent
        https://bugs.webkit.org/show_bug.cgi?id=190303

        Reviewed by Antti Koivisto.

        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-computation-expected.txt:

2018-10-04  Chris Dumez  <cdumez@apple.com>

        A Document / Window should lose its browsing context as soon as its iframe is removed from the document
        https://bugs.webkit.org/show_bug.cgi?id=190282

        Reviewed by Ryosuke Niwa.

        Rebaseline several WPT tests that are now passing. I have verified that those tests are also passing in
        Firefox and Chrome.

        * web-platform-tests/html/browsers/windows/nested-browsing-contexts/window-parent-null-expected.txt:
        * web-platform-tests/html/semantics/embedded-content/the-iframe-element/iframe-synchronously-discard-expected.txt:

2018-10-04  YUHAN WU  <yuhan_wu@apple.com>

        runtime flag and IDL for MediaRecorder
        https://bugs.webkit.org/show_bug.cgi?id=190018

        Reviewed by Youenn Fablet and Chris Dumez.

        * web-platform-tests/mediacapture-record/BlobEvent-constructor-expected.txt:
        * web-platform-tests/mediacapture-record/MediaRecorder-constructor-expected.txt: Added.
        * web-platform-tests/mediacapture-record/MediaRecorder-constructor.html: Added.

2018-10-03  Justin Michaud  <justin_michaud@apple.com>

        Registered custom properties should allow inheritance to be controlled
        https://bugs.webkit.org/show_bug.cgi?id=190038

        Reviewed by Antti Koivisto.

        Update web platform tests for css registered custom properties to fail in a different way.

        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-computation-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt:
        * web-platform-tests/css/css-properties-values-api/url-resolution-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt:

2018-10-03  Youenn Fablet  <youenn@apple.com>

        Add VP8 support to WebRTC
        https://bugs.webkit.org/show_bug.cgi?id=189976

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-addIceCandidate-expected.txt:

2018-10-03  Chris Dumez  <cdumez@apple.com>

        Passing noopener=NOOPENER to window.open() should cause the new window to not have an opener
        https://bugs.webkit.org/show_bug.cgi?id=190251

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/browsers/the-window-object/apis-for-creating-and-navigating-browsing-contexts-by-name/open-features-tokenization-noopener-expected.txt:

2018-10-03  Chris Dumez  <cdumez@apple.com>

        input.checked is incorrect while we're parsing its children
        https://bugs.webkit.org/show_bug.cgi?id=190227

        Reviewed by Ryosuke Niwa.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/semantics/forms/the-input-element/checked-expected.txt:

2018-10-03  Rob Buis  <rbuis@igalia.com>

        Import WPT mimesniff resources
        https://bugs.webkit.org/show_bug.cgi?id=190074

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/mimesniff/META.yml: Added.
        * web-platform-tests/mimesniff/README.md: Added.
        * web-platform-tests/mimesniff/mime-types/README.md: Added.
        * web-platform-tests/mimesniff/mime-types/charset-parameter.window-expected.txt: Added.
        * web-platform-tests/mimesniff/mime-types/charset-parameter.window.html: Added.
        * web-platform-tests/mimesniff/mime-types/charset-parameter.window.js: Added.
        (promise_test):
        (isByteCompatible):
        (encodeForURL):
        (runTests):
        * web-platform-tests/mimesniff/mime-types/parsing.any-expected.txt: Added.
        * web-platform-tests/mimesniff/mime-types/parsing.any.html: Added.
        * web-platform-tests/mimesniff/mime-types/parsing.any.js: Added.
        (promise_test):
        (isByteCompatible):
        (runTests):
        * web-platform-tests/mimesniff/mime-types/parsing.any.worker-expected.txt: Added.
        * web-platform-tests/mimesniff/mime-types/parsing.any.worker.html: Added.
        * web-platform-tests/mimesniff/mime-types/resources/generated-mime-types.json: Added.
        * web-platform-tests/mimesniff/mime-types/resources/generated-mime-types.py: Added.
        (isHTTPTokenCodePoint):
        (isHTTPQuotedStringTokenCodePoint):
        * web-platform-tests/mimesniff/mime-types/resources/mime-charset.py: Added.
        (main):
        * web-platform-tests/mimesniff/mime-types/resources/mime-types.json: Added.
        * web-platform-tests/mimesniff/mime-types/resources/w3c-import.log: Added.
        * web-platform-tests/mimesniff/mime-types/w3c-import.log: Added.
        * web-platform-tests/mimesniff/w3c-import.log: Added.
        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        MessageEvent.ports should return the same object
        https://bugs.webkit.org/show_bug.cgi?id=190151

        Reviewed by Darin Adler.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/webappapis/scripting/events/messageevent-constructor.https-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        radio / checkbox inputs should fire "click, input, change" events in order when clicked
        https://bugs.webkit.org/show_bug.cgi?id=190223

        Reviewed by Ryosuke Niwa.

        Rebaseline a few WPT tests that are now passing. I have verified that those are passing in Gecko and Blink
        as well.

        * web-platform-tests/html/semantics/forms/the-input-element/checkbox-click-events-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/checkbox-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/radio-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        fieldset.elements should return an HTMLCollection instead of an HTMLFormControlsCollection
        https://bugs.webkit.org/show_bug.cgi?id=190218

        Reviewed by Alex Christensen.

        Rebaseline existing WPT test now that it is passing.

        * web-platform-tests/html/semantics/forms/the-fieldset-element/HTMLFieldSetElement-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        Refresh imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh
        https://bugs.webkit.org/show_bug.cgi?id=190212

        Reviewed by Youenn Fablet.

        Refresh imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh
        from upstream f15449622a76d0.

        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/parsing-expected.txt:
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/parsing.html:
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/remove-from-document-expected.txt:
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/support/refresh.sub.html: Added.
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/support/w3c-import.log:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        Image.__proto__ should be Function.prototype, not HTMLElement.prototype
        https://bugs.webkit.org/show_bug.cgi?id=190216

        Reviewed by Alex Christensen.

        Rebaseline existing WPT test now that it is passing.

        * web-platform-tests/html/semantics/embedded-content/the-img-element/Image-constructor-expected.txt:

2018-10-01  Simon Pieters  <zcorpan@gmail.com>

        <form> in quirks mode should have margin-block-end: 1em
        https://bugs.webkit.org/show_bug.cgi?id=157788

        Reviewed by Simon Fraser.

        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/form-margin-quirk.html: Added.
        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/form-margin-quirk-expected.txt: Added.

2018-10-01  Rob Buis  <rbuis@igalia.com>

        Align XMLHttpRequest's overrideMimeType() with the standard
        https://bugs.webkit.org/show_bug.cgi?id=169276

        Reviewed by Chris Dumez.

        * web-platform-tests/xhr/overridemimetype-invalid-mime-type-expected.txt:

2018-10-01  Chris Dumez  <cdumez@apple.com>

        Make crossOriginObject.then undefined for promises
        https://bugs.webkit.org/show_bug.cgi?id=190094

        Reviewed by Darin Adler.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects-expected.txt:

2018-09-30  Walker Henderson  <wjahenderson@gmail.com>

        AudioNode.connect should return passed destination node
        https://bugs.webkit.org/show_bug.cgi?id=188834

        Reviewed by Eric Carlson.

        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/audionode-connect-return-value-expected.txt:

2018-09-29  Oriol Brufau  <obrufau@igalia.com>

        [css-grid] Properly align items next to collapsed tracks with gutters
        https://bugs.webkit.org/show_bug.cgi?id=190089

        Reviewed by Manuel Rego Casasnovas.

        Import grid-gutters-013.html and reference from WPT.

        Test: imported/w3c/web-platform-tests/css/css-grid/alignment/grid-gutters-013.html

        * web-platform-tests/css/css-grid/alignment/grid-gutters-013-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/grid-gutters-013.html: Added.

2018-09-28  Chris Dumez  <cdumez@apple.com>

        The return value of an OnBeforeUnloadEventHandler should always be coerced into a DOMString
        https://bugs.webkit.org/show_bug.cgi?id=190090

        Reviewed by Ryosuke Niwa.

        Rebaseline WPT test now that one more check is passing.

        * web-platform-tests/html/browsers/browsing-the-web/unloading-documents/beforeunload-canceling-expected.txt:

2018-09-28  Chris Dumez  <cdumez@apple.com>

        document.open() should throw errors for cross-origin calls
        https://bugs.webkit.org/show_bug.cgi?id=189371
        <rdar://problem/44282700>

        Reviewed by Youenn Fablet.

        Rebaseline existing WPT tests now that more checks are passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window-expected.txt:
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window-expected.txt:

2018-09-27  Andy Estes  <aestes@apple.com>

        [Payment Request] Update web platform tests
        https://bugs.webkit.org/show_bug.cgi?id=190049

        Reviewed by Youenn Fablet.

        Updated web-platform-tests/payment-request/ to tip-of-tree from web-platform-tests.

        * web-platform-tests/payment-request/MerchantValidationEvent/complete-method.https-expected.txt: Added.
        * web-platform-tests/payment-request/MerchantValidationEvent/complete-method.https.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/payment-request/MerchantValidationEvent/complete-method-manual.https.html.
        * web-platform-tests/payment-request/MerchantValidationEvent/constructor.https-expected.txt:
        * web-platform-tests/payment-request/MerchantValidationEvent/constructor.https.html:
        * web-platform-tests/payment-request/MerchantValidationEvent/w3c-import.log:
        * web-platform-tests/payment-request/PaymentAddress/attributes-and-toJSON-method-manual.https.html:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodDetails-attribute.https-expected.txt:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodDetails-attribute.https.html:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodName-attribute.https-expected.txt:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodName-attribute.https.html:
        * web-platform-tests/payment-request/PaymentValidationErrors/retry-shows-shippingAddress-member-manual.https.html:
        * web-platform-tests/payment-request/historical.https-expected.txt:
        * web-platform-tests/payment-request/historical.https.html:
        * web-platform-tests/payment-request/idlharness.https.window.js:
        * web-platform-tests/payment-request/payment-response/onpayerdetailchange-attribute-manual.https.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/payment-request/payment-response/onpayerdetailchange-attribute.manual.https.html.
        * web-platform-tests/payment-request/payment-response/w3c-import.log:

2018-09-27  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed, rolling out r236557.

        Really roll out r236557 this time because it breaks internal
        builds.

        Reverted changeset:

        "Add VP8 support to WebRTC"
        https://bugs.webkit.org/show_bug.cgi?id=189976
        https://trac.webkit.org/changeset/236557

2018-09-27  Chris Dumez  <cdumez@apple.com>

        Fragment should be stripped from document URL during document.open() URL propagation
        https://bugs.webkit.org/show_bug.cgi?id=189374
        <rdar://problem/44282736>

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window-expected.txt:

2018-09-27  Youenn Fablet  <youenn@apple.com>

        Add VP8 support to WebRTC
        https://bugs.webkit.org/show_bug.cgi?id=189976

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-addIceCandidate-expected.txt:

2018-09-27  Chris Dumez  <cdumez@apple.com>

        document.open() should not propagate URLs to non-fully active documents
        https://bugs.webkit.org/show_bug.cgi?id=189375
        <rdar://problem/44282755>

        Reviewed by Youenn Fablet.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window-expected.txt:

2018-09-27  Antoine Quint  <graouts@apple.com>

        [Web Animations] Turn Web Animations with CSS integration on
        https://bugs.webkit.org/show_bug.cgi?id=184819
        <rdar://problem/39597337>

        Reviewed by Dean Jackson.

        * web-platform-tests/css-timing-1/frames-timing-functions-output.html:
        * web-platform-tests/css/css-logical/animation-003.tentative.html:
        * web-platform-tests/css/css-scoping/keyframes-001.html:
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-context.html:
        * web-platform-tests/web-animations/interfaces/Animatable/animate.html:
        * web-platform-tests/web-animations/timing-model/animations/current-time.html:

2018-09-26  YUHAN WU  <yuhan_wu@apple.com>

        Video track clone cannot preserve original property
        https://bugs.webkit.org/show_bug.cgi?id=189872
        <rdar://problem/44706579>

        Reviewed by Youenn Fablet.

        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint-expected.txt:

2018-09-26  Alex Christensen  <achristensen@webkit.org>

        Unreviewed, rolling out r236524.

        Broke API tests

        Reverted changeset:

        "URLWithUserTypedString should return nil for URLs deemed to
        be invalid by WebCore::URL"
        https://bugs.webkit.org/show_bug.cgi?id=189979
        https://trac.webkit.org/changeset/236524

2018-09-26  Chris Dumez  <cdumez@apple.com>

        Ignore-opens-during-unload counter of a parent should apply to its children during beforeunload event
        https://bugs.webkit.org/show_bug.cgi?id=189376
        <rdar://problem/44282754>

        Reviewed by Ryosuke Niwa.

        Rebaseline existing test now that one more check is passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window-expected.txt:

2018-09-25  YUHAN WU  <yuhan_wu@apple.com>

        Implement MediaStreamTrack Content Hints
        https://bugs.webkit.org/show_bug.cgi?id=189262
        <rdar://problem/44101773>

        Reviewed by Youenn Fablet.

        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint-expected.txt:

2018-09-25  YUHAN WU  <yuhan_wu@apple.com>

        Import WPT content hint tests
        https://bugs.webkit.org/show_bug.cgi?id=189854

        Reviewed by Youenn Fablet.

        * web-platform-tests/mst-content-hint/idlharness.window-expected.txt: Added.

2018-09-24  Simon Fraser  <simon.fraser@apple.com>

        Remove filterRes parameter from SVG filters
        https://bugs.webkit.org/show_bug.cgi?id=129565
        <rdar://problem/44714340>

        Reviewed by Dean Jackson.
        
        Remove support for the "filterRes" attribute on SVG filters. It's marked as
        deprecated in https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-filterres
        and no longer supported by Chrome or Firefox.

        * web-platform-tests/html/syntax/parsing/html5lib_tests11-expected.txt: Rebaseline

2018-09-24  Justin Michaud  <justin_michaud@apple.com>

        Import WPT tests for css custom properties api
        https://bugs.webkit.org/show_bug.cgi?id=189764

        Reviewed by Ryosuke Niwa.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-properties-values-api/META.yml: Added.
        * web-platform-tests/css/css-properties-values-api/idlharness-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/idlharness.html: Added.
        * web-platform-tests/css/css-properties-values-api/property-cascade-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/property-cascade.html: Added.
        * web-platform-tests/css/css-properties-values-api/register-property-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing.html: Added.
        * web-platform-tests/css/css-properties-values-api/register-property.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-computation-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-computation.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-initial-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-initial.html: Added.
        * web-platform-tests/css/css-properties-values-api/support/alt/alt.css: Added.
        (#target):
        * web-platform-tests/css/css-properties-values-api/support/alt/alt.js: Added.
        (reg_url):
        * web-platform-tests/css/css-properties-values-api/support/alt/w3c-import.log: Added.
        * web-platform-tests/css/css-properties-values-api/support/main/main.css: Added.
        (#target):
        * web-platform-tests/css/css-properties-values-api/support/main/main.js: Added.
        (reg_url):
        * web-platform-tests/css/css-properties-values-api/support/main/main.utf16be.css: Added.
        * web-platform-tests/css/css-properties-values-api/support/main/w3c-import.log: Added.
        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/typedom.tentative.html: Added.
        * web-platform-tests/css/css-properties-values-api/unit-cycles-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/unit-cycles.html: Added.
        * web-platform-tests/css/css-properties-values-api/url-resolution-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/url-resolution.html: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles.html: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties.html: Added.
        * web-platform-tests/css/css-properties-values-api/w3c-import.log: Added.

2018-09-24  Chris Dumez  <cdumez@apple.com>

        No-op document.open() calls should not have any side effects
        https://bugs.webkit.org/show_bug.cgi?id=189373
        <rdar://problem/44282702>

        Reviewed by Geoffrey Garen.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window-expected.txt:

2018-09-24  Chris Dumez  <cdumez@apple.com>

        Import html/webappapis/dynamic-markup-insertion WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=189863

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * resources/resource-files.json:
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/closing-the-input-stream/document.close-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/closing-the-input-stream/document.close-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/closing-the-input-stream/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/001-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/001.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/003-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/003.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/005-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/005.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/005.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/006.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/007-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/007.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/007.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008-1.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/009-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/009.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010-1.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011-1.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/012-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/012.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/012.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/013-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/013.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/013.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/014-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/014.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/015-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/015.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/016-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/016.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/017-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/017.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/018-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/018.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/019-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/019.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/020-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/020.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/021-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/021.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/022-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/022.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/023-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/023.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/024-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/024.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/025-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/025.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/026-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/026.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/027-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/027.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/028-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/028.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/029-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/029.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/030-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/030.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/031-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/031.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/032-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/032.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/033-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/033.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/034-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/034.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/035-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/035.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/036-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/036.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/037-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/037.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/038-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/038.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/039-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/039.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/040-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/040.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/041-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/041.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/042-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/042.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/043-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/043.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/044-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/044.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/045-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/045.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/046-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/046.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/047-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/047.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/048-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/048.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/049-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/049.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/050-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/050.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/051-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/051.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/contentType.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/contentType.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/contentType.window.js: Added.
        (string_appeared_here.forEach.val.async_test.t.frame.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-02-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-02.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/empty.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_001-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_001.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_003-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_003.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_005-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_005.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_005.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_007-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_007.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_008-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_008.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_009-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_009.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_010-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_010.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/nested-document-write-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/nested-document-write-2.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/nested-document-write-external.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/original-id.json: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_001-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_001.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_003-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_003.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_005-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_005.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_007-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_007.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_008-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_008.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_009-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_009.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_010-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_010.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_011-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_011.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_012-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_012.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_013-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_013.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/write-active-document-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/write-active-document.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-02-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-02.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-03-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-03.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/original-id.json: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/011-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/011-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/011.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/012-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/012-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/012.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/013-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/013-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/013.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/014-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/014-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/014.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/015-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/015-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/015.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/016-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/016-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/016.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-immediate.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-immediate.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-immediate.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-header.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-header.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-header.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-meta.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-meta.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-meta.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-while-navigating.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-while-navigating.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-while-navigating.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        (async_test.t.t.step_timeout):
        (async_test.t.t.step_timeout.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort.sub.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort.sub.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort.sub.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/aborted-parser.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/aborted-parser.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/aborted-parser.window.js: Added.
        (async_test.t.window.handlers.afterOpen.t.step_func_done):
        (async_test.t.window.handlers.afterOpenAsync.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/active.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/active.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/active.window.js: Added.
        (assertOpenIsEffective):
        (async_test.t.frame.onload.t.step_func):
        (async_test.t.xhr.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window.js: Added.
        (setEntryToTopLevel):
        (async_test.t.t.add_cleanup):
        (async_test.t.iframe.onload.t.step_func_done):
        (async_test.t.window.onCustomElementReady.t.step_func):
        (async_test.t.self.testSynchronousScript.t.step_func):
        (string_appeared_here.async_test.t.t.add_cleanup):
        (string_appeared_here.async_test.t.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-xml.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-xml.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-xml.window.js: Added.
        (async_test.t.t.add_cleanup):
        (async_test.t.self.testSynchronousScript.t.step_func_done):
        (string_appeared_here.async_test.t.t.add_cleanup):
        (string_appeared_here.async_test.t.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-ignore-opens-during-unload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-ignore-opens-during-unload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-ignore-opens-during-unload.window.js: Added.
        (string_appeared_here.async_test.t.iframe.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window.js: Added.
        (async_test.t.self.testSynchronousScript.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-xml.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-xml.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-xml.window.js: Added.
        (async_test.t.iframe.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/beforeunload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/beforeunload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/beforeunload.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/custom-element.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/custom-element.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/custom-element.window.js: Added.
        (CustomElement):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-02-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-02.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-03-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-03-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-03.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/encoding.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/encoding.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/encoding.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/event-listeners.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/event-listeners.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/event-listeners.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        (test.t.const.winListener.t.step_func):
        (test.t.t.add_cleanup):
        (test.t.const.bodyListener.t.step_func):
        (async_test.t.xhr.onload.t.step_func_done):
        (test.t.t.step_func):
        (test.t.thrower.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history-state.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history-state.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history-state.window.js: Added.
        (async_test.t.iframe.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history.window.js: Added.
        (window.onFrameLoaded.t.step_func):
        (window.onDocumentOpen.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window.js: Added.
        (async_test.t.iframe.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-events.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-events.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-events.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-observer.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-observer.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-observer.window.js: Added.
        (async_test.t.t.add_cleanup):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/no-new-global.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/no-new-global.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/no-new-global.window.js: Added.
        (async_test.t.frame.onload.t.step_func_done):
        (testIdentity):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-basic-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-basic.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-same-origin-domain.sub-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-same-origin-domain.sub.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/quirks.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/quirks.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/quirks.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/readiness.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/readiness.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/readiness.window.js: Added.
        (async_test.t.t.add_cleanup):
        (async_test.t.frame.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/reload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/reload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/reload.window.js: Added.
        (window.name.string_appeared_here.async_test.t.t.add_cleanup):
        (window.name.string_appeared_here.async_test.t.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/aborted-parser-async-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/aborted-parser-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-custom-element-with-domain-frame.sub.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-synchronous-script-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-synchronous-script-with-domain-frame.sub.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-xml-with-domain-frame.sub.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-xml-with-synchronous-script-frame.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/document-open-side-effects.js: Added.
        (assertDocumentIsReadyForSideEffectsTest):
        (assertOpenHasNoSideEffects):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/dummy.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/encoding-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/global-variables-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/history-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/http-refresh.py: Added.
        (main):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/meta-refresh.py: Added.
        (main):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/page-with-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/set-document-domain.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/slow-png.py: Added.
        (main):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/url-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/tasks.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/tasks.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/tasks.window.js: Added.
        (taskTest):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext-subframe.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext.window.js: Added.
        (string_appeared_here.forEach.type.async_test.t.frame.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/unload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/unload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/unload.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window.js: Added.
        (async_test.t.t.add_cleanup):
        (async_test.t.self.onhashchange.t.step_func_done):
        (async_test.t.const.frame.document.body.appendChild.document.createElement.string_appeared_here.t.add_cleanup):
        (async_test.t.window.testDone.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/w3c-import.log: Added.

2018-09-24  Yoav Weiss  <yoav@yoav.ws>

        Import WPT resource-timing tests
        https://bugs.webkit.org/show_bug.cgi?id=189903

        Reviewed by Youenn Fablet.

        * web-platform-tests/resource-timing/META.yml: Added.
        * web-platform-tests/resource-timing/OWNERS: Removed.
        * web-platform-tests/resource-timing/clear_resource_timing_functionality.html: Added.
        * web-platform-tests/resource-timing/clear_resource_timing_functionality-expected.txt: Added.
        * web-platform-tests/resource-timing/idlharness.any.html: Added.
        * web-platform-tests/resource-timing/idlharness.any-expected.txt: Added.
        * web-platform-tests/resource-timing/idlharness.any.js: Added.
        (idl_array.catch):
        * web-platform-tests/resource-timing/idlharness.any.worker.html: Added.
        * web-platform-tests/resource-timing/idlharness.any.worker-expected.txt: Added.
        * web-platform-tests/resource-timing/idlharness.html: Removed.
        * web-platform-tests/resource-timing/resource-timing-tojson.html: Added.
        * web-platform-tests/resource-timing/resource-timing-tojson-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain.html: Added.
        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_TAO_match_origin.htm:
        * web-platform-tests/resource-timing/resource_TAO_match_origin-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_match_wildcard.htm:
        * web-platform-tests/resource-timing/resource_TAO_match_wildcard-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_multi.htm:
        * web-platform-tests/resource-timing/resource_TAO_multi-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_multi_wildcard.html: Copied from LayoutTests/imported/w3c/web-platform-tests/resource-timing/resource_TAO_multi.htm.
        * web-platform-tests/resource-timing/resource_TAO_multi_wildcard-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_TAO_null.htm:
        * web-platform-tests/resource-timing/resource_TAO_null-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_origin_uppercase.htm:
        * web-platform-tests/resource-timing/resource_TAO_origin_uppercase-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_space.htm:
        * web-platform-tests/resource-timing/resource_TAO_space-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_wildcard.htm:
        * web-platform-tests/resource-timing/resource_TAO_wildcard-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_dedicated_worker.html: Added.
        * web-platform-tests/resource-timing/resource_dedicated_worker-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_ignore_data_url.html: Added.
        * web-platform-tests/resource-timing/resource_ignore_data_url-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_ignore_failures.html: Added.
        * web-platform-tests/resource-timing/resource_ignore_failures-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_initiator_types.html: Added.
        * web-platform-tests/resource-timing/resource_initiator_types-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_memory_cached.sub.html: Added.
        * web-platform-tests/resource-timing/resource_memory_cached.sub-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_redirects.html: Added.
        * web-platform-tests/resource-timing/resource_redirects-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_reparenting.html: Added.
        * web-platform-tests/resource-timing/resource_reparenting-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_script_types.html: Added.
        * web-platform-tests/resource-timing/resource_script_types-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_subframe_self_navigation.html: Added.
        * web-platform-tests/resource-timing/resource_subframe_self_navigation-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing.worker.html: Added.
        * web-platform-tests/resource-timing/resource_timing.worker-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing.worker.js: Added.
        (check):
        (async_test.t.then):
        * web-platform-tests/resource-timing/resource_timing_TAO_cross_origin_redirect.html: Added.
        * web-platform-tests/resource-timing/resource_timing_TAO_cross_origin_redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_eventually.html: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_eventually-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_populate_entries.html: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_populate_entries-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_shrink_buffer_size.html: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_shrink_buffer_size-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect.html: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect_chain.html: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect_chain-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_same_origin_redirect.html: Added.
        * web-platform-tests/resource-timing/resource_timing_same_origin_redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_store_and_clear_during_callback.html: Added.
        * web-platform-tests/resource-timing/resource_timing_store_and_clear_during_callback-expected.txt: Added.
        * web-platform-tests/resource-timing/resources/TAOResponse.py:
        (main):
        * web-platform-tests/resource-timing/resources/all_resource_types.htm: Added.
        * web-platform-tests/resource-timing/resources/blank_page_green.htm: Added.
        * web-platform-tests/resource-timing/resources/empty.js: Added.
        * web-platform-tests/resource-timing/resources/empty.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/empty_script.js: Added.
        * web-platform-tests/resource-timing/resources/eventsource.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/green_frame.htm: Added.
        * web-platform-tests/resource-timing/resources/iframe_TAO_multi_wildcard.html: Added.
        * web-platform-tests/resource-timing/resources/multi_redirect.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/nested.css: Added.
        (@import "resource_timing_test0.css?id=n1";):
        (ol):
        * web-platform-tests/resource-timing/resources/notify_parent.html: Added.
        * web-platform-tests/resource-timing/resources/self_navigation.html: Added.
        * web-platform-tests/resource-timing/resources/w3c-import.log:
        * web-platform-tests/resource-timing/resources/worker_with_images.js: Added.
        (checkDone):
        (makeRequest.xhr.onreadystatechange):
        (makeRequest):
        * web-platform-tests/resource-timing/w3c-import.log:

2018-09-21  Dean Jackson  <dino@apple.com>

        Add PointerEvent, plus feature flag, plus Web Platform Tests
        https://bugs.webkit.org/show_bug.cgi?id=189867
        <rdar://problem/44697384>

        Reviewed by Simon Fraser.

        Import the Web Platform Tests for Pointer Events.

        * resources/import-expectations.json:
        * web-platform-tests/pointerevents/META.yml: Added.
        * web-platform-tests/pointerevents/README.md: Added.
        * web-platform-tests/pointerevents/extension/idlharness.window-expected.txt: Added.
        * web-platform-tests/pointerevents/extension/idlharness.window.html: Added.
        * web-platform-tests/pointerevents/extension/idlharness.window.js: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_constructor-expected.txt: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_constructor.html: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_touch-action-verification-expected.txt: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_touch-action-verification.html: Added.
        * web-platform-tests/pointerevents/extension/w3c-import.log: Added.
        * web-platform-tests/pointerevents/idlharness.window-expected.txt: Added.
        * web-platform-tests/pointerevents/idlharness.window.html: Added.
        * web-platform-tests/pointerevents/idlharness.window.js: Added.
        * web-platform-tests/pointerevents/pointerevent_constructor-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_constructor.html: Added.
        * web-platform-tests/pointerevents/pointerevent_on_event_handlers-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_on_event_handlers.html: Added.
        * web-platform-tests/pointerevents/pointerevent_styles.css: Added.
        * web-platform-tests/pointerevents/pointerevent_support.js: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-illegal-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-illegal.html: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-verification-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-verification.html: Added.
        * web-platform-tests/pointerevents/pointerlock/resources/pointerevent_movementxy-iframe.html: Added.
        * web-platform-tests/pointerevents/pointerlock/resources/w3c-import.log: Added.
        * web-platform-tests/pointerevents/resources/pointerevent_attributes_hoverable_pointers-iframe.html: Added.
        * web-platform-tests/pointerevents/resources/pointerevent_fractional_coordinates-iframe.html: Added.
        * web-platform-tests/pointerevents/resources/pointerevent_pointerId_scope-iframe.html: Added.
        * web-platform-tests/pointerevents/resources/w3c-import.log: Added.
        * web-platform-tests/pointerevents/w3c-import.log: Added.

2018-09-21  YUHAN WU  <yuhan_wu@apple.com>

        Import WPT content hint tests
        https://bugs.webkit.org/show_bug.cgi?id=189854

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/mst-content-hint/META.yml: Added.
        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint-expected.txt: Added.
        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint.html: Added.
        * web-platform-tests/mst-content-hint/idlharness.window.html: Added.
        * web-platform-tests/mst-content-hint/idlharness.window.js: Added.
        * web-platform-tests/mst-content-hint/w3c-import.log: Added.

2018-09-21  Youenn Fablet  <youenn@apple.com>

        Add RTCCodecStats support
        https://bugs.webkit.org/show_bug.cgi?id=189792
        <rdar://problem/32370668>

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-addIceCandidate-expected.txt:
        * web-platform-tests/webrtc/RTCRtpReceiver-getStats.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpSender-getStats.https-expected.txt:

2018-09-20  Frederic Wang  <fwang@igalia.com>

        Synchronize CSSOM View test suite against upstream WPT
        https://bugs.webkit.org/show_bug.cgi?id=189787

        Reviewed by Antonio Gomes.

        * web-platform-tests/css/cssom-view/META.yml: Added.
        * web-platform-tests/css/cssom-view/OWNERS: Removed.
        * web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-vertical-rl-expected.html: Added.
        * web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-vertical-rl.html: Added.
        * web-platform-tests/css/cssom-view/cssom-view-window-screen-interface-expected.txt:
        * web-platform-tests/css/cssom-view/cssom-view-window-screen-interface.html:
        * web-platform-tests/css/cssom-view/dom-element-scroll-expected.txt: Added.
        * web-platform-tests/css/cssom-view/dom-element-scroll.html: Added.
        * web-platform-tests/css/cssom-view/elementFromPoint-mixed-font-sizes-expected.txt: Added.
        * web-platform-tests/css/cssom-view/elementFromPoint-mixed-font-sizes.html: Added.
        * web-platform-tests/css/cssom-view/interfaces-expected.txt:
        * web-platform-tests/css/cssom-view/interfaces.html:
        * web-platform-tests/css/cssom-view/media-query-list-interface-expected.txt: Removed.
        * web-platform-tests/css/cssom-view/media-query-list-interface.xht: Removed.
        * web-platform-tests/css/cssom-view/resources/w3c-import.log:
        * web-platform-tests/css/cssom-view/scroll-behavior-default-css-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-default-css.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-element-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-element.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-root-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-root.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-window-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-window.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-scrollintoview-nested-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-scrollintoview-nested.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-smooth-positions-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-smooth-positions.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-root-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-root.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-window-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-window.html: Added.
        * web-platform-tests/css/cssom-view/scrollIntoView-vertical-rl-writing-mode-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scrollIntoView-vertical-rl-writing-mode.html: Added.
        * web-platform-tests/css/cssom-view/support/scroll-behavior.js: Added.
        (observeScrolling):
        (waitForScrollEnd):
        (scrollNode):
        (scrollWindow):
        * web-platform-tests/css/cssom-view/support/support/w3c-import.log:
        * web-platform-tests/css/cssom-view/support/w3c-import.log:
        * web-platform-tests/css/cssom-view/table-client-props-expected.txt: Added.
        * web-platform-tests/css/cssom-view/table-client-props.html: Added.
        * web-platform-tests/css/cssom-view/table-offset-props-expected.txt: Added.
        * web-platform-tests/css/cssom-view/table-offset-props.html: Added.
        * web-platform-tests/css/cssom-view/table-scroll-props-expected.txt: Added.
        * web-platform-tests/css/cssom-view/table-scroll-props.html: Added.
        * web-platform-tests/css/cssom-view/w3c-import.log:
        * web-platform-tests/css/cssom-view/window-interface-expected.txt: Removed.
        * web-platform-tests/css/cssom-view/window-interface.xht: Removed.

2018-09-19  YUHAN WU  <yuhan_wu@apple.com>

        MediaStream-MediaElement-srcObject.https.html expects video duration for a MediaStream to be Infinity and is currently NaN
        https://bugs.webkit.org/show_bug.cgi?id=189516

        Reviewed by Youenn Fablet.

        * web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https.html:
        * web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https-expected.txt:

2018-09-19  Youenn Fablet  <youenn@apple.com>

        Implement sender/receiver getStats
        https://bugs.webkit.org/show_bug.cgi?id=189707

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpReceiver-getStats.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpSender-getStats.https-expected.txt:

2018-09-18  Youenn Fablet  <youenn@apple.com>

        Implement RTCRtpReceiver getContributingSources/getSynchronizationSources
        https://bugs.webkit.org/show_bug.cgi?id=189671

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpReceiver-getContributingSources.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpReceiver-getSynchronizationSources.https-expected.txt:
        * web-platform-tests/webrtc/interfaces-expected.txt: Removed, as no longer needed.

2018-09-18  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-grid] Static position should use content-box, not padding-box
        https://bugs.webkit.org/show_bug.cgi?id=189698

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-grid/abspos/absolute-positioning-grid-container-parent-001.html:
        Update tests from WPT.

2018-09-12  Ryosuke Niwa  <rniwa@webkit.org>

        Update composedPath to match the latest spec
        https://bugs.webkit.org/show_bug.cgi?id=180378
        <rdar://problem/42843004>

        Reviewed by Darin Adler.

        Rebaselined the test now that all test cases pass.

        * web-platform-tests/shadow-dom/event-composed-path-after-dom-mutation-expected.txt:

2018-09-15  Rob Buis  <rbuis@igalia.com>

        XMLHttpRequest::createResponseBlob() should create a Blob with type for empty response
        https://bugs.webkit.org/show_bug.cgi?id=189627

        Reviewed by Alexey Proskuryakov.

        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2018-09-14  Ms2ger  <Ms2ger@igalia.com>

        Remove some obsolete XHR tests
        https://bugs.webkit.org/show_bug.cgi?id=189581

        Reviewed by Youenn Fablet.

        These tests were removed upstream, but stuck around in WebKit.

        * web-platform-tests/xhr/OWNERS: Removed.
        * web-platform-tests/xhr/abort-during-open-expected.txt: Removed.
        * web-platform-tests/xhr/abort-during-open.htm: Removed.
        * web-platform-tests/xhr/abort-during-open.js: Removed.
        * web-platform-tests/xhr/abort-during-open.worker-expected.txt: Removed.
        * web-platform-tests/xhr/abort-during-open.worker.html: Removed.
        * web-platform-tests/xhr/abort-during-open.worker.js: Removed.
        * web-platform-tests/xhr/getallresponseheaders-cl-expected.txt: Removed.
        * web-platform-tests/xhr/getallresponseheaders-cl.htm: Removed.
        * web-platform-tests/xhr/interfaces-expected.txt: Removed.
        * web-platform-tests/xhr/interfaces.html: Removed.
        * web-platform-tests/xhr/open-url-bogus-expected.txt: Removed.
        * web-platform-tests/xhr/open-url-bogus.htm: Removed.
        * web-platform-tests/xhr/overridemimetype-done-state-expected.txt: Removed.
        * web-platform-tests/xhr/overridemimetype-done-state.htm: Removed.
        * web-platform-tests/xhr/readme.txt: Removed.
        * web-platform-tests/xhr/responsetype-expected.txt: Removed.
        * web-platform-tests/xhr/responsetype.html: Removed.
        * web-platform-tests/xhr/send-non-same-origin.sub-expected.txt: Removed.
        * web-platform-tests/xhr/send-non-same-origin.sub.htm: Removed.
        * web-platform-tests/xhr/send-send-expected.txt: Removed.
        * web-platform-tests/xhr/send-send.htm: Removed.
        * web-platform-tests/xhr/send-send.js: Removed.
        * web-platform-tests/xhr/send-send.worker-expected.txt: Removed.
        * web-platform-tests/xhr/send-send.worker.html: Removed.
        * web-platform-tests/xhr/send-send.worker.js: Removed.
        * web-platform-tests/xhr/send-usp-expected.txt: Removed.
        * web-platform-tests/xhr/send-usp.html: Removed.
        * web-platform-tests/xhr/send-usp.js: Removed.

2018-09-12  Ryosuke Niwa  <rniwa@webkit.org>

        Capturing event listeners are called during bubbling phase for shadow hosts
        https://bugs.webkit.org/show_bug.cgi?id=174288

        Reviewed by Darin Adler.

        * web-platform-tests/dom/events/Event-dispatch-handlers-changed-expected.txt: Rebaselined. This test's
        expectation is now wrong because event listner 3 is added after the event listener list is cloned for
        capturing event listeners but before cloned for bubbling event listeners. As a result, event listener 3
        is now invoked. It used to be not called because both bubbling and capturing event listeners are called
        after cloning the event listner list once, which didn't have event listener 3.

        * web-platform-tests/dom/events/EventTarget-dispatchEvent-expected.txt: Rebaselined. This test expects
        event listener 2, which is bubbling, to be called between two capturing event listeners 1 and 3, which
        is no longer true after this patch.

2018-09-12  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline imported/w3c/web-platform-tests/url/failure.html after r235808.

        New checks are passing.

        * web-platform-tests/url/failure-expected.txt:

2018-09-11  Dean Jackson  <dino@apple.com>

        Header parsing for experimental and internal debug features
        https://bugs.webkit.org/show_bug.cgi?id=189486
        <rdar://problem/44320618>

        Reviewed by Tim Horton.

        New webkit-test-runner headers.

        * web-platform-tests/css-timing-1/frames-timing-functions-output.html:
        * web-platform-tests/media-source/mediasource-changetype-play.html:
        * web-platform-tests/media-source/mediasource-changetype.html:
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-context.html:
        * web-platform-tests/web-animations/interfaces/Animatable/animate.html:
        * web-platform-tests/web-animations/interfaces/Animation/ready.html:
        * web-platform-tests/web-animations/timing-model/animations/current-time.html:
        * web-platform-tests/web-animations/timing-model/animations/playing-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/reversing-an-animation.html:

2018-09-12  YUHAN WU  <yuhan_wu@apple.com>

        Import media recorder api WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=189526

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/mediacapture-record/BlobEvent-constructor-expected.txt: Added.
        * web-platform-tests/mediacapture-record/BlobEvent-constructor.html: Added.
        * web-platform-tests/mediacapture-record/META.yml: Added.
        * web-platform-tests/mediacapture-record/idlharness.window-expected.txt: Added.
        * web-platform-tests/mediacapture-record/idlharness.window.html: Added.
        * web-platform-tests/mediacapture-record/idlharness.window.js: Added.
        (idl_array.catch):
        * web-platform-tests/mediacapture-record/w3c-import.log: Added.

2018-09-12  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Implement rootMargin expansion
        https://bugs.webkit.org/show_bug.cgi?id=189525

        Reviewed by Simon Fraser.

        Rebasline expectation for test that now passes.

        * web-platform-tests/intersection-observer/root-margin-expected.txt:

2018-09-11  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Update WPTs to the latest upstream version
        https://bugs.webkit.org/show_bug.cgi?id=189515

        Reviewed by Youenn Fablet.

        * web-platform-tests/intersection-observer/initial-observation-with-threshold-expected.txt: Added.
        * web-platform-tests/intersection-observer/initial-observation-with-threshold.html: Added.
        * web-platform-tests/intersection-observer/resources/intersection-observer-test-utils.js:
        (waitForNotification):
        * web-platform-tests/intersection-observer/w3c-import.log:

2018-09-11  Youenn Fablet  <youenn@apple.com>

        Remove MediaDevices NoInterfaceObject
        https://bugs.webkit.org/show_bug.cgi?id=189512

        Reviewed by Alex Christensen.

        * web-platform-tests/mediacapture-streams/MediaDevices-IDL-all-expected.txt:
        * web-platform-tests/mediacapture-streams/MediaDevices-IDL-enumerateDevices-expected.txt:

2018-09-11  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline imported/w3c/web-platform-tests/css/cssom/interfaces.html after r235889.

        * web-platform-tests/css/cssom/interfaces-expected.txt:

== Rolled over to ChangeLog-2018-09-11 ==
